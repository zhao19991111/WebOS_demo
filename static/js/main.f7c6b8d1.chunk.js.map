{"version":3,"sources":["api/gapi/index.jsx","styles/index.js","api/requests/auth.jsx","api/requests/app.jsx","structures/file.jsx","structures/directory.jsx","structures/app.jsx","segments/FileSystem/index.jsx","api/requests/fs.jsx","api/requests/user.jsx","api/requests/sd.jsx","api/requests/index.jsx","segments/WindowManager/index.jsx","components/AppIcon/style.js","components/AppIcon/index.jsx","components/EntryList/style.js","components/EntryList/index.jsx","components/PopUpMenu/style.js","components/PopUpMenu/index.jsx","widgets/TouchableOpacity/styles.jsx","widgets/TouchableOpacity/index.jsx","widgets/Button/index.jsx","widgets/Modal/style.js","widgets/Modal/index.jsx","components/GoogleAuthModal/index.jsx","components/FileExplorerGUI/style.js","components/FileExplorerGUI/index.jsx","components/Window/style.js","components/Draggable/index.jsx","components/Resizeable/style.js","components/Resizeable/index.jsx","components/Window/index.jsx","components/WindowedFileExplorer/index.jsx","components/SysAppExplorerGUI/style.js","systemApplications/TrashBin/index.jsx","systemApplications/AppViewer/index.jsx","components/SelectBar/index.jsx","systemApplications/Clock/styles.jsx","systemApplications/Clock/clock.jsx","systemApplications/Clock/index.jsx","systemApplications/Notes/styles.jsx","widgets/TextInput/index.jsx","systemApplications/Notes/notes.jsx","systemApplications/Notes/index.jsx","systemApplications/Setting/styles.jsx","systemApplications/Setting/setting.jsx","systemApplications/Setting/index.jsx","components/SysAppExplorerGUI/index.jsx","components/IDE/style.js","components/CodeEditor/style.js","components/CodeEditor/index.jsx","components/FileExplorer/style.js","components/FileExplorer/index.jsx","components/WebView/style.js","components/WebView/index.jsx","components/ResizeBar/index.jsx","components/ConsoleEditor/style.js","components/ConsoleEditor/index.jsx","components/IDE/index.jsx","components/ImageUploader/style.js","components/ImageUploader/index.jsx","components/InstallModal/style.js","components/InstallModal/index.jsx","components/MenuBar/style.js","components/SearchBar/style.js","components/SearchBar/index.jsx","components/MenuBar/index.jsx","components/AppExplorerGUI/style.js","components/AppExplorerGUI/index.jsx","components/FileEditor/style.js","components/FileEditor/index.jsx","components/MediaView/index.jsx","components/AppView/index.jsx","background/Night.jpg","background/Lake.jpg","background/Town.jpg","background/Boat.jpg","segments/Desktop/index.jsx","executables/utils.jsx","executables/fs.jsx","executables/index.jsx","segments/SystemAPI/index.jsx","segments/Home/index.jsx","segments/Login/style.js","segments/Login/index.jsx","components/Loading/index.jsx","components/Cursor/index.jsx","App.js","index.js","config.js","utils.js"],"names":["GoogleAuth","styles","fullScreenContainer","display","position","top","left","right","bottom","justifyContent","alignItems","overflow","row","flexDirection","column","hfull","width","vfull","height","initDrive","a","Promise","res","rej","window","gapi","load","callback","onerror","client","init","apiKey","googleAPI","API_KEY","client_id","CLIENT_ID","scope","discoveryDocs","auth2","getAuthInstance","console","log","isSignedIn","get","listenAuthState","func","listen","handleAuth","signIn","handleSignOut","signOut","checkFolder","drive","files","list","q","fields","spaces","folders","result","length","error","folderId","id","metadata","name","mimeType","create","resource","createDriveFile","blob","parents","form","FormData","append","Blob","JSON","stringify","type","accessToken","currentUser","getAuthResponse","access_token","fetch","method","headers","Headers","Authorization","body","json","fileId","getDriveFile","permissions","role","fileUrl","webViewLink","deleteDriveFile","delete","signUpUser","userName","email","password","userType","self","validEmail","setLoginErrMsg","validUserName","validPassword","host","credentials","response","status","errorRes","setState","state","userId","data","_id","userInfo","successRes","errMsgs","login","errMsg","signOutUser","localMode","signInUser","initial","sleep","setLoading","alert","handleInstallApp","hash","shareApp","appName","authorName","fileSize","iconUrl","fs","fileSystem","raw","getFile","getData","installNewApp","props","authorId","size","text","File","parent","ext","extra","this","TYPES","FILE","Directory","children","DIR","Object","keys","App","icon","appData","APP","key","value","defaultRawData","dirs","root","bin","apps","FileSystem","rawData","saveCallBacks","reportError","cleanUpDriveFile","file","getExtra","dirData","fileData","dirNodes","fileNodes","appNodes","dir","app","saveData","onRemove","onInstall","getName","getHash","getParent","getChildren","getType","getExt","getIcon","getAppData","outputRawData","meta","push","retrieveDirectoryContent","values","child","isDir","isFile","path","shift","currentDirHash","currentDirName","getChildByName","getMetaData","currentHash","node","reverse","selfHash","siblings","childName","checkName","checkDirectoryName","newHash","UUID","newDir","addChild","undefined","checkFileName","newFile","newApp","removed","moveNode","getChild","deepRemoveDirectory","deepRemoveFile","getDirectory","removeChild","onDrive","childNodes","parentNode","getDirectorySize","destination","changeParent","getStorage","setStorage","changeName","loadFileSystem","setDataChanged","bind","syncFileSystem","saved","updateUserInfo","info","getSystemData","systemData","setSystemData","sd","authHandler","appHandler","fsHandler","userHandler","sdHandler","WindowTypes","WindowManager","windows","saveCallBack","explorers","media","processWindows","explorer","index","splice","getWindow","deleteWindow","addWindow","iconStyles","container","color","themeColors","contentTextColor","padding","borderRadius","backgroundColor","transparentBlack","boxShadow","margin","input","fontSize","flex","fontFamily","textShadow","outline","border","optionTextColor","textAlign","whiteSpace","AppIcon","nameOnChange","onClick","onRightClick","setNameOnChange","saveName","nameChangable","draggable","onDragStart","onDragEnd","scale","useState","_name","style","zoom","onContextMenu","onMouseOver","e","target","opacity","onMouseOut","autoFocus","onFocus","select","onChange","spellCheck","onKeyDown","lString","listStyles","entry","Row","entryStyle","rowHeight","_value","changeValue","contextFunc","valueOnChange","enterFunc","cancelFunc","content","EntryList","rows","entries","map","containerStyle","React","Component","menuStyle","optionColor","option","PopUpMenu","cursor","TouchableOpacity","Button","contentColor","textContainer","fontWeight","leftButton","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","rightButton","Modal","leftText","leftFunc","rightText","rightFunc","ModalStyles","transparentWhite","GoogleAuthModal","setModalOn","useEffect","signedIn","GUIStyle","section","maxWidth","minWidth","transition","title","appBar","alignSelf","flexWrap","FileExplorerGUI","handleDrop","preventDefault","dataTransfer","fileName","split","fileType","getFileType","FileTypes","UNKNOWN","TXT","XML","CSS","JS","blobToTxt","IMG","VID","blobToBase64","DOC","XLS","PPT","uploadDriveFunc","fileRes","urlRes","setGoogleModalOn","createNewFile","currentDirectory","reloadCurrentContent","currentContent","popUpOn","popUpPosition","popUpEntries","googleModalOn","changeCurrentDirectory","createFile","createDirectory","setPopUp","closePopUp","handleAppClick","handleAppContextMenu","handleAppDrag","addSaveCallBack","setOnRemove","modalOn","createNewDirectory","isBin","deepRemoveNode","removeNode","removeEventListener","x","y","changeFileName","changeDirectoryName","addCurrentFile","addCurrentWindow","setData","addEventListener","stopPropagation","clientX","clientY","deleteNode","addCurrentConsole","setCodeEditorRoot","openWindow","setInstallHash","iconSize","ArrowLeftOutlined","red","FolderOpenTwoTone","twoToneColor","yellow","FileImageTwoTone","VideoCameraTwoTone","FileMarkdownTwoTone","CodeTwoTone","FileWordTwoTone","FilePptTwoTone","FileExcelTwoTone","FileTextTwoTone","handleBinContextMenu","dragEffect","PlusOutlined","green","Math","floor","dims","onDragOver","onDrop","handleExplorerContextMenu","windowStyle","panel","paddingLeft","controlBtn","Draggable","headerRef","changePosition","onFinishDrag","useRef","_window","dragElement","useCallback","ele","current","event","currentX","max","min","innerWidth","currentY","innerHeight","diffLeft","diffTop","offsetTop","offsetLeft","touchDragElement","touches","closeDragElement","iframes","document","getElementsByTagName","pointerEvents","closeTouchDragElement","dragMouseDown","dragTouchStart","ref","resizeableStyle","frame","backgroundTheme","resizerR","resizerB","Resizeable","resizeable","screenMode","onResize","initWidth","initHeight","minHeight","onFinishResize","_frame","setTimeout","resizeMouseDown","resizeTouchStart","resizeElement","closeResizeElement","touchResizeElement","dx","dy","newWidth","newHeight","Number","replace","closeTouchResizeElement","getComputedStyle","parseInt","Window","onCancel","changeScreenMode","posY","changeY","posX","changeX","highlight","unhighlight","changeMode","diff","MinusOutlined","CloseOutlined","windowBackground","zIndex","WindowedFileExplorer","resizeWindow","closeWindow","closeCurrentWindow","closeCurrentFile","saveCurrentFile","sysAppExplorerStyles","TrashBin","open","setOpen","DeleteOutlined","AppViewer","toggleAppExplorer","AppstoreOutlined","SelectBar","radius","selectIndex","dots","i","manuBar","component","optionBtn","full","alarmRow","alarmText","alarmBtn","ClockModes","OptionBtn","ClockComp","clockIndex","setClockIndex","clocks","time","refresh","timeString","formatDate","hour","minute","second","TimerComp","timer","startDate","timerVal","setStartDate","setTimerVal","delta","hours","mins","secs","msecs","getTimerString","newDate","Date","setInterval","clearInterval","CaretRightOutlined","PauseOutlined","RollbackOutlined","AlarmComp","updateSystemData","setTime","alarmObj","alarm","alarmList","alarmEntries","disabled","moment","format","toggleAlarmDisabled","BellOutlined","BellFilled","deleteAlarm","newAlarmList","ClockApp","clockMode","setClockMode","ClockCircleOutlined","FieldTimeOutlined","Clock","isOpen","clock","minuteHands","getElementsByClassName","hourHands","secHands","clockFaces","background","clockStyles","minuteHandColor","hourHandColor","secondHandColor","clockFaceColor","textColor","hourHandOppositeLength","minuteHandOppositeLength","secondHandOppositeLength","renderNumbers","renderMinuteMarks","renderHourMarks","hourMarksLength","hourMarksWidth","hourHandLength","minuteHandLength","secondHandLength","minuteMarksWidth","minuteMarksLength","interval","now","alarmTime","getHours","getMinutes","hourHandWidth","minuteHandWidth","secondHandWidth","renderSecondHand","noteRow","date","titleCol","noteContent","noteMenu","menuButton","borderWidth","borderStyle","borderColor","TextInput","placeholder","shadow","overflowX","Note","note","saveNote","setNoteSize","setNotePos","setSaved","textBox","innerText","pos","h","w","SaveOutlined","contentEditable","onInput","NoteRow","toggleNoteActive","toggleNoteOpen","deleteNote","dateObj","active","year","month","day","CheckOutlined","NotesApp","noteObj","notes","setDate","setTitle","noteRef","setNotes","parse","newNotes","noteWindows","noteList","onOk","showTime","Notes","CarryOutOutlined","sideBar","sideBarEntry","page","picture","GeneralInfo","gSignedIn","setGSignedIn","getSize","getRawSize","getNumDirs","getNumFiles","getNumApps","String","thumbStyle","colors","base","hover","inactive","inactiveLabel","activeLabel","onToggle","NetworkInfo","ip","setIp","getIP","navigator","connection","downlink","DisplayInfo","backgrounds","backgroundThumbs","back","backgroundSize","backgroundImage","backgroundIndex","setBackgroundIndex","rollingBackground","rolling","defaultValue","rollingInterval","inv","Option","menuMap","General","Network","Display","SettingApp","currentPage","setCurrentPage","menuEntries","Page","Setting","SettingOutlined","SysAppExplorerGUI","appFuncs","IDEStyles","tabRow","flexShrink","tabCell","editorStyles","menuBar","dropDown","cursorInfo","titleColor","titleTextColor","inputBox","require","CodeEditor","onCursorActivity","editor","cursorPos","getCursor","line","col","ch","dropDownSelect","sel","mode","changeCmd","cmd","MODES","label","JSX","HTML","NULL","executeCmd","ctrlKey","which","saveFile","dropDownOptions","options","className","theme","lineNumbers","autoRefresh","editorDidMount","instance","onBeforeChange","changeDisplayMode","DisplayModes","PREVIEW","CONSOLE","explorerStyles","FileExplorer","inputValue","changeInputValue","currentDirectoryHash","FolderOpenOutlined","handleContextMenu","FileTextOutlined","openFile","FileAddOutlined","FolderAddOutlined","WebViewStyles","WebView","blur","str","url","URL","_","protocol","isUrl","trim","btoa","atob","isBase64","src","data-cookieconsent","test","srcDoc","ResizeBar","leftWidth","resizer","changedTouches","inputStyles","overflowY","Line","modifiable","data-index","ConsoleEditor","lineNumber","lines","lineOnChange","lineOnKeyDown","setFocus","consoleOptions","cls","Array","isArray","dataset","focus","evalFunc","inputLines","NONE","IDE","currentFiles","setFileIndex","currentIndex","displayMode","setDimensions","dimensions","resizeCodeEditor","codeEditorWidth","resizing","tempAppData","logMessage","message","getElementById","command","contentWindow","postMessage","confirm","ind","tabs","closeFile","finishResize","systemAPI","executeCommand","uploaderStyles","fileSelector","previewImage","reader","FileReader","readAsDataURL","resolve","onloadend","ImageUploader","frameStyle","imageUrl","setImageUrl","previewWidth","previewHeight","editable","alt","accept","modalStyles","marginLeft","button","InstallModal","closeInstaller","fileNode","setIconUrl","changeAppName","changeAuthorName","setShareApp","checked","htmlFor","menuStyles","bar","logOutBtn","searchBarStyles","searchIcon","searchBtn","SearchBar","activeElement","hasFocus","SearchOutlined","MenuBar","disconnect","profileUrl","appExplorerStyles","appContainer","exitBtn","AppExplorerGUI","applications","handleUninstallApp","retrieveApps","uninstallApp","appArr","addCurrentApp","addCurrentRaw","explorerOn","lineInput","lineBar","paddingRight","bottomBar","FileEditor","config","restoreValue","calculateLines","createRef","divHeight","offsetHeight","lineHeight","b","frameColor","c","onChangeText","MediaView","AppView","handleAppMessage","Desktop","codeEditorRoot","fileExplorers","currentWindows","currentRaw","currentApps","currentConsoles","installHash","appExplorerOn","Night","Lake","Town","Boat","updateDimensions","executeAppMessage","focusCurrentFile","focusCurrentWindow","focusCurrentExplorer","focusCurrentRaw","focusCurrentApp","focusCurrentConsole","closeCurrentRaw","closeCurrentApp","closeCurrentConsole","prevProps","setAppStorage","getAppStorage","uid","currentWindow","currentFile","currentR","currentApp","fileExplorer","currentConsole","getApp","fileExplorerWindows","rawWindows","foregroundTheme","fileWindows","mediaWindows","appWindows","msg","consoleWindows","parseOptions","segments","arg","args","seg","opt","slice","createError","multi","createSuccess","Errors","Successes","parsePath","pathStr","oPathArr","rPathArr","filter","pop","cd","exec","cmds","system","cFlag","hFlag","help","rPath","getPath","pathArr","newPath","getFileSystem","dirName","parentDir","getDirByPath","dirHash","setPath","setDirectory","join","createPath","changePath","ls","lFlag","getChildrenCount","rm","dFlag","resArr","getNodeByPath","exes","fsExes","SystemAPI","directory","segs","parseCmd","exeName","resLines","API","Home","windowManager","cachedFsData","localStorage","getItem","cachedSysData","then","fsData","setItem","loginStyles","modal","marginTop","marginBottom","Login","setLocalMode","isSignIn","toggleSignIn","setUserName","setEmail","setPassword","isDeveloper","setIsDeveloper","autoComplete","UserTypes","DEV","IND","letterStyle","Loading","div","animate","rotate","duration","repeat","Infinity","repeatDelay","Cursor","trackCursor","transformCursor","recoverCursor","transform","loading","setErrMsg","ReactDOM","render","StrictMode","ORG","AUD","ExtMap","txtExts","imgExts","vidExts","audExts","xmlExts","jsExts","cssExts","pptExts","docExts","xlsExts","otherExts","r","random","toString","limiter","substr","evaluate","eval","bytes","decimals","k","dm","sizes","parseFloat","pow","toFixed","getFullYear","getMonth","getDate","getSeconds","blobToBin","readAsBinaryString","readAsText","blobToArrayBuffer","readAsArrayBuffer","ms","toLowerCase","OTHER","currentSeg"],"mappings":"0oBAEIA,E,sFC8BWC,EAhCA,CACbC,oBAAqB,CACnBC,QAAS,OACTC,SAAU,WACVC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,eAAgB,SAChBC,WAAY,SACZC,SAAU,UAEZC,IAAK,CACHT,QAAS,OACTM,eAAgB,SAChBC,WAAY,SACZG,cAAe,OAEjBC,OAAQ,CACNX,QAAS,OACTM,eAAgB,SAChBC,WAAY,SACZG,cAAe,UAEjBE,MAAO,CACLC,MAAO,QAETC,MAAO,CACLC,OAAQ,S,+CDxBCC,EAAS,uCAAG,sBAAAC,EAAA,+EAEf,IAAIC,SAAQ,SAACC,EAAKC,GACtBC,OAAOC,KAAKC,KAAK,eAAgB,CAAEC,SAAUL,EAAKM,QAASL,OAHxC,uBAKfC,OAAOC,KAAKI,OAAOC,KAAK,CAC5BC,OAAQC,IAAUC,QAClBC,UAAWF,IAAUG,UACrBC,MAAO,6CACPC,cAAe,CACb,gEAViB,OAarBrC,EAAawB,OAAOC,KAAKa,MAAMC,kBAbV,gDAerBC,QAAQC,IAAR,MAfqB,yDAAH,qDAmBTC,EAAa,WACxB,QAAK1C,GACEA,EAAW0C,WAAWC,OAGlBC,EAAkB,SAACC,GAC9B7C,EAAW0C,WAAWI,OAAOD,IAGlBE,EAAa,WACxB/C,EAAWgD,UAGAC,EAAgB,WAC3BjD,EAAWkD,WAGAC,EAAW,uCAAG,oCAAA/B,EAAA,sEAEjBgC,EAAQ5B,OAAOC,KAAKI,OAAOuB,MAFV,SAGLA,EAAMC,MAAMC,KAAK,CACjCC,EACE,gGACFC,OAAQ,kBACRC,OAAQ,UAPa,UAGjBnC,EAHiB,OAUA,KADjBoC,EAAUpC,EAAIqC,OAAON,OACfO,OAVW,0CAWd,CAAEC,OAAO,EAAOC,SAAUJ,EAAQ,GAAGK,KAXvB,WAYO,IAAnBL,EAAQE,OAZI,wBAafI,EAAW,CACfC,KAAM,eACNC,SAAU,sCAfS,UAiBHd,EAAMC,MAAMc,OAAO,CACnCC,SAAUJ,EACVR,OAAQ,OAnBW,eAiBflC,EAjBe,yBAqBd,CAAEuC,OAAO,EAAOC,SAAUxC,EAAIqC,OAAOI,KArBvB,iCAuBd,CAAEF,OAAO,IAvBK,iEA0BvBrB,QAAQC,IAAR,MA1BuB,kBA2BhB,CAAEoB,OAAO,IA3BO,0DAAH,qDA+BXQ,EAAe,uCAAG,WAAOP,EAAUQ,GAAjB,uBAAAlD,EAAA,sEAErB4C,EAAW,CACfC,KAAMK,EAAKL,KACXM,QAAS,CAACT,KAERU,EAAO,IAAIC,UACVC,OACH,WACA,IAAIC,KAAK,CAACC,KAAKC,UAAUb,IAAY,CAAEc,KAAM,sBAE3CC,EAAc/E,EAAWgF,YAAYrC,MAAMsC,iBAAgB,GAC5DC,aACHV,EAAKE,OAAO,OAAQJ,GAbO,SAcTa,MAChB,kFACA,CACEC,OAAQ,OACRC,QAAS,IAAIC,QAAQ,CAAEC,cAAe,UAAYR,IAClDS,KAAMhB,IAnBiB,cAcrBlD,EAdqB,iBAsBNA,EAAImE,OAtBE,eAsBrB9B,EAtBqB,yBAuBpB,CAAEE,OAAO,EAAO6B,OAAQ/B,EAAOI,KAvBX,yCAyB3BvB,QAAQC,IAAR,MAzB2B,kBA0BpB,CAAEoB,OAAO,IA1BW,0DAAH,wDA8Bf8B,EAAY,uCAAG,WAAOD,GAAP,iBAAAtE,EAAA,sEAElBgC,EAAQ5B,OAAOC,KAAKI,OAAOuB,MAFT,SAGlBA,EAAMwC,YAAYzB,OAAO,CAC7BuB,OAAQA,EACRtB,SAAU,CACRyB,KAAM,SACNf,KAAM,YAPc,uBAUN1B,EAAMC,MAAMV,IAAI,CAChC+C,OAAQA,EACRlC,OAAQ,gBAZc,cAUlBlC,EAVkB,yBAejB,CAAEuC,OAAO,EAAO6B,SAAQI,QAASxE,EAAIqC,OAAOoC,cAf3B,yCAiBxBvD,QAAQC,IAAR,MAjBwB,kBAkBjB,CAAEoB,OAAO,IAlBQ,0DAAH,sDAsBZmC,EAAe,uCAAG,WAAON,GAAP,eAAAtE,EAAA,sEAErBgC,EAAQ5B,OAAOC,KAAKI,OAAOuB,MAFN,SAGrBA,EAAMC,MAAM4C,OAAO,CACvBP,OAAQA,IAJiB,gCAMpB,CAAE7B,OAAO,IANW,uCAQ3BrB,QAAQC,IAAR,MAR2B,kBASpB,CAAEoB,OAAO,IATW,yDAAH,sDEjHfqC,EAAU,uCAAG,WAAOC,EAAUC,EAAOC,EAAUC,EAAUC,GAA5C,iBAAAnF,EAAA,yDACnBoF,YAAWJ,GADQ,uBAEtBG,EAAKE,eAAe,sBAFE,6BAKnBC,YAAcP,GALK,uBAMtBI,EAAKE,eACH,6DAPoB,6BAWnBE,YAAcN,GAXK,uBAYtBE,EAAKE,eACH,6DAboB,oDAkBCtB,MAAMoB,EAAKK,KAAO,UAAW,CAClDxB,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBG,KAAMZ,KAAKC,UAAU,CAAEsB,WAAUC,QAAOC,WAAUC,aAClDO,YAAa,YAxBO,WA0BE,OARlBC,EAlBgB,QA0BTC,OA1BS,0CA2BbC,YACL,gDAAkDF,EAASC,SA5BzC,yBA+BJD,EAASrB,OA/BL,YA+BhBnE,EA/BgB,QAgCbuC,MAhCa,wBAiCpB0C,EAAKU,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZC,OAAQ7F,EAAI8F,KAAKC,IACjBC,SAAUhG,EAAI8F,UApCI,kBAsCbG,eAtCa,eAwCpBhB,EAAKU,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZM,QAAQ,2BACHN,EAAMM,SADJ,IAELC,MAAOnG,EAAIoG,cA5CK,kBA+CbV,YAAS1F,EAAIoG,SA/CA,mFAkDfV,YAAS,cAAD,OAlDO,0DAAH,8DAsDVW,EAAW,uCAAG,WAAOpB,GAAP,iBAAAnF,EAAA,6DACzB6B,IADyB,kBAGAkC,MAAMoB,EAAKK,KAAO,WAAY,CACnDxB,OAAQ,MACRC,QAAS,CACP,eAAgB,oBAElBwB,YAAa,YARQ,UAUC,OAPlBC,EAHiB,QAUVC,OAVU,yCAWdC,YACL,gDAAkDF,EAASC,SAZxC,uBAeLD,EAASrB,OAfJ,WAejBnE,EAfiB,QAgBduC,MAhBc,wBAiBrB0C,EAAKU,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZC,OAAQ,KACRG,SAAU,QApBS,kBAsBdC,eAtBc,eAwBrBhB,EAAKE,eAAenF,EAAIoG,QAxBH,kBAyBdV,YAAS1F,EAAIoG,SAzBC,iEA4BvBlF,QAAQC,IAAR,MACA8D,EAAKU,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZU,WAAW,EACXT,OAAQ,UAhCa,kBAkChBH,YAAS,cAAD,OAlCQ,0DAAH,sDAsCXa,EAAU,uCAAG,WAAOzB,EAAOC,GAAd,iCAAAjF,EAAA,yDAAwB0G,EAAxB,gCAAyCvB,EAAzC,uBACnBuB,EADmB,mBAEjBtB,YAAWJ,GAFM,uBAGpBG,EAAKE,eAAe,sBAHA,6BAMjBE,YAAcN,GANG,uBAOpBE,EAAKE,eACH,6DARkB,oDAcCtB,MAAMoB,EAAKK,KAAO,UAAW,CAClDxB,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBG,KAAMZ,KAAKC,UAAU,CAAEuB,QAAOC,aAC9BQ,YAAa,YApBO,WAsBE,OARlBC,EAdgB,QAsBTC,OAtBS,wBAuBpBvE,QAAQC,IACN,gDAAkDqE,EAASC,QAxBzC,4CA4BJD,EAASrB,OA5BL,YA4BhBnE,EA5BgB,QA6BbuC,MA7Ba,wBA8BpB0C,EAAKU,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZC,OAAQ7F,EAAI8F,KAAKC,IACjBC,SAAUhG,EAAI8F,UAjCI,UAmCdW,YAAM,KAnCQ,eAoCpBxB,EAAKyB,YAAW,GApCI,kBAqCbT,eArCa,eAuCfO,EACAvB,EAAKyB,YAAW,GADPzB,EAAKE,eAAenF,EAAIoG,QAvClB,kBAyCbV,YAAS1F,EAAIoG,SAzCA,iEA4CtBlF,QAAQC,IAAR,MACA8D,EAAKyB,YAAW,GAChBxG,OAAOyG,MAAM,iDACbzG,OAAOyG,MAAM,kDACb1B,EAAKU,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZU,WAAW,OAlDS,kBAoDfZ,YAAS,cAAD,OApDO,0DAAH,wDCpGVkB,EAAgB,uCAAG,aAE9B3B,GAF8B,mCAAAnF,EAAA,yDAC5B+F,EAD4B,EAC5BA,OAAQgB,EADoB,EACpBA,KAAMC,EADc,EACdA,SAAUC,EADI,EACJA,QAASC,EADL,EACKA,WAAYC,EADjB,EACiBA,SAAUC,EAD3B,EAC2BA,QAGnDC,EAAKlC,EAAKW,MAAMwB,WAChBC,EAAMF,EAAGG,QAAQT,GAAMU,UAC7BJ,EAAGK,cAAcT,EAASM,EAAKH,IAC3BJ,EAP0B,0CASHjD,MAAMoB,EAAKwC,MAAMnC,KAAO,aAAc,CAC3DxB,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBG,KAAMZ,KAAKC,UAAU,CACnBwD,UACAC,aACAU,SAAU7B,EACV8B,KAAMV,EACNC,UACAG,UApBsB,UAuBF,OAdlB7B,EAToB,QAuBbC,OAvBa,0CAwBjBC,YACL,gDAAkDF,EAASC,SAzBrC,yBA4BRD,EAASoC,OA5BD,eA4BpB5H,EA5BoB,yBA6BnBiG,YAAWjG,IA7BQ,2DA+BnB0F,YAAS,cAAD,OA/BW,iCAkCvBO,eAlCuB,0DAAH,wD,qGCiFd4B,E,WA5Eb,WAAYlF,EAAMkE,EAAMiB,EAAQhC,GAA+B,IAAzBiC,EAAwB,uDAAlB,KAAMC,EAAY,uDAAJ,GAAI,+LAC5D,YAAAC,KAAA,MAAeH,EACfG,KAAKvF,SAAW,CACdC,KAAMA,EACNkE,KAAMA,EACNc,KAAM7B,EAAKxD,OACXkB,KAAM0E,GAAMC,KACZJ,IAAKA,GAEP,YAAAE,KAAA,MAAanC,EACb,YAAAmC,KAAA,MAAcD,E,yDAGHF,GACX,YAAAG,KAAA,MAAeH,I,iCAGNnF,GACTsF,KAAKvF,SAASC,KAAOA,I,gCAGboF,GACRE,KAAKvF,SAASqF,IAAMA,I,+BAGbjC,GACP,YAAAmC,KAAA,MAAanC,EACbmC,KAAKvF,SAASiF,KAAO7B,EAAKxD,S,oCAI1B,OAAO2F,KAAKvF,W,iCAIZ,OAAO,YAAAuF,KAAP,Q,gCAIA,OAAOA,KAAKvF,SAASc,O,gCAIrB,OAAOyE,KAAKvF,SAASC,O,+BAIrB,OAAOsF,KAAKvF,SAASqF,M,gCAIrB,OAAOE,KAAKvF,SAASmE,O,gCAIrB,OAAO,YAAAoB,KAAA,MAAW3F,S,gCAIlB,OAAO,YAAA2F,KAAP,Q,kCAIA,OAAO,YAAAA,KAAP,Q,8BAIA,OAAO,IAAIJ,EACTI,KAAKvF,SAASC,KACdsF,KAAKvF,SAASmE,KAFT,YAGLoB,KAHK,kBAILA,KAJK,W,uDCIIG,E,WAxEb,WAAYzF,EAAMkE,EAAMiB,EAAQO,GAAW,sIACzC,YAAAJ,KAAA,MAAeH,EACfG,KAAKvF,SAAW,CAAEC,KAAMA,EAAMkE,KAAMA,EAAMrD,KAAM0E,GAAMI,KACtD,YAAAL,KAAA,MAAiBI,E,yDAGNP,GACX,YAAAG,KAAA,MAAeH,I,iCAGNnF,GACTsF,KAAKvF,SAASC,KAAOA,I,+BAGdkE,EAAMnE,GACb,YAAAuF,KAAA,MAAepB,GAAQnE,I,kCAGbmE,UACH,YAAAoB,KAAA,MAAepB,K,oCAItB,OAAOoB,KAAKvF,W,gCAIZ,OAAOuF,KAAKvF,SAASc,O,gCAIrB,OAAOyE,KAAKvF,SAASC,O,gCAIrB,OAAOsF,KAAKvF,SAASmE,O,kCAIrB,OAAO,YAAAoB,KAAP,Q,oCAIA,OAAO,YAAAA,KAAP,Q,yCAIA,OAAOM,OAAOC,KAAPD,OAAA,IAAAA,CAAYN,KAAZ,OAA4B3F,S,+BAG5BuE,GACP,OAAO,YAAAoB,KAAA,MAAepB,K,8BAItB,MAA8B,QAAvBoB,KAAKvF,SAASmE,O,+BAIrB,MAA8B,SAAvBoB,KAAKvF,SAASmE,O,8BAIrB,OAAO,IAAIuB,EACTH,KAAKvF,SAASC,KACdsF,KAAKvF,SAASmE,KAFT,YAGLoB,KAHK,kBAILA,KAJK,W,4ECsBIQ,E,WArFb,WAAY9F,EAAMkE,EAAMiB,EAAQhC,EAAM4C,GAAqB,IAAfC,EAAc,uDAAJ,GAAI,+LACxD,YAAAV,KAAA,MAAeH,EACfG,KAAKvF,SAAW,CACdC,KAAMA,EACNkE,KAAMA,EACNc,KAAM7B,EAAKxD,OACXkB,KAAM0E,GAAMU,IACZF,KAAMA,GAER,YAAAT,KAAA,MAAanC,EACb,YAAAmC,KAAA,MAAgBU,E,yDAGLb,GACX,YAAAG,KAAA,MAAeH,I,iCAGNY,GACTT,KAAKvF,SAASgG,KAAOA,I,iCAGZ/F,GACTsF,KAAKvF,SAASC,KAAOA,I,+BAGdmD,GACP,YAAAmC,KAAA,MAAanC,EACbmC,KAAKvF,SAASiF,KAAO7B,EAAKxD,S,iCAGjBuG,GACT,OAAO,YAAAZ,KAAA,MAAcY,K,mCAIrB,OAAO,YAAAZ,KAAP,Q,iCAGSY,EAAKC,GACd,YAAAb,KAAA,MAAcY,GAAOC,I,oCAIrB,OAAOb,KAAKvF,W,gCAIZ,OAAOuF,KAAKvF,SAASgG,O,gCAIrB,OAAOT,KAAKvF,SAASc,O,gCAIrB,OAAOyE,KAAKvF,SAASC,O,gCAIrB,OAAOsF,KAAKvF,SAASmE,O,gCAIrB,OAAO,YAAAoB,KAAA,MAAW3F,S,gCAIlB,OAAO,YAAA2F,KAAP,Q,kCAIA,OAAO,YAAAA,KAAP,Q,8BAIA,OAAO,IAAIQ,EACTR,KAAKvF,SAASC,KACdsF,KAAKvF,SAASmE,KAFT,YAGLoB,KAHK,kBAILA,KAJK,MAKLA,KAAKvF,SAASgG,U,KChFPR,GAAQ,CACnBC,KAAM,EACNG,IAAK,EACLM,IAAK,GAGMG,GAAiB,CAC5BC,KAAM,CACJC,KAAM,CACJtG,KAAM,OACNkE,KAAM,OACNiB,OAAQ,KACRO,SAAU,GACV7E,KAAM0E,GAAMI,KAEdY,IAAK,CACHvG,KAAM,MACNkE,KAAM,MACNiB,OAAQ,KACRO,SAAU,GACV7E,KAAM0E,GAAMI,MAGhBvG,MAAO,GACPoH,KAAM,IA+kBOC,G,WArkBb,WAAYC,EAASC,GAA2C,IAA5BC,EAA2B,uDAAbrI,QAAQC,IAAK,yBA+b/DqI,iBA/b+D,uCA+b5C,WAAOC,GAAP,SAAA3J,EAAA,sEACX4E,EAAgB+E,EAAKC,WAAWtF,QADrB,2CA/b4C,sDACxDiF,IACHA,EAAUN,IAEZ,IAAMY,EAAUN,EAAQL,KAClBY,EAAWP,EAAQtH,MACnB4G,EAAUU,EAAQF,KAClBU,EAAW,GACXC,EAAY,GACZC,EAAW,GAEjB,IAAK,IAAIlB,KAAOc,EAAS,CACvB,IAAMK,EAAML,EAAQd,GACpBgB,EAAShB,GAAO,IAAIT,EAClB4B,EAAIrH,KACJqH,EAAInD,KACJmD,EAAIlC,OACJkC,EAAI3B,UAGR,IAAK,IAAIQ,KAAOe,EAAU,CACxB,IAAMH,EAAOG,EAASf,GACtBiB,EAAUjB,GAAO,IAAIhB,EACnB4B,EAAK9G,KACL8G,EAAK5C,KACL4C,EAAK3B,OACL2B,EAAK3D,KACL2D,EAAK1B,IACL0B,EAAKzB,MAAQyB,EAAKzB,MAAQ,IAG9B,IAAK,IAAIa,KAAOF,EAAS,CACvB,IAAMsB,EAAMtB,EAAQE,GACpBkB,EAASlB,GAAO,IAAIJ,EAClBwB,EAAItH,KACJsH,EAAIpD,KACJoD,EAAInC,OACJmC,EAAInE,KACJmE,EAAIvB,KACJuB,EAAItB,SAIRV,KAAK4B,SAAWA,EAChB5B,KAAK6B,UAAYA,EACjB7B,KAAK8B,SAAWA,EAChB9B,KAAKqB,cAAgBA,EACrBrB,KAAKiC,SAAW,WAAO,IAAD,gBACHZ,GADG,IACpB,2BAAgC,EAC9B/H,EAD8B,YADZ,gCAKtB0G,KAAKkC,SAAW,aAChBlC,KAAKmC,UAAY,aACjBnC,KAAKsB,YAAcA,E,4DAQnB,IAAMI,EAAU,GACVC,EAAW,GACXjB,EAAU,GACRkB,EAAkC5B,KAAlC4B,SAAUC,EAAwB7B,KAAxB6B,UAAWC,EAAa9B,KAAb8B,SAC7B,IAAK,IAAIlB,KAAOgB,EAAU,CACxB,IAAMG,EAAMH,EAAShB,GACrBc,EAAQd,GAAO,CACblG,KAAMqH,EAAIK,UACVxD,KAAMmD,EAAIM,UACVxC,OAAQkC,EAAIO,YACZlC,SAAU2B,EAAIQ,cACdhH,KAAMwG,EAAIS,WAGd,IAAK,IAAI5B,KAAOiB,EAAW,CACzB,IAAML,EAAOK,EAAUjB,GACvBe,EAASf,GAAO,CACdlG,KAAM8G,EAAKY,UACXxD,KAAM4C,EAAKa,UACXxC,OAAQ2B,EAAKc,YACbzE,KAAM2D,EAAKlC,UACX/D,KAAMiG,EAAKgB,UACX1C,IAAK0B,EAAKiB,SACV1C,MAAOyB,EAAKC,YAGhB,IAAK,IAAIb,KAAOkB,EAAU,CACxB,IAAME,EAAMF,EAASlB,GACrBF,EAAQE,GAAO,CACblG,KAAMsH,EAAII,UACVxD,KAAMoD,EAAIK,UACVxC,OAAQmC,EAAIM,YACZzE,KAAMmE,EAAI1C,UACV/D,KAAMyG,EAAIQ,UACV/B,KAAMuB,EAAIU,UACVhC,QAASsB,EAAIW,cAGjB,MAAO,CACL5B,KAAMW,EACN5H,MAAO6H,EACPT,KAAMR,K,mCASR,OAAOrF,KAAKC,UAAU0E,KAAK4C,iBAAiBvI,S,mCAQ5C,OAAOiG,OAAOC,KAAKP,KAAK4B,UAAUvH,S,oCAQlC,OAAOiG,OAAOC,KAAKP,KAAK6B,WAAWxH,S,mCAQnC,OAAOiG,OAAOC,KAAKP,KAAK8B,UAAUzH,S,6BAQ7BwI,GACL,OAAOA,EAAKtH,OAAS0E,GAAMC,O,4BAQvB2C,GACJ,OAAOA,EAAKtH,OAAS0E,GAAMI,M,4BAQvBwC,GACJ,OAAOA,EAAKtH,OAAS0E,GAAMU,M,sCAObrH,GACd0G,KAAKqB,cAAcyB,KAAKxJ,K,wCAORA,GAChB0G,KAAKsB,YAAchI,I,kCAOTA,GACV0G,KAAKkC,SAAW5I,I,sCAOhB0G,KAAK4B,SAAW,CACdZ,KAAM,IAAIb,EAAU,OAAQ,OAAQ,KAAM,IAC1Cc,IAAK,IAAId,EAAU,MAAO,MAAO,KAAM,KAEzCH,KAAK6B,UAAY,GACjB7B,KAAK8B,SAAW,GAChB9B,KAAKiC,a,8BAQCrD,GACN,OAAOoB,KAAK6B,UAAUjD,K,mCAQXA,GACX,OAAOoB,KAAK4B,SAAShD,K,6BAQhBA,GACL,OAAOoB,KAAK8B,SAASlD,K,qCASRA,EAAMlE,GACnB,IAAI0F,EAAWJ,KAAK+C,yBAAyBnE,GAC7C,IAAKwB,EACH,OAAO,KAET,cAAkBE,OAAO0C,OAAO5C,GAAhC,eAA2C,CAAtC,IAAI6C,EAAK,KACZ,GAAIA,EAAMvI,OAASA,EAAM,CACvB,GAAIsF,KAAKkD,MAAMD,GACb,OAAOjD,KAAK4B,SAASqB,EAAMrE,MACtB,GAAIoB,KAAKmD,OAAOF,GACrB,OAAOjD,KAAK6B,UAAUoB,EAAMrE,MAE5BoB,KAAKsB,YAAY,0BAIvB,OAAO,O,mCAQI8B,GACX,GAAqB,SAAjBA,EAAKC,QAEP,OADArD,KAAKsB,YAAY,4BACV,KAGT,IADA,IAAIgC,EAAiB,OACdF,EAAK/I,OAAS,GAAG,CACtB,IAAMkJ,EAAiBH,EAAKC,QACtBJ,EAAQjD,KAAKwD,eAAeF,EAAgBC,GAClD,IAAKN,EAEH,OADAjD,KAAKsB,YAAL,WAAqBiC,EAArB,gBACO,KAET,IAAIvD,KAAKkD,MAAMD,EAAMQ,eAInB,OADAzD,KAAKsB,YAAL,WAAqBiC,EAArB,yBACO,KAHPD,EAAiBL,EAAMZ,UAM3B,OAAOrC,KAAK4B,SAAS0B,K,oCAGTF,GACZ,GAAqB,SAAjBA,EAAKC,QAEP,OADArD,KAAKsB,YAAY,4BACV,KAGT,IADA,IAAIoC,EAAc,OACXN,EAAK/I,OAAS,GAAG,CACtB,IAAMkJ,EAAiBH,EAAKC,QACtBJ,EAAQjD,KAAKwD,eAAeE,EAAaH,GAC/C,IAAKN,EAEH,OADAjD,KAAKsB,YAAL,WAAqBiC,EAArB,gBACO,KAET,IAAIvD,KAAKkD,MAAMD,EAAMQ,eAEd,OAAIzD,KAAKmD,OAAOF,EAAMQ,gBAC3BC,EAAcT,EAAMZ,UAChBe,EAAK/I,OAAS,GAChB2F,KAAKsB,YAAL,WAAqBiC,EAArB,sBACO,MAEFvD,KAAK6B,UAAU6B,KAEtB1D,KAAKsB,YAAL,WAAqBiC,EAArB,0BACO,MAVPG,EAAcT,EAAMZ,UAaxB,OAAOrC,KAAK4B,SAAS8B,K,kCAQX9E,GAGV,IAFA,IAAMwE,EAAO,GACTO,EAAO3D,KAAK4B,SAAShD,GACG,OAArB+E,EAAKrB,aACVc,EAAKN,KAAKa,EAAKvB,WACfuB,EAAO3D,KAAK4B,SAAS+B,EAAKrB,aAI5B,OAFAc,EAAKN,KAAKa,EAAKvB,WACX,oBAAJgB,EAAOA,EAAKQ,Y,gCAMJ/D,EAAQnF,GAAwB,IAAlBmJ,EAAiB,uDAAN,KAC3BC,EAAW9D,KAAK4B,SAAS/B,GAAQ0C,cACvC,IAAK,IAAI3D,KAAQkF,EACf,GAAIlF,IAASiF,EAAb,CAGA,IAAME,EAAYD,EAASlF,GAAMlE,KACjC,GAAIA,IAASqJ,EAEX,OADA/D,KAAKsB,YAAY,SAAW5G,EAAO,8BAC5B,EAGX,OAAO,I,yCAGUA,GACjB,MAAa,KAATA,GACFsF,KAAKsB,YAAY,mBAAqB5G,EAAO,uBACtC,KACEA,EAAKL,QAAU,MACxB2F,KAAKsB,YACH,mBAAqB5G,EAAO,gCAEvB,K,oCAMGA,GACZ,OAAKA,IAGMA,EAAKL,QAAU,MACxB2F,KAAKsB,YAAY,cAAgB5G,EAAO,gCACjC,IAJPsF,KAAKsB,YAAY,cAAgB5G,EAAO,uBACjC,K,yCAWQmF,EAAQnF,GACzB,GAAIsF,KAAKgE,UAAUnE,EAAQnF,IAASsF,KAAKiE,mBAAmBvJ,GAAO,CACjE,IAAMwJ,EAAUC,cACVC,EAAS,IAAIjE,EAAUzF,EAAMwJ,EAASrE,EAAQ,IAIpD,OAHAG,KAAK4B,SAASsC,GAAWE,EACzBpE,KAAK4B,SAAS/B,GAAQwE,SAASH,EAASE,EAAOX,eAC/CzD,KAAKiC,WACEiC,EAEP,OAAO,O,oCAIGrE,EAAQnF,EAAMmD,GAA+B,IAAzBiC,EAAwB,uDAAlB,KAAMC,EAAY,uDAAJ,GACpD,GAAa,OAATlC,QAA0ByG,IAATzG,EAEnB,OADAmC,KAAKsB,YAAY,8BACV,KAET,GAAItB,KAAKgE,UAAUnE,EAAQnF,IAASsF,KAAKuE,cAAc7J,GAAO,CAC5D,IAAMwJ,EAAUC,cACVK,EAAU,IAAI5E,EAAKlF,EAAMwJ,EAASrE,EAAQhC,EAAMiC,EAAKC,GAI3D,OAHAC,KAAK6B,UAAUqC,GAAWM,EAC1BxE,KAAK4B,SAAS/B,GAAQwE,SAASH,EAASM,EAAQf,eAChDzD,KAAKiC,WACEiC,EAGP,OADAlE,KAAKsB,YAAY,kBAAoB5G,EAAO,sBACrC,O,oCAIGA,EAAMmD,EAAM4C,GACxB,IAAMyD,EAAUC,cACVM,EAAS,IAAIjE,EAAI9F,EAAMwJ,EAAS,KAAMrG,EAAM4C,GAGlD,OAFAT,KAAK8B,SAASoC,GAAWO,EACzBzE,KAAKiC,WACEiC,I,iCAGErE,EAAQjB,GACjB,IAAM8F,EAAU1E,KAAK2E,SAAS9E,EAAQjB,EAAM,OAE5C,OADAoB,KAAKkC,WACEwC,I,mCAGI9F,UACJoB,KAAK8B,SAASlD,GACrBoB,KAAKiC,a,qCAKQrD,GACb,IAAMnE,EAAWuF,KAAK4B,SAAL,IAAqBgD,SAAShG,GAC3CnE,EAASc,OAAS0E,GAAMI,IAC1BL,KAAK6E,oBAAoBjG,GAChBnE,EAASc,OAAS0E,GAAMC,MACjCF,KAAK8E,eAAelG,K,qCAITA,GACb,IAAM4C,EAAOxB,KAAK6B,UAAUjD,GACToB,KAAK+E,aAAavD,EAAKc,aAC/B0C,YAAYpG,GACnB4C,EAAKC,WAAWwD,SAClBjF,KAAKuB,iBAAiBC,UAEjBxB,KAAK6B,UAAUjD,GACtBoB,KAAKiC,a,0CAOarD,GAClB,IAAMmD,EAAM/B,KAAK4B,SAAShD,GACpBsG,EAAanD,EAAIQ,cACjB4C,EAAanF,KAAK+E,aAAahD,EAAIO,aACzC,IAAK,IAAI1B,KAAOsE,EAAY,CAC1B,IAAMjC,EAAQiC,EAAWtE,GACrBqC,EAAM1H,OAAS0E,GAAMI,IACvBL,KAAK6E,oBAAoB5B,EAAMrE,MACtBqE,EAAM1H,OAAS0E,GAAMC,MAC9BF,KAAK8E,eAAe7B,EAAMrE,MAG9BuG,EAAWH,YAAYpG,UAChBoB,KAAK4B,SAAShD,GACrBoB,KAAKiC,a,+CAKkBrD,GACvB,IAAMmD,EAAM/B,KAAK4B,SAAShD,GAC1B,OAAKmD,EAIcA,EAAIQ,eAHrBvC,KAAKsB,YAAL,WAAqB1C,EAArB,8BACO,Q,qCAOT,OAAOoB,KAAK8B,W,uCAGGlD,GACf,IAAMsG,EAAalF,KAAK+C,yBAAyBnE,GAC7Cc,EAAO,EACX,IAAK,IAAIkB,KAAOsE,EACVA,EAAWtE,GAAKrF,OAAS0E,GAAMC,KACjCR,GAAQwF,EAAWtE,GAAKlB,KAExBA,GAAQM,KAAKoF,iBAAiBF,EAAWtE,GAAKhC,MAGlD,OAAOc,I,+BAKAG,EAAQjB,EAAMyG,GACrB,GAAIxF,IAAWjB,GAAQyG,IAAgBzG,EAAM,CAE3C,GADiBoB,KAAK4B,SAAS/B,GAAQ+E,SAAShG,GACnCrD,OAAS0E,GAAMI,IAAK,CAC/B,IAAM4C,EAAQjD,KAAK4B,SAAShD,GAC5BqE,EAAMqC,aAAaD,GACnBrF,KAAK4B,SAAS/B,GAAQmF,YAAYpG,GAClCoB,KAAK4B,SAASyD,GAAahB,SAASzF,EAAMqE,EAAMQ,mBAC3C,CACL,IAAMR,EAAQjD,KAAK6B,UAAUjD,GAC7BqE,EAAMqC,aAAaD,GACnBrF,KAAK4B,SAAS/B,GAAQmF,YAAYpG,GAClCoB,KAAK4B,SAASyD,GAAahB,SAASzF,EAAMqE,EAAMQ,eAGlD,OADAzD,KAAKiC,YACE,EAGP,OADAjC,KAAKsB,YAAY,wCACV,I,iCAMA1C,EAAM6B,GACf,IAAMe,EAAOxB,KAAK6B,UAAUjD,GACtBoD,EAAM,IAAIxB,EAAIgB,EAAKY,UAAWxD,EAAM,KAAM4C,EAAKlC,UAAWmB,GAChET,KAAK8B,SAASlD,GAAQoD,EACtBhC,KAAKiC,WACLjC,KAAKmC,c,oCAKOvD,EAAMgC,GAGlB,OAFYZ,KAAK8B,SAASlD,GACR2G,WAAW3E,K,oCAIjBhC,EAAMgC,EAAKC,GACXb,KAAK8B,SAASlD,GACtB4G,WAAW5E,EAAKC,GACpBb,KAAKiC,a,qCAKQrD,EAAMlE,GACnB,IAAM8G,EAAOxB,KAAK6B,UAAUjD,GACtBiB,EAAS2B,EAAKc,YACpB,SAAItC,KAAKgE,UAAUnE,EAAQnF,EAAMkE,KAASoB,KAAKuE,cAAc7J,MAC3D8G,EAAKiE,WAAW/K,GACDsF,KAAK4B,SAASJ,EAAKc,aAC3B+B,SAASzF,EAAM4C,EAAKiC,eAC3BzD,KAAKiC,YACE,K,0CAMSrD,EAAMlE,GACxB,IAAMqH,EAAM/B,KAAK4B,SAAShD,GACpBiB,EAASkC,EAAIO,YACnB,SAAItC,KAAKgE,UAAUnE,EAAQnF,EAAMkE,KAASoB,KAAKiE,mBAAmBvJ,MAChEqH,EAAI0D,WAAW/K,GACAsF,KAAK4B,SAASG,EAAIO,aAC1B+B,SAASzF,EAAMmD,EAAI0B,eAC1BzD,KAAKiC,YACE,K,+BAMFrD,EAAMf,GACbmC,KAAK6B,UAAUjD,GAAMqD,SAASpE,GAC9BmC,KAAKiC,e,KCtmBIyD,GAAc,uCAAG,WAAO1I,GAAP,iBAAAnF,EAAA,+EAEH+D,MACrBoB,EAAKwC,MAAMnC,KAAO,UAAYL,EAAKwC,MAAM5B,QAHjB,UAKF,OAHlBL,EAFoB,QAKbC,OALa,yCAMjBC,YACL,gDAAkDF,EAASC,SAPrC,uBAURD,EAASrB,OAVD,cAUpBnE,EAVoB,OAW1BiF,EAAKU,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZwB,WAAY,IAAIgC,GACdpJ,EAAI8F,KACJ,CAACb,EAAK2I,gBACNjH,MAAMkH,KAAK3N,cAGf+E,EAAKwC,MAAMf,YAAW,GAnBI,kBAoBnBT,YAAWjG,IApBQ,2DAsBnB0F,YAAS,cAAD,OAtBW,0DAAH,sDA0BdoI,GAAc,uCAAG,WAAO7I,GAAP,qBAAAnF,EAAA,2DACtBqH,EAAKlC,EAAKW,MAAMwB,YADM,wBAGpBtB,EAAOqB,EAAG0D,gBAChB3J,QAAQC,IAAI2E,GAJc,kBAMDjC,MACrBoB,EAAKwC,MAAMnC,KAAO,UAAYL,EAAKwC,MAAM5B,OACzC,CACE/B,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBG,KAAMZ,KAAKC,UAAUuC,GACrBP,YAAa,YAdO,UAiBA,OAXlBC,EANkB,QAiBXC,OAjBW,0CAkBfC,YACL,gDAAkDF,EAASC,SAnBvC,eAsBxBR,EAAKU,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZmI,OAAO,OAxBe,UA0BNvI,EAASoC,OA1BH,eA0BlB5H,EA1BkB,yBA2BjBiG,YAAWjG,IA3BM,2DA6BjB0F,YAAS,cAAD,OA7BS,0DAAH,sDC3BdsI,GAAc,uCAAG,WAAOC,EAAMhJ,GAAb,iBAAAnF,EAAA,6DAC5BmO,EAAI,2BACCA,GADD,IAEFpI,OAAQZ,EAAKW,MAAMC,SAHO,kBAOHhC,MAAMoB,EAAKK,KAAO,cAAe,CACtDxB,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBG,KAAMZ,KAAKC,UAAU0K,GACrB1I,YAAa,YAbW,UAeF,OARlBC,EAPoB,QAebC,OAfa,uBAgBxBvE,QAAQC,IACN,gDAAkDqE,EAASC,QAjBrC,2CAqBRD,EAASrB,OArBD,YAqBpBnE,EArBoB,QAsBjBuC,MAtBiB,wBAuBxB0C,EAAKU,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZI,SAAS,2BACJJ,EAAMI,UACNiI,QA3BiB,kBA8BjBhI,eA9BiB,iCAgCjBP,YAAS1F,EAAIoG,SAhCI,mFAmCnBV,YAAS,cAAD,OAnCW,0DAAH,wDCDdwI,GAAa,uCAAG,WAAOjJ,GAAP,iBAAAnF,EAAA,+EAEF+D,MACrBoB,EAAKwC,MAAMnC,KAAO,UAAYL,EAAKwC,MAAM5B,QAHlB,UAKD,OAHlBL,EAFmB,QAKZC,OALY,yCAMhBC,YACL,gDAAkDF,EAASC,SAPtC,uBAUPD,EAASrB,OAVF,cAUnBnE,EAVmB,OAWzBiF,EAAKU,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZuI,WAAYnO,EAAI8F,UAbO,kBAelBG,YAAWjG,IAfO,2DAiBlB0F,YAAS,cAAD,OAjBU,0DAAH,sDAqBb0I,GAAa,uCAAG,WAAOtI,EAAMb,GAAb,mBAAAnF,EAAA,6DACvBuO,EAAKpJ,EAAKW,MAAMuI,WACpBE,EAAE,2BAAQA,GAAOvI,GAFU,kBAIFjC,MACrBoB,EAAKwC,MAAMnC,KAAO,UAAYL,EAAKwC,MAAM5B,OACzC,CACE/B,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBG,KAAMZ,KAAKC,UAAU8K,GACrB9I,YAAa,YAZQ,UAeD,OAXlBC,EAJmB,QAeZC,OAfY,yCAgBhBC,YACL,gDAAkDF,EAASC,SAjBtC,wBAoBPD,EAASrB,OApBF,eAoBnBnE,EApBmB,OAqBzBiF,EAAKU,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZuI,WAAYE,OAvBW,kBAyBlBpI,YAAWjG,IAzBO,2DA2BlB0F,YAAS,cAAD,OA3BU,0DAAH,wDChBX,kEACV4I,GACAC,GACAC,GACAC,GACAC,GCXCC,GACM,EADNA,GAEG,EAFHA,GAGE,EAHFA,GAIC,EAJDA,GAKC,EAoIQC,G,WAhIb,WAAYC,EAASC,GAAe,oBAClC7G,KAAK8G,UAAY,GACjB9G,KAAK+G,MAAQ,GACb/G,KAAKlG,MAAQ,GACbkG,KAAKZ,IAAM,GACXY,KAAKkB,KAAO,GACZlB,KAAK6G,aAAeA,EACpB7G,KAAKgH,eAAeJ,G,2DAGPA,GAAU,IAAD,gBACHA,GADG,IACtB,2BAA4B,CAAC,IAApB3O,EAAmB,QAC1B,OAAQA,EAAOsD,MACb,KAAKmL,GACH1G,KAAK8G,UAAUhE,KAAK7K,EAAO4K,MAC3B,MACF,KAAK6D,GACH1G,KAAK+G,MAAMjE,KAAK7K,EAAO4K,MACvB,MACF,KAAK6D,GAGL,KAAKA,GAGL,KAAKA,GACH1G,KAAKlG,MAAMgJ,KAAK7K,EAAO4K,QAhBP,iC,sCAyBtB,IAAM+D,EAAU,GAChB,IAAK,IAAIK,KAAYjH,KAAK8G,UACxBF,EAAQ9D,KAAK,CAAEvH,KAAMmL,GAAsB7D,KAAMoE,IAEnD,IAAK,IAAIF,KAAS/G,KAAK+G,MACrBH,EAAQ9D,KAAK,CAAEvH,KAAMmL,GAAmB7D,KAAMkE,IAEhD,IAAK,IAAIvF,KAAQxB,KAAKlG,MACpB8M,EAAQ9D,KAAK,CAAEvH,KAAMmL,GAAkB7D,KAAMrB,IAE/C,IAAK,IAAIpC,KAAOY,KAAKZ,IACnBwH,EAAQ9D,KAAK,CAAEvH,KAAMmL,GAAiB7D,KAAMzD,IAE9C,IAAK,IAAI4C,KAAOhC,KAAKkB,KACnB0F,EAAQ9D,KAAK,CAAEvH,KAAMmL,GAAiB7D,KAAMb,IAE9C,OAAO4E,I,gCAGCM,EAAO3L,GACf,OAAQA,GACN,KAAKmL,GACH,OAAO1G,KAAK8G,UAAUI,GACxB,KAAKR,GACH,OAAO1G,KAAK+G,MAAMG,GACpB,KAAKR,GACH,OAAO1G,KAAKlG,MAAMoN,GACpB,KAAKR,GACH,OAAO1G,KAAKZ,IAAI8H,GAClB,KAAKR,GACH,OAAO1G,KAAKkB,KAAKgG,GACnB,QACE,OAAO,Q,gCAIHrE,EAAMtH,GACd,OAAQA,GACN,KAAKmL,GACH1G,KAAK8G,UAAUhE,KAAKD,GACpB,MACF,KAAK6D,GACH1G,KAAK+G,MAAMjE,KAAKD,GAChB,MACF,KAAK6D,GAGL,KAAKA,GAGL,KAAKA,GACH1G,KAAKlG,MAAMgJ,KAAKD,GAKpB7C,KAAK6G,iB,mCAGMK,EAAO3L,GAClB,OAAQA,GACN,KAAKmL,GACH1G,KAAK8G,UAAUK,OAAOD,EAAO,GAC7B,MACF,KAAKR,GACH1G,KAAK+G,MAAMI,OAAOD,EAAO,GACzB,MACF,KAAKR,GAGL,KAAKA,GAGL,KAAKA,GACH1G,KAAKlG,MAAMqN,OAAOD,EAAO,GAK7BlH,KAAK6G,iB,gCAGGK,EAAO3L,GACf,IAAMsH,EAAO7C,KAAKoH,UAAUF,EAAO3L,GACnC,GAAa,OAATsH,EACF,OAAO,EAET7C,KAAKqH,aAAaH,EAAO3L,GACzByE,KAAKsH,UAAUzE,EAAMtH,GACrByE,KAAK6G,mB,uBCnIIU,GAAa,CACxBC,UAAW,CACT5Q,QAAS,OACTU,cAAe,SACfJ,eAAgB,SAChBC,WAAY,SACZsQ,MAAOC,IAAYC,iBACnBC,QAAS,IAEXnH,KAAM,CACJ7J,QAAS,OACTa,MAAO,GACPE,OAAQ,GACRT,eAAgB,SAChBC,WAAY,SACZ0Q,aAAc,MACdC,gBAAiBJ,IAAYK,iBAC7BC,UAAW,gCACXC,OAAQ,GAEVC,MAAO,CACLC,SAAU,GACV1Q,MAAO,GACPoQ,aAAc,EACdO,KAAM,EACNC,WAAY,SACZC,WAAY,gBACZV,QAAS,EACTW,QAAS,OACTC,OAAQ,OACRV,gBAAiBJ,IAAYK,iBAC7BN,MAAOC,IAAYe,iBAErB/N,KAAM,CACJ0N,KAAM,EACND,SAAU,GACVvR,QAAS,OACTU,cAAe,MACfJ,eAAgB,SAChBC,WAAY,SACZuR,UAAW,SACXL,WAAY,SACZC,WAAY,gBACZK,WAAY,WC0CDC,GApFC,SAAC,GAgBV,IAfLjR,EAeI,EAfJA,OACAF,EAcI,EAdJA,MACAgJ,EAaI,EAbJA,KACAlF,EAYI,EAZJA,KACAb,EAWI,EAXJA,KACAmO,EAUI,EAVJA,aACAC,EASI,EATJA,QASI,IARJC,oBAQI,MARW,aAQX,EAPJC,EAOI,EAPJA,gBACAC,EAMI,EANJA,SAMI,IALJC,qBAKI,aAJJC,iBAII,SAHJC,EAGI,EAHJA,YACAC,EAEI,EAFJA,UAEI,IADJC,aACI,MADI,EACJ,IACwBC,mBAAS7O,GADjC,oBACG8O,EADH,KACU/D,EADV,KAaJ,OACE,sBACEgE,MAAK,2BACAlC,GAAWC,WADX,IAEH/P,QACAE,SACA+R,KAAMJ,IAERH,UAAWA,EACXC,YAAaA,EACbC,UAAWA,EATb,UAWE,qBACEI,MAAOlC,GAAW9G,KAClBqI,QAASA,EACTa,cAAeZ,EACfa,YAvBY,SAACC,GACjBA,EAAEC,OAAOL,MAAMM,QAAU,IAuBrBC,WApBc,SAACH,GACnBA,EAAEC,OAAOL,MAAMM,QAAU,GAcvB,SAOGtJ,IAEFoI,EACC,uBACEY,MAAOlC,GAAWW,MAClB3M,KAAM,OACNsF,MAAO2I,EACPS,WAAS,EACTC,QAAS,SAACL,GACRA,EAAEC,OAAOK,UAEXC,SAzCY,SAACP,GACnBpE,EAAWoE,EAAEC,OAAOjJ,QAyCdwJ,YAAY,EACZC,UAAW,SAACT,GACV5Q,QAAQC,IAAI2Q,EAAEjJ,KACA,UAAViJ,EAAEjJ,IAAiBqI,EAASO,EAAOjO,GACpB,WAAVsO,EAAEjJ,MACToI,GAAgB,GAChBvD,EAAW/K,OAKjB,qBACE+O,MAAK,eAAOlC,GAAW7M,MACvBoO,QAAS,WACHI,GAAeF,GAAgB,IAHvC,SAMGuB,YAAQ7P,EAAM,GAAI,aC/EhB8P,GAAa,CACxBhD,UAAW,CACT5Q,QAAS,OACTU,cAAe,SACfJ,eAAgB,aAChBC,WAAY,WAEdsT,MAAO,CACL7T,QAAS,OACTU,cAAe,SACfJ,eAAgB,SAChBC,WAAY,cAEd+Q,MAAO,CACLC,SAAU,GACVN,aAAc,EACdO,KAAM,EACNC,WAAY,SACZC,WAAY,gBACZV,QAAS,EACTW,QAAS,OACTC,OAAQ,OACRV,gBAAiBJ,IAAYK,iBAC7BN,MAAOC,IAAYe,kBCrBjBiC,GAAM,SAAC,GAA6C,IAA3CxD,EAA0C,EAA1CA,MAAOuD,EAAmC,EAAnCA,MAAOE,EAA4B,EAA5BA,WAAYC,EAAgB,EAAhBA,UAAgB,EACzBrB,mBAASkB,EAAM5J,OADU,oBAChDgK,EADgD,KACxCC,EADwC,KAevD,OACE,qBAEErB,MAAK,2BACAe,GAAWC,OADX,IAEH9S,OAAQiT,GACLD,GAEL7B,QAAS2B,EAAMnR,KACfqQ,cAAec,EAAMM,YACrBnB,YAlBc,SAACC,GACjBA,EAAEC,OAAOL,MAAMM,QAAU,IAkBvBC,WAfgB,SAACH,GACnBA,EAAEC,OAAOL,MAAMM,QAAU,GAIzB,SAYGU,EAAMO,cACL,uBAEEvB,MAAOe,GAAWtC,MAClB3M,KAAM,OACNsF,MAAOgK,EACPZ,WAAS,EACTC,QAAS,SAACL,GACRA,EAAEC,OAAOK,UAEXE,YAAY,EACZD,SApCY,SAACP,GACnBiB,EAAYjB,EAAEC,OAAOjJ,QAoCfyJ,UAAW,SAACT,GACI,UAAVA,EAAEjJ,IAAiB6J,EAAMQ,UAAUJ,GACpB,WAAVhB,EAAEjJ,MACT6J,EAAMS,aACNJ,EAAYL,EAAM5J,UAdjBqG,GAmBPuD,EAAMU,SAhCHjE,IA8DIkE,G,uKAvBH,IAAD,OACDC,EAAOrL,KAAKR,MAAM8L,QAAQC,KAAI,SAACd,EAAOvD,GAAR,OAClC,cAAC,GAAD,CAEEuD,MAAOA,EACPG,UAAW,EAAKpL,MAAMoL,UACtBD,WAAY,EAAKnL,MAAMmL,WACvBzD,MAAOA,GAJFA,MAOT,OACE,qBACEuC,MAAK,2BACAe,GAAWhD,WACXxH,KAAKR,MAAMgM,gBAHlB,SAMGH,Q,GAlBeI,IAAMC,WCzDjBC,GAAY,CACvBnE,UAAW,CACT3Q,SAAU,QACVwR,WAAY,SACZP,gBAAiBJ,IAAYkE,YAC7BnE,MAAOC,IAAYe,gBACnBN,SAAU,IAEZ0D,OAAQ,CACNjE,QAAS,ICSEkE,GAfG,SAAC,GAA4B,IAA1BR,EAAyB,EAAzBA,QAASxU,EAAgB,EAAhBA,IAAKC,EAAW,EAAXA,KACjC,OACE,cAAC,GAAD,CACEuU,QAASA,EACTV,UAAW,GACXY,eAAc,2BACTG,GAAUnE,WADD,IAEZ1Q,MACAC,SAEF4T,WAAYgB,GAAUE,UCdb,GACL,CACNjV,QAAS,OACTM,eAAgB,SAChBC,WAAY,SACZ4U,OAAQ,WCSGC,GAbU,SAAC,GAAkC,IAAhC5L,EAA+B,EAA/BA,SAAU0I,EAAqB,EAArBA,QAASW,EAAY,EAAZA,MAC7C,OACE,qBACEG,YAAa,SAACC,GAAD,OAAQA,EAAEC,OAAOL,MAAMM,QAAU,IAC9CC,WAAY,SAACH,GAAD,OAAQA,EAAEC,OAAOL,MAAMM,QAAU,GAC7CN,MAAK,2BAAO/S,IAAkB+S,GAC9BX,QAASA,EAJX,SAMG1I,KCUQ6L,GAjBA,SAAC,GAAkC,IAAhC7L,EAA+B,EAA/BA,SAAU0I,EAAqB,EAArBA,QAASW,EAAY,EAAZA,MACnC,OACE,cAAC,GAAD,CACEX,QAASA,EACTW,MAAK,aACH5B,aAAc,GACdD,QAAS,GACTE,gBAAiBJ,IAAYwE,aAC7BzE,MAAOC,IAAYC,iBACnBU,WAAY,UACToB,GARP,SAWGrJ,KCfQ,IACboH,UAAW,CACTK,aAAc,GACdjR,QAAS,OACTU,cAAe,SACfJ,eAAgB,WAChBC,WAAY,WAEdgV,cAAe,CACb/D,KAAM,EACNC,WAAY,SACZzR,QAAS,OACTM,eAAgB,SAChBC,WAAY,SACZyQ,QAAS,GACTwE,WAAY,OACZ1D,UAAW,UAEb2D,WAAY,CACVC,oBAAqB,EACrBC,qBAAsB,EACtBC,uBAAwB,GACxBC,wBAAyB,EACzBjE,OAAQ,sBACRJ,KAAM,GAERsE,YAAa,CACXJ,oBAAqB,EACrBC,qBAAsB,EACtBC,uBAAwB,EACxBC,wBAAyB,GACzBjE,OAAQ,sBACRJ,KAAM,ICSKuE,GArCD,SAAC,GAQR,IAAD,IAPJlV,aAOI,MAPI,IAOJ,MANJE,cAMI,MANK,IAML,EALJiV,EAKI,EALJA,SACAC,EAII,EAJJA,SACAC,EAGI,EAHJA,UACAC,EAEI,EAFJA,UACA3M,EACI,EADJA,SAEA,OACE,qBACEqJ,MAAK,2BACA/S,EAAOC,qBADP,IAEHmR,gBAAiBJ,IAAYK,mBAHjC,SAME,sBACE0B,MAAK,2BACAuD,GAAYxF,WADZ,IAEH/P,QACAE,SACAmQ,gBAAiBJ,IAAYuF,mBALjC,UAQE,qBAAKxD,MAAOuD,GAAYb,cAAxB,SAAwC/L,IACxC,sBAAKqJ,MAAO,CAAE7S,QAAS,QAAvB,UACE,cAAC,GAAD,CAAQ6S,MAAOuD,GAAYX,WAAYvD,QAAS+D,EAAhD,SACGD,IAEH,cAAC,GAAD,CAAQnD,MAAOuD,GAAYN,YAAa5D,QAASiE,EAAjD,SACGD,aCREI,GAtBS,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,WAQzB,OAPAC,qBAAU,WACR/T,GAAgB,SAACgU,GACfpU,QAAQC,IAAImU,GACZF,GAAYE,QAEb,IAGD,cAAC,GAAD,CACET,SAAU,YACVC,SAAUrT,EACVsT,UAAW,SACXC,UAAW,WACTI,GAAW,IALf,wJCZSG,GAAW,CACtBC,QAAS,CACP3W,QAAS,OACTM,eAAgB,SAChBC,WAAY,SACZG,cAAe,SACfwQ,gBAAiBJ,IAAYK,iBAC7BF,aAAc,GACdI,OAAQ,GACRuF,SAAU,IACVC,SAAU,IACVC,WAAY,cAEdC,MAAO,CACLxF,SAAU,GACVV,MAAOC,IAAYe,gBACnBJ,WAAY,SACZJ,OAAQ,GACRK,WAAY,iBAEdsF,OAAQ,CACNhX,QAAS,OACTO,WAAY,SACZG,cAAe,MACf2Q,OAAQ,EACR4F,UAAW,UACX3W,eAAgB,aAChB4W,SAAU,S,8GCkiBCC,G,kDA3hBb,WAAYvO,GAAQ,IAAD,8BACjB,cAAMA,IA8KRwO,WA/KmB,uCA+KN,WAAOnE,GAAP,6BAAAhS,EAAA,yDACXgS,EAAEoE,oBACInU,EAAQ+P,EAAEqE,aAAapU,OACnBO,OAAS,GAHR,+BAIQP,GAJR,aAAAjC,EAAA,8CAAAA,EAAA,yDAIA2J,EAJA,QAKPvI,QAAQC,IAAIsI,GACN2M,EAAW3M,EAAK9G,KAAK0T,MAAM,KAAK,GAChCtO,EAAM0B,EAAK9G,KAAK0T,MAAM,KAAK,IAC3BC,EAAWC,YAAYxO,MACZyO,IAAUC,QATpB,gBAUL9P,MAAM,oCAVD,0BAYDb,EAAO,KACPkC,EAAQ,GAEVsO,IAAaE,IAAUE,KACvBJ,IAAaE,IAAUG,KACvBL,IAAaE,IAAUI,KACvBN,IAAaE,IAAUK,GAlBpB,kCAoBUC,YAAUrN,GApBpB,QAoBH3D,EApBG,kCAqBIwQ,IAAaE,IAAUO,KAAOT,IAAaE,IAAUQ,IArBzD,kCAsBUC,YAAaxN,GAtBvB,QAsBH3D,EAtBG,kCAwBHwQ,IAAaE,IAAUU,KACvBZ,IAAaE,IAAUW,KACvBb,IAAaE,IAAUY,IA1BpB,oBA4BGC,EA5BH,+BAAAvX,EAAA,MA4BqB,gCAAAA,EAAA,sEACJ+B,IADI,WAChB7B,EADgB,QAEbuC,MAFa,iCAGEQ,EAAgB/C,EAAIwC,SAAUiH,GAHhC,WAGd6N,EAHc,QAIP/U,MAJO,kCAKG8B,EAAaiT,EAAQlT,QALxB,SAKZmT,EALY,QAMNhV,QACVuD,EAAOyR,EAAO/S,QACdwD,EAAQ,CACN5D,OAAQmT,EAAOnT,OACf8I,SAAS,GAEXhM,QAAQC,IAAI6G,IAZI,4CA5BrB,qDA6CE5G,IA7CF,wBA8CD,EAAKoW,kBAAiB,GACtBlW,EAAe,uCAAC,WAAOgU,GAAP,SAAAxV,EAAA,0DACVwV,EADU,gCAEN+B,IAFM,OAGZnW,QAAQC,IAAI6G,GACZ,EAAKP,MAAML,WAAWqQ,cACpB,EAAK7R,MAAM8R,iBAAiBpN,UAC5B8L,EACAtQ,EACAiC,EACAC,GAEF,EAAK2P,uBAXO,2CAAD,uDA/Cd,uDA+DKN,IA/DL,iDAkEUP,YAAUrN,GAlEpB,QAkEH3D,EAlEG,eAqEL,EAAK2B,MAAML,WAAWqQ,cACpB,EAAK7R,MAAM8R,iBAAiBpN,UAC5B8L,EACAtQ,EACAiC,EACAC,GAEF,EAAK2P,uBA5EA,wXAgFH9Q,EAAOiL,EAAEqE,aAAa5O,QAAQ,QAC9BO,EAASgK,EAAEqE,aAAa5O,QAAQ,UAChC+F,EAAc,EAAK1H,MAAM8R,iBAAiBpN,UAChD,EAAK7C,MAAML,WAAWwF,SAAS9E,EAAQjB,EAAMyG,GAC7C,EAAKqK,uBApFI,gEA/KM,sDAEjB,EAAK/R,MAAQ,CACX8R,iBAAkB,KAClBE,eAAgB,GAChBC,SAAS,EACTC,cAAe,GACfC,aAAc,GACdC,eAAe,GAEjB,EAAKC,uBAAyB,EAAKA,uBAAuBpK,KAA5B,gBAC9B,EAAK8J,qBAAuB,EAAKA,qBAAqB9J,KAA1B,gBAC5B,EAAKqK,WAAa,EAAKA,WAAWrK,KAAhB,gBAClB,EAAKsK,gBAAkB,EAAKA,gBAAgBtK,KAArB,gBACvB,EAAKoD,gBAAkB,EAAKA,gBAAgBpD,KAArB,gBACvB,EAAK2J,iBAAmB,EAAKA,iBAAiB3J,KAAtB,gBACxB,EAAKqD,SAAW,EAAKA,SAASrD,KAAd,gBAChB,EAAKuK,SAAW,EAAKA,SAASvK,KAAd,gBAChB,EAAKwK,WAAa,EAAKA,WAAWxK,KAAhB,gBAClB,EAAKyK,eAAiB,EAAKA,eAAezK,KAApB,gBACtB,EAAK0K,qBAAuB,EAAKA,qBAAqB1K,KAA1B,gBAC5B,EAAK2K,cAAgB,EAAKA,cAAc3K,KAAnB,gBACrB,EAAKoI,WAAa,EAAKA,WAAWpI,KAAhB,gBAtBD,E,gEAyBE,IAAD,OAClB5F,KAAKR,MAAML,WAAWqR,gBAAgBxQ,KAAK0P,sBACvC1P,KAAKR,MAAMwB,MAAMhB,KAAKgQ,uBAAuBhQ,KAAKR,MAAMwB,MAEpC,QAApBhB,KAAKR,MAAMwB,MACbhB,KAAKR,MAAML,WAAWsR,aAAY,kBAChC,EAAKT,uBAAuB,EAAKxQ,MAAMwB,W,uCAK5B0P,GACf1Q,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZoS,cAAeW,S,6CAII9R,GACrB,IACM6Q,EADazP,KAAKR,MAAML,WACM4F,aAAanG,GAC7C+Q,EAAiBF,EAAiBlN,cAEtC,IAAK,IAAI3B,KADT+O,EAAc,eAAQA,GAEpBA,EAAe/O,GAAO,CACpBnG,SAAUkV,EAAe/O,GACzBiI,cAAc,GAIlB7I,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZ8R,mBACAE,wB,6CAKF,IAAIA,EAAiB3P,KAAKrC,MAAM8R,iBAAiBlN,cAEjD,IAAK,IAAI3B,KADT+O,EAAc,eAAQA,GAEpBA,EAAe/O,GAAO,CACpBnG,SAAUkV,EAAe/O,GACzBiI,cAAc,GAGlB7I,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZiS,SAAS,EACTD,wB,mCAKF3P,KAAKR,MAAML,WAAWqQ,cACpBxP,KAAKrC,MAAM8R,iBAAiBpN,UAC5B,WACA,IAEFrC,KAAK0P,yB,wCAIL1P,KAAKR,MAAML,WAAWwR,mBACpB3Q,KAAKrC,MAAM8R,iBAAiBpN,UAC5B,cAEFrC,KAAK0P,yB,iCAGI9Q,GACLoB,KAAKrC,MAAM8R,iBAAiBmB,QAC9B5Q,KAAKR,MAAML,WAAW0R,eAAejS,GAErCoB,KAAKR,MAAML,WAAW2R,WACpB9Q,KAAKrC,MAAM8R,iBAAiBpN,UAC5BzD,GAEJoB,KAAK0P,yB,sCAGS9O,EAAKC,GACnB,IAAM8O,EAAiB3P,KAAKrC,MAAMgS,eAClCA,EAAe/O,GAAKiI,aAAehI,EACnCb,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZgS,wB,iCAIO9F,GACTA,EAAEoE,iBACa,UAAXpE,EAAEtO,KACJtD,OAAO8Y,oBAAoB,QAAS/Q,KAAKoQ,YACtCnY,OAAO8Y,oBAAoB,cAAe/Q,KAAKoQ,YACpDpQ,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZiS,SAAS,S,+BAIJoB,EAAGC,EAAG3F,GACbtL,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZiS,SAAS,EACTC,cAAe,CAAEmB,IAAGC,KACpBnB,aAAcxE,S,+BAIT1M,EAAMlE,EAAMa,GACfA,IAAS0E,GAAMC,KACjBF,KAAKR,MAAML,WAAW+R,eAAetS,EAAMlE,GAE3CsF,KAAKR,MAAML,WAAWgS,oBAAoBvS,EAAMlE,GAElDsF,KAAK0P,yB,qCAGQjV,GACb,GAAIA,EAASc,OAAS0E,GAAMI,IAAKL,KAAKgQ,uBAAuBvV,EAASmE,WAEpE,OAAQ0P,YAAY7T,EAASqF,MAC3B,KAAKyO,IAAUE,IACf,KAAKF,IAAUK,GACf,KAAKL,IAAUG,IACf,KAAKH,IAAUI,IACb3O,KAAKR,MAAM4R,eAAe3W,EAASmE,MACnC,MACF,KAAK2P,IAAUO,IACf,KAAKP,IAAUQ,IACb/O,KAAKR,MAAM6R,iBAAiB5W,EAASmE,MACrC,MACF,KAAK2P,IAAUU,IACf,KAAKV,IAAUY,IACf,KAAKZ,IAAUW,IACblP,KAAKR,MAAM6R,iBAAiB5W,EAASmE,MACrC,MACF,QACEoB,KAAKR,MAAM4R,eAAe3W,EAASmE,S,oCAM7BiL,EAAGjL,EAAMiB,GACrBgK,EAAEqE,aAAaoD,QAAQ,OAAQ1S,GAC/BiL,EAAEqE,aAAaoD,QAAQ,SAAUzR,K,2CA2FdgK,EAAGpP,GAAW,IAAD,OAChCxC,OAAOsZ,iBAAiB,QAASvR,KAAKoQ,YACtCvG,EAAEoE,iBACFpE,EAAE2H,kBACFxR,KAAKmQ,SAAStG,EAAE4H,QAAS5H,EAAE6H,QAAS,CAClC,CACEvG,QAAS,cACT7R,KAAM,kBAAM,EAAKqY,WAAWlX,EAASmE,Y,gDAKjBiL,GAAI,IAAD,OAC3B5R,OAAOsZ,iBAAiB,QAASvR,KAAKoQ,YACtCvG,EAAEoE,iBACFjO,KAAKmQ,SAAStG,EAAE4H,QAAS5H,EAAE6H,QAAS,CAClC,CACEvG,QAAS,gBACT7R,KAAM,kBACJ,EAAKkG,MAAMoS,kBAAkB,EAAKjU,MAAM8R,iBAAiBpN,iB,2CAK5CwH,EAAGpP,GAAW,IAAD,OAChCxC,OAAOsZ,iBAAiB,QAASvR,KAAKoQ,YACtCvG,EAAEoE,iBACFpE,EAAE2H,kBACE/W,EAASc,OAAS0E,GAAMI,IAC1BL,KAAKmQ,SAAStG,EAAE4H,QAAS5H,EAAE6H,QAAS,CAClC,CACEvG,QAAS,SACT7R,KAAM,kBAAM,EAAKqY,WAAWlX,EAASmE,QAEvC,CACEuM,QAAS,SACT7R,KAAM,WACJ,EAAK0P,gBAAgBvO,EAASmE,MAAM,KAGxC,CACEuM,QAAS,wBACT7R,KAAM,WACJ,EAAKkG,MAAMqS,kBAAkBpX,EAASmE,QAG1C,CACEuM,QAAS,qBACT7R,KAAM,WACJ,EAAKkG,MAAMsS,WAAWrX,EAASmE,UAI5BnE,EAASc,OAAS0E,GAAMC,MACjCF,KAAKmQ,SAAStG,EAAE4H,QAAS5H,EAAE6H,QAAS,CAClC,CACEvG,QAAS,SACT7R,KAAM,kBAAM,EAAKqY,WAAWlX,EAASmE,QAEvC,CACEuM,QAAS,SACT7R,KAAM,WACJ,EAAK0P,gBAAgBvO,EAASmE,MAAM,KAGxC,CACEuM,QAAS,wBACT7R,KAAM,WACJ,EAAKkG,MAAMqS,kBACT,EAAKrS,MAAML,WAAWE,QAAQ5E,EAASmE,MAAM0D,eAInD,CACE6I,QAAS,kBACT7R,KAAM,WACJ,EAAKkG,MAAM6R,iBAAiB5W,EAASmE,QAGzC,CACEuM,QAAS,qBACT7R,KAAM,WACJ,EAAKkG,MAAMuS,eAAetX,EAASmE,Y,+BAOnC,IAAD,OACH0M,EAAU,GACRmE,EAAmBzP,KAAKrC,MAAM8R,iBAC9BE,EAAiB3P,KAAKrC,MAAMgS,eAC5BrG,EAAQtJ,KAAKR,MAAM0G,WAAW8L,SAEpC,GAAIvC,GAAoBE,IAAmB,GAAI,CAC7C,IAAM9P,EAAS4P,EAAiBnN,YAC5BzC,GACFyL,EAAQxI,KACN,cAAC,GAAD,CAEErC,KACE,cAACwR,GAAA,EAAD,CACExI,MAAO,CAAEtB,SAAU,GAAIV,MAAOC,IAAYwK,OAG9CxX,KAAM,OACNa,KAAM,KACN9D,MAAO,IACPE,OAAQ,IACRmR,QAAS,SAACe,GACR,EAAKmG,uBAAuBnQ,IAE9BgJ,cAAc,EACdK,eAAe,EACfI,MAAOA,GAfF,aALkC,eAwBpC1I,GACP,IAAMnG,EAAWkV,EAAe/O,GAAKnG,SACrC6Q,EAAQxI,KACN,cAAC,GAAD,CAEErC,KACEhG,EAASc,OAAS0E,GAAMI,IACtB,cAAC8R,GAAA,EAAD,CACE1I,MAAO,CAAEtB,SAAU,IACnBiK,aAAc1K,IAAY2K,SAE1B/D,YAAY7T,EAASqF,OAASyO,IAAUO,IAC1C,cAACwD,GAAA,EAAD,CACE7I,MAAO,CAAEtB,SAAU,IACnBiK,aAAc1K,IAAY2K,SAE1B/D,YAAY7T,EAASqF,OAASyO,IAAUQ,IAC1C,cAACwD,GAAA,EAAD,CACE9I,MAAO,CAAEtB,SAAU,IACnBiK,aAAc1K,IAAY2K,SAE1B/D,YAAY7T,EAASqF,OAASyO,IAAUG,IAC1C,cAAC8D,GAAA,EAAD,CACE/I,MAAO,CAAEtB,SAAU,IACnBiK,aAAc1K,IAAY2K,SAE1B/D,YAAY7T,EAASqF,OAASyO,IAAUK,GAC1C,cAAC6D,GAAA,EAAD,CACEhJ,MAAO,CAAEtB,SAAU,IACnBiK,aAAc1K,IAAY2K,SAE1B/D,YAAY7T,EAASqF,OAASyO,IAAUU,IAC1C,cAACyD,GAAA,EAAD,CACEjJ,MAAO,CAAEtB,SAAU,IACnBiK,aAAc1K,IAAY2K,SAE1B/D,YAAY7T,EAASqF,OAASyO,IAAUY,IAC1C,cAACwD,GAAA,EAAD,CACElJ,MAAO,CAAEtB,SAAU,IACnBiK,aAAc1K,IAAY2K,SAE1B/D,YAAY7T,EAASqF,OAASyO,IAAUW,IAC1C,cAAC0D,GAAA,EAAD,CACEnJ,MAAO,CAAEtB,SAAU,IACnBiK,aAAc1K,IAAY2K,SAG5B,cAACQ,GAAA,EAAD,CACEpJ,MAAO,CAAEtB,SAAU,IACnBiK,aAAc1K,IAAY2K,SAIhC3X,KAAMD,EAASC,KACfa,KAAMd,EAASc,KACf9D,MAAO,IACPE,OAAQ,IACRmR,QAAS,SAACe,GAC2B,QAA/B4F,EAAiBpN,UACnB3D,MAAM,6CACH,EAAK2R,eAAe5V,IAE3BsO,aAAc,SAACc,GACsB,QAA/B4F,EAAiBpN,UACnB,EAAKyQ,qBAAqBjJ,EAAGpP,GAC1B,EAAK6V,qBAAqBzG,EAAGpP,IAEpC0O,WAAW,EACXC,YAAa,SAACS,GAAD,OACX,EAAK0G,cAAc1G,EAAGpP,EAASmE,KAAM6Q,EAAiBpN,YAExDgH,UAAW,SAACQ,GACwB,SAA9BA,EAAEqE,aAAa6E,WACjB9Z,QAAQC,IAAI,aAEZ,EAAKwW,wBAGT7G,aAAc8G,EAAe/O,GAAKiI,aAClCG,gBAAiB,SAACnI,GAAD,OAAW,EAAKmI,gBAAgBpI,EAAKC,IACtDoI,SAAU,SAACpI,EAAOtF,GAAR,OAAiB,EAAK0N,SAASrI,EAAKC,EAAOtF,IACrD+N,MAAOA,GA7EF7O,EAASmE,QAJpB,IAAK,IAAIgC,KAAO+O,EAAiB,EAAxB/O,GAqF0B,QAA/B6O,EAAiBpN,WACnBiJ,EAAQxI,KACN,cAAC,GAAD,CAEErC,KACE,cAACuS,GAAA,EAAD,CACEvJ,MAAO,CAAEtB,SAAU,GAAIV,MAAOC,IAAYuL,SAG9CvY,KAAM,SACNjD,MAAO,IACPE,OAAQ,IACRmR,QAAS,SAACe,GACRA,EAAE2H,kBACFvZ,OAAOsZ,iBAAiB,QAAS,EAAKnB,YACtC,EAAKD,SAAStG,EAAE4H,QAAS5H,EAAE6H,QAAS,CAClC,CAAEvG,QAAS,cAAe7R,KAAM,EAAK2W,YACrC,CAAE9E,QAAS,gBAAiB7R,KAAM,EAAK4W,oBAG3ChH,eAAe,EACfL,cAAc,EACdS,MAAOA,GAnBF,eAwBb,OACE,sBACEG,MAAK,2BACA6D,GAASC,SADT,IAEH9V,MACEyb,KAAKC,MACsB,GAAxBnT,KAAKR,MAAM4T,KAAK3b,OAAgB,IAAM6R,EAAQA,EAAQ,KACpD,IAAMA,EAAQA,EAAQ,IAC1BtJ,KAAKR,MAAMiK,OAEhB4J,WAAY,SAACxJ,GACXA,EAAEoE,kBAEJqF,OAAQ,SAACzJ,GAAD,OAAO,EAAKmE,WAAWnE,IAC/BF,cAAe,SAACE,GAAD,OAAO,EAAK0J,0BAA0B1J,IAbvD,UAeG7J,KAAKrC,MAAMoS,eACV,cAAC,GAAD,CAAiB5C,WAAYnN,KAAKuP,mBAEnCE,EACgC,SAA/BA,EAAiBpN,UACf,qBAAKoH,MAAO6D,GAASK,MAArB,SAA6B,kBACI,QAA/B8B,EAAiBpN,UACnB,qBAAKoH,MAAO6D,GAASK,MAArB,SAA6B,gBAE7B,qBAAKlE,MAAO6D,GAASK,MAArB,SAA6B8B,EAAiBrN,YAGhD,6BAEF,sBAAKqH,MAAO6D,GAASM,OAArB,UACG5N,KAAKrC,MAAMiS,SACV,cAAC,GAAD,CACE9Y,IAAKkJ,KAAKrC,MAAMkS,cAAcoB,EAC9Bla,KAAMiJ,KAAKrC,MAAMkS,cAAcmB,EAC/B1F,QAAStL,KAAKrC,MAAMmS,eAGvBxE,Y,GArhBmBG,IAAMC,WCjCvB8H,GAAc,CACzBC,MAAO,CACL5c,SAAU,WACVC,IAAK,EACLE,MAAO,EACPD,KAAM,EACNY,OAAQ,GACRf,QAAS,OACTU,cAAe,MACfJ,eAAgB,WAChBC,WAAY,SACZ2Q,gBAAiBJ,IAAYkE,YAC7BU,oBAAqB,EACrBC,qBAAsB,GAExBoB,MAAO,CACLvF,KAAM,EACNxR,QAAS,OACTU,cAAe,MACfJ,eAAgB,SAChBC,WAAY,SACZuc,YAAa,GACbjM,MAAOC,IAAYe,gBACnBJ,WAAY,SACZM,WAAY,SACZoD,OAAQ,OACR3U,SAAU,UAEZuc,WAAY,CACV1L,OAAQ,EACRtQ,OAAQ,GACRF,MAAO,GACPoQ,aAAc,EACdjR,QAAS,OACTM,eAAgB,SAChBC,WAAY,SACZ4U,OAAQ,WAEVZ,QAAS,CACPtU,SAAU,WACVC,IAAK,GACLG,OAAQ,EACRF,KAAM,EACNC,MAAO,EACPJ,QAAS,OACTwR,KAAM,EACNoE,uBAAwB,EACxBC,wBAAyB,EACzBnV,cAAe,SACfJ,eAAgB,aAChBC,WAAY,aACZC,SAAU,S,oBCyGCwc,GA3JG,SAAC,GASZ,IARLxT,EAQI,EARJA,SACA5F,EAOI,EAPJA,GACAiP,EAMI,EANJA,MACAN,EAKI,EALJA,UACA0K,EAII,EAJJA,UACAC,EAGI,EAHJA,eAGI,IAFJhL,eAEI,MAFM,aAEN,MADJiL,oBACI,MADW,aACX,EACEhd,EAAOid,iBAAO,GACdld,EAAMkd,iBAAO,GACbC,EAAUD,mBAEVE,EAAcC,uBAAY,SAACtK,GAC/B,IAAMuK,EAAMH,EAAQI,SACpBxK,EAAIA,GAAK5R,OAAOqc,OACdrG,iBACF,IAAMsG,EAAWrB,KAAKsB,IAAI,EAAGtB,KAAKuB,IAAI5K,EAAE4H,QAASxZ,OAAOyc,aAClDC,EAAWzB,KAAKsB,IAAI,EAAGtB,KAAKuB,IAAI5K,EAAE6H,QAASzZ,OAAO2c,cAClDC,EAAW9d,EAAKsd,QAAUE,EAC1BO,EAAUhe,EAAIud,QAAUM,EAC9B5d,EAAKsd,QAAUE,EACfzd,EAAIud,QAAUM,EACdP,EAAI3K,MAAM3S,IACRoc,KAAKsB,IAAI,EAAGtB,KAAKuB,IAAIL,EAAIW,UAAYD,EAAS7c,OAAO2c,YAAc,KACnE,KACFR,EAAI3K,MAAM1S,KACRmc,KAAKsB,IACH,EACAtB,KAAKuB,IAAIL,EAAIY,WAAaH,EAAU5c,OAAOyc,WAAa,MACtD,OACL,IAEGO,EAAmBd,uBAAY,SAACtK,GACpC,IAAMuK,EAAMH,EAAQI,QACpBxK,EAAIA,GAAK5R,OAAOqc,MAChB,IAAMC,EAAWrB,KAAKsB,IACpB,EACAtB,KAAKuB,IAAI5K,EAAEqL,QAAQ,GAAGzD,QAASxZ,OAAOyc,aAElCC,EAAWzB,KAAKsB,IACpB,EACAtB,KAAKuB,IAAI5K,EAAEqL,QAAQ,GAAGxD,QAASzZ,OAAO2c,cAElCC,EAAW9d,EAAKsd,QAAUE,EAC1BO,EAAUhe,EAAIud,QAAUM,EAC9B5d,EAAKsd,QAAUE,EACfzd,EAAIud,QAAUM,EACdP,EAAI3K,MAAM3S,IACRoc,KAAKsB,IAAI,EAAGtB,KAAKuB,IAAIL,EAAIW,UAAYD,EAAS7c,OAAO2c,YAAc,KACnE,KACFR,EAAI3K,MAAM1S,KACRmc,KAAKsB,IACH,EACAtB,KAAKuB,IAAIL,EAAIY,WAAaH,EAAU5c,OAAOyc,WAAa,MACtD,OACL,IAEGS,EAAmBhB,uBAAY,SAACtK,GACpC,IAAMuK,EAAMH,EAAQI,QACpBR,EAAUQ,QAAQ5K,MAAMsC,OAAS,OACjCkI,EAAQI,QAAQ5K,MAAMiE,WAAa,sBACnCoG,EAAeM,EAAI3K,MAAM1S,KAAMqd,EAAI3K,MAAM3S,KACzCmB,OAAO8Y,oBAAoB,UAAWoE,GACtCld,OAAO8Y,oBAAoB,YAAamD,GACxC,IAP0C,EAOpCkB,EAAUC,SAASC,qBAAqB,UAPJ,cAQ5BF,GAR4B,IAQ1C,2BAAuB,SACnB3L,MAAM8L,cAAgB,QATgB,8BAW1CxB,EAAaK,EAAI3K,MAAM1S,KAAMqd,EAAI3K,MAAM3S,OACtC,IAEG0e,EAAwBrB,uBAAY,SAACtK,GACzC,IAAMuK,EAAMH,EAAQI,QACpBR,EAAUQ,QAAQ5K,MAAMsC,OAAS,OACjCkI,EAAQI,QAAQ5K,MAAMiE,WAAa,sBACnCoG,EAAeM,EAAI3K,MAAM1S,KAAMqd,EAAI3K,MAAM3S,KACzCmB,OAAO8Y,oBAAoB,WAAYyE,GACvCvd,OAAO8Y,oBAAoB,YAAakE,GACxC,IAP+C,EAOzCG,EAAUC,SAASC,qBAAqB,UAPC,cAQjCF,GARiC,IAQ/C,2BAAuB,SACnB3L,MAAM8L,cAAgB,QATqB,8BAW/CxB,EAAaK,EAAI3K,MAAM1S,KAAMqd,EAAI3K,MAAM3S,OACtC,IAEG2e,EAAgBtB,uBAAY,SAACtK,IACjCA,EAAIA,GAAK5R,OAAOqc,OACdrG,iBACFlX,EAAKsd,QAAUxK,EAAE4H,QACjB3a,EAAIud,QAAUxK,EAAE6H,QAChBmC,EAAUQ,QAAQ5K,MAAMsC,OAAS,WACjCkI,EAAQI,QAAQ5K,MAAMiE,WAAa,OACnCzV,OAAOsZ,iBAAiB,UAAW4D,GACnCld,OAAOsZ,iBAAiB,YAAa2C,GACrC,IATuC,EASjCkB,EAAUC,SAASC,qBAAqB,UATP,cAUzBF,GAVyB,IAUvC,2BAAuB,SACnB3L,MAAM8L,cAAgB,QAXa,iCAatC,IAEGG,EAAiBvB,uBAAY,SAACtK,IAClCA,EAAIA,GAAK5R,OAAOqc,OACdrG,iBACFlX,EAAKsd,QAAUxK,EAAEqL,QAAQ,GAAGzD,QAC5B3a,EAAIud,QAAUxK,EAAEqL,QAAQ,GAAGxD,QAC3BmC,EAAUQ,QAAQ5K,MAAMsC,OAAS,WACjCkI,EAAQI,QAAQ5K,MAAMiE,WAAa,OACnCzV,OAAOsZ,iBAAiB,WAAYiE,GACpCvd,OAAOsZ,iBAAiB,YAAa0D,GACrC,IATwC,EASlCG,EAAUC,SAASC,qBAAqB,UATN,cAU1BF,GAV0B,IAUxC,2BAAuB,SACnB3L,MAAM8L,cAAgB,QAXc,iCAavC,IA0BH,OAxBAnI,qBAAU,WAgBR,OAfIjE,EACE0K,EAAUQ,UACZR,EAAUQ,QAAQ9C,iBAAiB,YAAakE,GAChD5B,EAAUQ,QAAQ9C,iBAAiB,aAAcmE,KAGnD7B,EAAUQ,QAAQtD,oBAAoB,YAAa0E,GACnD5B,EAAUQ,QAAQtD,oBAAoB,aAAc2E,GACpDzd,OAAO8Y,oBAAoB,UAAWoE,GACtCld,OAAO8Y,oBAAoB,YAAamD,GACxCjc,OAAO8Y,oBAAoB,WAAYyE,GACvCvd,OAAO8Y,oBAAoB,YAAakE,GACxChB,EAAQI,QAAQ5K,MAAM3S,IAAM,EAC5Bmd,EAAQI,QAAQ5K,MAAM1S,KAAO,GAExB,WACD8c,EAAUQ,UACZR,EAAUQ,QAAQtD,oBAAoB,YAAa0E,GACnD5B,EAAUQ,QAAQtD,oBAAoB,aAAc2E,OAGvD,CAACvM,IAGF,qBACE3O,GAAIA,EAAK,UACTmb,IAAK,SAACA,GACJ1B,EAAQI,QAAUsB,GAEpBlM,MAAOA,EACPX,QAASA,EANX,SAQG1I,KCvJMwV,GAAkB,CAC7BC,MAAO,CACLjf,QAAS,OACTU,cAAe,SACfJ,eAAgB,aAChBC,WAAY,UACZN,SAAU,WACViR,gBAAiBJ,IAAYoO,gBAC7B9N,UAAW,4BAEb+N,SAAU,CACRlf,SAAU,WACVkV,OAAQ,aACRpU,OAAQ,OACRX,OAAQ,EACRF,IAAK,EACLW,MAAO,OAETue,SAAU,CACRnf,SAAU,WACVkV,OAAQ,aACRpU,OAAQ,MACRZ,KAAM,EACNE,QAAS,EACTQ,MAAO,SC6JIwe,GAnLI,SAAC,GAWb,IAVL7V,EAUI,EAVJA,SACA8V,EASI,EATJA,WACAC,EAQI,EARJA,WACAC,EAOI,EAPJA,SACA3M,EAMI,EANJA,MACA4M,EAKI,EALJA,UACAC,EAII,EAJJA,WACA7I,EAGI,EAHJA,SACA8I,EAEI,EAFJA,UAEI,IADJC,sBACI,MADa,aACb,EACE/e,EAAQuc,iBAAOqC,GACf1e,EAASqc,iBAAOsC,GAChBtF,EAAIgD,iBAAO,GACX/C,EAAI+C,iBAAO,GACXyC,EAASzC,mBACTgC,EAAWhC,mBACX+B,EAAW/B,mBAEjB5G,qBAAU,WACW,IAAf+I,GACFC,EAAS,EAAG,GACZM,YAAW,kBAAMF,EAAe,EAAG,KAAI,MACf,IAAfL,GACTC,EAAS3e,EAAM4c,QAAS1c,EAAO0c,SAC/BqC,YAAW,kBAAMF,EAAe/e,EAAM4c,QAAS1c,EAAO0c,WAAU,MACxC,IAAf8B,IACTC,EAASne,OAAOyc,WAAYzc,OAAO2c,aACnC8B,YACE,kBAAMF,EAAeve,OAAOyc,WAAYzc,OAAO2c,eAC/C,QAGH,CAACuB,IAEJ/I,qBAAU,WACJ8I,EACEF,EAAS3B,SAAW0B,EAAS1B,UAC/B2B,EAAS3B,QAAQ9C,iBAAiB,YAAaoF,GAC/CZ,EAAS1B,QAAQ9C,iBAAiB,YAAaoF,GAC/CX,EAAS3B,QAAQ9C,iBAAiB,aAAcqF,GAChDb,EAAS1B,QAAQ9C,iBAAiB,aAAcqF,KAGlDZ,EAAS3B,QAAQtD,oBAAoB,YAAa4F,GAClDZ,EAAS1B,QAAQtD,oBAAoB,YAAa4F,GAClDX,EAAS3B,QAAQtD,oBAAoB,aAAc6F,GACnDb,EAAS1B,QAAQtD,oBAAoB,aAAc6F,GACnD3e,OAAO8Y,oBAAoB,YAAa8F,GACxC5e,OAAO8Y,oBAAoB,UAAW+F,GACtC7e,OAAO8Y,oBAAoB,YAAagG,GACxC9e,OAAO8Y,oBAAoB,WAAY+F,MAExC,CAACZ,IAEJ,IAAMW,EAAgB1C,uBAAY,SAACtK,IACjCA,EAAIA,GAAK5R,OAAOqc,OACdrG,iBACF,IAAM+I,EAAKnN,EAAE4H,QAAUT,EAAEqD,QACnB4C,EAAKpN,EAAE6H,QAAUT,EAAEoD,QACnB6C,EAAWhE,KAAKsB,IACpB/G,EACAyF,KAAKuB,IAAIhd,EAAM4c,QAAU2C,EAAI/e,OAAOyc,aAEhCyC,EAAYjE,KAAKsB,IACrB+B,EACArD,KAAKuB,IAAI9c,EAAO0c,QAAU4C,EAAIhf,OAAOyc,aAEvC+B,EAAOpC,QAAQ5K,MAAMhS,MAArB,UAAgCyf,EAAhC,MACAT,EAAOpC,QAAQ5K,MAAM9R,OAArB,UAAiCwf,EAAjC,MACAf,EAASc,EAAUC,KAClB,IAEGJ,EAAqB5C,uBAAY,SAACtK,GAEtC,IAAMmN,GADNnN,EAAIA,GAAK5R,OAAOqc,OACHY,QAAQ,GAAGzD,QAAUT,EAAEqD,QAC9B4C,EAAKpN,EAAEqL,QAAQ,GAAGxD,QAAUT,EAAEoD,QAC9B6C,EAAWhE,KAAKsB,IACpB/G,EACAyF,KAAKuB,IAAIhd,EAAM4c,QAAU2C,EAAI/e,OAAOyc,aAEhCyC,EAAYjE,KAAKsB,IACrB+B,EACArD,KAAKuB,IAAI9c,EAAO0c,QAAU4C,EAAIhf,OAAOyc,aAEvC+B,EAAOpC,QAAQ5K,MAAMhS,MAArB,UAAgCyf,EAAhC,MACAT,EAAOpC,QAAQ5K,MAAM9R,OAArB,UAAiCwf,EAAjC,MACAf,EAASc,EAAUC,KAClB,IAEGL,EAAqB3C,uBAAY,SAACtK,GACtCA,EAAIA,GAAK5R,OAAOqc,MAChB7c,EAAM4c,QAAU+C,OAAOX,EAAOpC,QAAQ5K,MAAMhS,MAAM4f,QAAQ,OAAQ,KAClE1f,EAAO0c,QAAU+C,OAAOX,EAAOpC,QAAQ5K,MAAM9R,OAAO0f,QAAQ,OAAQ,KACpEZ,EAAOpC,QAAQ5K,MAAMiE,WAAa,0BAClCzV,OAAO8Y,oBAAoB,YAAa8F,GACxC5e,OAAO8Y,oBAAoB,UAAW+F,GACtC,IAP4C,EAOtC1B,EAAUC,SAASC,qBAAqB,UAPF,cAQ9BF,GAR8B,IAQ5C,2BAAuB,SACnB3L,MAAM8L,cAAgB,QATkB,8BAW5CiB,EAAe/e,EAAM4c,QAAS1c,EAAO0c,WACpC,IAEGiD,EAA0BnD,uBAAY,SAACtK,GAC3CA,EAAIA,GAAK5R,OAAOqc,MAChB7c,EAAM4c,QAAU+C,OAAOX,EAAOpC,QAAQ5K,MAAMhS,MAAM4f,QAAQ,OAAQ,KAClE1f,EAAO0c,QAAU+C,OAAOX,EAAOpC,QAAQ5K,MAAM9R,OAAO0f,QAAQ,OAAQ,KACpEZ,EAAOpC,QAAQ5K,MAAMiE,WAAa,0BAClCzV,OAAO8Y,oBAAoB,YAAagG,GACxC9e,OAAO8Y,oBAAoB,WAAYuG,GACvC,IAPiD,EAO3ClC,EAAUC,SAASC,qBAAqB,UAPG,cAQnCF,GARmC,IAQjD,2BAAuB,SACnB3L,MAAM8L,cAAgB,QATuB,8BAWjDiB,EAAe/e,EAAM4c,QAAS1c,EAAO0c,WACpC,IAEGsC,EAAkBxC,uBAAY,SAACtK,GACnCA,EAAIA,GAAK5R,OAAOqc,MAChBtD,EAAEqD,QAAUxK,EAAE4H,QACdR,EAAEoD,QAAUxK,EAAE6H,QACd+E,EAAOpC,QAAQ5K,MAAMiE,WAAa,OAClC,IAAM0F,EAAOnb,OAAOsf,iBAAiBd,EAAOpC,SAC5C5c,EAAM4c,QAAUmD,SAASpE,EAAK3b,MAAO,IACrCE,EAAO0c,QAAUmD,SAASpE,EAAKzb,OAAQ,IACvCM,OAAOsZ,iBAAiB,YAAasF,GACrC5e,OAAOsZ,iBAAiB,UAAWuF,GACnC,IAVyC,EAUnC1B,EAAUC,SAASC,qBAAqB,UAVL,cAW3BF,GAX2B,IAWzC,2BAAuB,SACnB3L,MAAM8L,cAAgB,QAZe,iCAcxC,IAEGqB,EAAmBzC,uBAAY,SAACtK,GACpCA,EAAIA,GAAK5R,OAAOqc,MAChBtD,EAAEqD,QAAUxK,EAAEqL,QAAQ,GAAGzD,QACzBR,EAAEoD,QAAUxK,EAAEqL,QAAQ,GAAGxD,QACzB+E,EAAOpC,QAAQ5K,MAAMiE,WAAa,OAClC,IAAM0F,EAAOnb,OAAOsf,iBAAiBd,EAAOpC,SAC5C5c,EAAM4c,QAAUmD,SAASpE,EAAK3b,MAAO,IACrCE,EAAO0c,QAAUmD,SAASpE,EAAKzb,OAAQ,IACvCM,OAAOsZ,iBAAiB,YAAawF,GACrC9e,OAAOsZ,iBAAiB,WAAY+F,GACpC,IAV0C,EAUpClC,EAAUC,SAASC,qBAAqB,UAVJ,cAW5BF,GAX4B,IAW1C,2BAAuB,SACnB3L,MAAM8L,cAAgB,QAZgB,iCAczC,IAEH,OACE,sBACEI,IAAKc,EACLhN,MAAK,2BACAmM,GAAgBC,OADhB,IAEHpe,MACiB,IAAf0e,EACI,IACe,IAAfA,EACAle,OAAOyc,WACPjd,EAAM4c,QACZ1c,OACiB,IAAfwe,EACI,EACe,IAAfA,EACAle,OAAO2c,YACPjd,EAAO0c,QACb3G,WAAY,2BACTjE,GAjBP,UAoBGrJ,EACD,qBAAKuV,IAAKK,EAAUvM,MAAOmM,GAAgBI,WAC3C,qBAAKL,IAAKI,EAAUtM,MAAOmM,GAAgBG,eChBlC0B,GAzJA,SAAC,GAeT,IAdLjd,EAcI,EAdJA,GACA1D,EAaI,EAbJA,IACAC,EAYI,EAZJA,KACA2D,EAWI,EAXJA,KACA0F,EAUI,EAVJA,SAUI,IATJ3I,aASI,MATI,IASJ,MARJE,cAQI,MARK,IAQL,MAPJ8V,gBAOI,MAPO,IAOP,MANJ8I,iBAMI,MANQ,IAMR,MALJzN,eAKI,MALM,aAKN,MAJJ4O,gBAII,MAJO,aAIP,MAHJtB,gBAGI,MAHO,aAGP,MAFJI,sBAEI,MAFa,aAEb,MADJzC,oBACI,MADW,aACX,IACmCxK,mBAAS,GAD5C,oBACG4M,EADH,KACewB,EADf,OAEoBpO,mBAASzS,GAF7B,oBAEG8gB,EAFH,KAESC,EAFT,OAGoBtO,mBAASxS,GAH7B,oBAGG+gB,EAHH,KAGSC,EAHT,KAKElE,EAAYG,mBAEZgE,EAAY,SAACnO,GACjBA,EAAEC,OAAOL,MAAMM,QAAU,IAErBkO,EAAc,SAACpO,GACnBA,EAAEC,OAAOL,MAAMM,QAAU,GAErBmO,EAAa,SAACC,GAClBR,EAAiBzE,KAAKsB,IAAI,EAAGtB,KAAKuB,IAAI,EAAG0B,EAAagC,MAOlD1E,EACJ,sBAAKhK,MAAO+J,GAAYC,MAAxB,UACE,qBAAKhK,MAAO+J,GAAY7F,MAAOgI,IAAK9B,EAApC,SACkB,IAAfsC,EACG5L,YAAQ7P,EAAM,EAAG,OACF,IAAfyb,EACA5L,YAAQ7P,EAAM,GAAI,OAClB6P,YAAQ7P,EAAM,GAAI,SAER,IAAfyb,EACC,6BAEA,qBACE1M,MAAK,2BACA+J,GAAYG,YADZ,IAEH7L,gBAAiBJ,IAAYuL,QAE/BnK,QAAS,kBAAMoP,GAAY,IAC3BtO,YAAaoO,EACbhO,WAAYiO,EAPd,SASE,cAACG,GAAA,EAAD,CACE3O,MAAO,CAAEtB,SAAU,GAAIV,MAAOC,IAAYK,sBAIhC,IAAfoO,EACC,6BAEA,qBACE1M,MAAK,2BACA+J,GAAYG,YADZ,IAEH7L,gBAAiBJ,IAAY2K,SAE/BvJ,QAAS,kBAAMoP,EAAW,IAC1BtO,YAAaoO,EACbhO,WAAYiO,EAPd,SASE,cAACjF,GAAA,EAAD,CACEvJ,MAAO,CAAEtB,SAAU,GAAIV,MAAOC,IAAYK,sBAIhD,qBACE0B,MAAK,2BACA+J,GAAYG,YADZ,IAEH7L,gBAAiBJ,IAAYwK,MAE/BpJ,QAAS4O,EACT9N,YAAaoO,EACbhO,WAAYiO,EAPd,SASE,cAACI,GAAA,EAAD,CACE5O,MAAO,CAAEtB,SAAU,GAAIV,MAAOC,IAAYK,yBAMlD,OACE,cAAC,GAAD,CACEvN,GAAIA,EACJ2O,UAA0B,IAAfgN,GAAmC,IAAfA,EAC/BtC,UAAWA,EACXC,eArEmB,SAAC9C,EAAGC,GACzB8G,EAAQ/G,GACR6G,EAAQ5G,IAoENnI,QAASA,EACTiL,aAAcA,EACdtK,MACiB,IAAf0M,EACI,CACEtf,SAAU,QACVC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACR6Q,gBAAiBJ,IAAY4Q,iBAC7BC,OAAQ,GACR7K,WAAY,uBAEd,CACE7W,SAAU,QACVC,IAAK8gB,EACL7gB,KAAM+gB,EACNhQ,gBAAiBJ,IAAY4Q,iBAC7BC,OAAQ,GACR7K,WAAY,uBAzBtB,SA6BE,eAAC,GAAD,CACEwI,WAA2B,IAAfC,EACZA,WAAYA,EACZC,SAAUA,EACVI,eAAgBA,EAChBH,UAAW5e,EACX6e,WAAY3e,EACZ8V,SAAUA,EACV8I,UAAWA,EACX9M,MAAO,CACLjB,OAAuB,IAAf2N,EAAmB,kBAAoB,OAC/CtO,aAA6B,IAAfsO,EAAmB,EAAI,GAXzC,UAcG1C,EACD,qBACEhK,MAAK,2BACA+J,GAAYrI,SADZ,IAEHvU,QAAwB,IAAfuf,EAAmB,OAAS,SAHzC,SAMG/V,UCnGIoY,G,kDAjDb,WAAYhZ,GAAQ,IAAD,8BACjB,cAAMA,IACD7B,MAAQ,CACXlG,MAAO,KACPE,OAAQ,MAEV,EAAK8gB,aAAe,EAAKA,aAAa7S,KAAlB,gBANH,E,yDASNnO,EAAOE,GAClBqI,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZlG,QACAE,gB,+BAKF,OACE,cAAC,GAAD,CACE6C,GAAIwF,KAAKR,MAAMhF,GACf1D,IAAK,EACLC,KAAM,EACN2D,KAAM,gBACNoO,QAAS9I,KAAKR,MAAM0K,QACpBwN,SAAU1X,KAAKR,MAAMkZ,YACrBtC,SAAUpW,KAAKyY,aAPjB,SASE,qBAAKhP,MAAK,2BAAO/S,EAAOa,QAAd,IAAsBsW,UAAW,YAA3C,SACE,cAAC,GAAD,CACE1O,WAAYa,KAAKR,MAAML,WACvB0S,kBAAmB7R,KAAKR,MAAMqS,kBAC9BE,eAAgB/R,KAAKR,MAAMuS,eAC3B/Q,KAAMhB,KAAKR,MAAMwB,KACjBoS,KAAM,CAAE3b,MAAOuI,KAAKrC,MAAMlG,MAAOE,OAAQqI,KAAKrC,MAAMhG,QACpDma,WAAY9R,KAAKR,MAAMsS,WACvBV,eAAgBpR,KAAKR,MAAM4R,eAC3BC,iBAAkBrR,KAAKR,MAAM6R,iBAC7BsH,mBAAoB3Y,KAAKR,MAAMmZ,mBAC/BC,iBAAkB5Y,KAAKR,MAAMoZ,iBAC7BC,gBAAiB7Y,KAAKR,MAAMqZ,gBAC5B3S,WAAYlG,KAAKR,MAAM0G,qB,GA1CAuF,IAAMC,WCJ5BoN,GAAuB,CAClCvL,QAAS,CACP3W,QAAS,OACTM,eAAgB,SAChBC,WAAY,SACZG,cAAe,SACfwQ,gBAAiBJ,IAAYK,iBAC7BF,aAAc,GACdI,OAAQ,GACRuF,SAAU,IACVE,WAAY,cAEdC,MAAO,CACLxF,SAAU,GACVV,MAAOC,IAAYe,gBACnBJ,WAAY,SACZJ,OAAQ,GACRK,WAAY,iBAEdsF,OAAQ,CACNhX,QAAS,OACTO,WAAY,SACZG,cAAe,MACf2Q,OAAQ,EACR4F,UAAW,UACX3W,eAAgB,aAChB4W,SAAU,S,UC8BCiL,GAlDE,SAACvZ,GAAW,IAAD,EACF+J,oBAAS,GADP,oBACnByP,EADmB,KACbC,EADa,KAG1B,OAAID,EAEA,gCACE,cAAC,GAAD,CACE7Z,WAAYK,EAAML,WAClB3E,GAAI,MACJE,KAAM,cACNsG,KAAM,MACN0X,YAAa,kBAAMO,GAASD,IAC5B9S,WAAY1G,EAAM0G,aAEpB,cAAC,GAAD,CAEEzF,KACE,cAACyY,GAAA,EAAD,CACEzP,MAAO,CAAEtB,SAAU,GAAIV,MAAOC,IAAY2K,UAG9C3X,KAAM,cACNjD,MAAO,IACPE,OAAQ,IACRmR,QAAS,kBAAMmQ,GAASD,IACxBnQ,cAAc,EACdK,eAAe,EACfI,MAAO9J,EAAM8J,OAZR,gBAkBT,cAAC,GAAD,CAEE7I,KACE,cAACyY,GAAA,EAAD,CAAgBzP,MAAO,CAAEtB,SAAU,GAAIV,MAAOC,IAAY2K,UAE5D3X,KAAM,cACNjD,MAAO,IACPE,OAAQ,IACRmR,QAAS,kBAAMmQ,GAASD,IACxBnQ,cAAc,EACdK,eAAe,EACfI,MAAO9J,EAAM8J,OAVR,c,UCnBE6P,GAlBG,SAAC,GAAkC,IAAhCC,EAA+B,EAA/BA,kBAAmB9P,EAAY,EAAZA,MACtC,OACE,cAAC,GAAD,CAEE7I,KACE,cAAC4Y,GAAA,EAAD,CAAkB5P,MAAO,CAAEtB,SAAU,GAAIV,MAAOC,IAAY2K,UAE9D3X,KAAM,eACNjD,MAAO,IACPE,OAAQ,IACRmR,QAASsQ,EACTvQ,cAAc,EACdK,eAAe,EACfI,MAAOA,GAVF,eC6BIgQ,GAlCG,SAAC,GAEjB,IAF6D,IAA1CC,EAAyC,EAAzCA,OAAQlf,EAAiC,EAAjCA,OAAQ6M,EAAyB,EAAzBA,MAAOsS,EAAkB,EAAlBA,YACpCC,EAAO,GAD+C,WAEnDC,GACPD,EAAK3W,KACH,cAAC,GAAD,CAEE2G,MAAO,CACLhS,MAAgB,EAAT8hB,EACP5hB,OAAiB,EAAT4hB,EACR1R,aAAc0R,EACdtR,OAAQsR,EACRzR,gBACEZ,IAAUwS,EACNhS,IAAYK,iBACZL,IAAYuF,kBAEpBnE,QAAS,kBAAM0Q,EAAYE,KAXtBA,KAHFA,EAAI,EAAGA,EAAIrf,EAAQqf,IAAM,EAAzBA,GAkBT,OACE,qBACEjQ,MAAO,CACL7S,QAAS,OACTU,cAAe,MACfJ,eAAgB,SAChBC,WAAY,SACZ8Q,OAAQ,IANZ,SASGwR,K,sECiCQ/iB,GAhEA,CACbijB,QAAS,CACP9L,UAAW,UACXjX,QAAS,OACTU,cAAe,MACfJ,eAAgB,SAChBC,WAAY,SACZQ,OAAQ,GACRmQ,gBAAiBJ,IAAYK,kBAE/B6R,UAAW,CACTxR,KAAM,EACNyF,UAAW,UACXjX,QAAS,OACTO,WAAY,SACZD,eAAgB,SAChBL,SAAU,WACVwR,WAAY,WACZF,SAAU,GACV/Q,SAAU,UAEZyiB,UAAW,CACTjjB,QAAS,OACTU,cAAe,SACfJ,eAAgB,SAChBC,WAAY,SACZ0W,UAAW,UACXzF,KAAM,EACNP,aAAc,EACdM,SAAU,GACVL,gBAAiBJ,IAAYkE,YAC7BnE,MAAOC,IAAYe,iBAErBqR,KAAM,CACJljB,QAAS,OACTC,SAAU,WACVS,cAAe,SACfR,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,eAAgB,SAChBC,WAAY,SACZC,SAAU,QAEZ2iB,SAAU,CACRnjB,QAAS,OACTU,cAAe,MACfH,WAAY,SACZD,eAAgB,gBAChB2W,UAAW,UACX/F,gBAAiBJ,IAAYkE,YAC7BnE,MAAOC,IAAYe,gBACnBD,OAAQ,mCAEVwR,UAAW,CACT7R,SAAU,GACVF,OAAQ,IAEVgS,SAAU,CACRrjB,QAAS,OACTU,cAAe,Q,uCCvCb4iB,GACG,EADHA,GAEG,EAFHA,GAGG,EAGIC,GAAY,SAAC,GAA6B,IAA3Bxa,EAA0B,EAA1BA,KAAMc,EAAoB,EAApBA,KAAMqI,EAAc,EAAdA,QACtC,OACE,eAAC,GAAD,CAAQW,MAAO/S,GAAOmjB,UAAW/Q,QAASA,EAA1C,UACGrI,EACAd,MAKDya,GAAY,SAAC,GAA0D,IAAxDC,EAAuD,EAAvDA,WAAYC,EAA2C,EAA3CA,cAAeC,EAA4B,EAA5BA,OAAQC,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,QACtDC,EACJC,YAAWH,GAAMI,KACjB,IACAD,YAAWH,GAAMK,OACjB,IACAF,YAAWH,GAAMM,OAEnB,OADA1N,oBAAUqN,EAAS,IAEjB,sBAAKhR,MAAK,2BAAO/S,GAAOojB,MAAd,IAAoBvD,UAAW,MAAzC,UACGgE,EAAOF,GACR,cAAC,GAAD,CACEnT,MAAOmT,EACPhgB,OAAQkgB,EAAOlgB,OACfmf,YAAac,EACbf,OAAQ,IAEV,qBACE9P,MAAO,CACLhC,MAAOC,IAAYe,gBACnBb,QAAS,GACTwE,WAAY,QAJhB,SAOGsO,QAMHK,GAAY,SAAC,GAMZ,IALLC,EAKI,EALJA,MACAC,EAII,EAJJA,UACAC,EAGI,EAHJA,SACAC,EAEI,EAFJA,aACAC,EACI,EADJA,YAkBA,OACE,sBAAK3R,MAAO/S,GAAOojB,KAAnB,UACE,qBACErQ,MAAO,CACLhC,MAAOC,IAAYe,gBACnBb,QAAS,GACTwE,WAAY,OACZjE,SAAU,GACV1Q,MAAO,KANX,SAlBmB,SAAC4jB,GACtB,IAAMC,EAAQpI,KAAKC,MAAOkI,EAAK,KAAuB,IAChDE,EAAOrI,KAAKC,MAAOkI,EAAQ,IAAO,GAAM,IACxCG,EAAOtI,KAAKC,MAAOkI,EAAQ,IAAQ,IACnCI,EAAQvI,KAAKC,MAAOkI,EAAQ,IAAQ,IAC1C,OACGC,EAAQ,GAAK,IAAMA,EAAQA,GAC5B,KACCC,EAAO,GAAK,IAAMA,EAAOA,GAC1B,KACCC,EAAO,GAAK,IAAMA,EAAOA,GAC1B,KACCC,EAAQ,GAAK,IAAMA,EAAQA,GAezBC,CAAeR,KAElB,sBAAKzR,MAAO,CAAE7S,QAAS,OAAQU,cAAe,OAA9C,UACE,cAAC,GAAD,CACEmS,MAAO,CAAExB,OAAQ,EAAGH,gBAAiBJ,IAAYwK,KACjDpJ,QAAS,WACP,GAAkB,OAAdmS,EAAoB,CACtB,IAAMU,EAAU,IAAIC,KACpBT,EAAaQ,GACRX,EAAM3G,UACT2G,EAAM3G,QAAUwH,aAAY,WAC1B,IAAMR,EAAQ,IAAIO,KAASD,EAAUT,EACrCE,EAAYC,KACX,UAELF,EAAa,MACbW,cAAcd,EAAM3G,SACpB2G,EAAM3G,QAAU,MAdtB,SAkBiB,OAAd4G,EAAqB,cAACc,GAAA,EAAD,IAAyB,cAACC,GAAA,EAAD,MAEjD,cAAC,GAAD,CACEvS,MAAO,CAAExB,OAAQ,GACjBa,QAAS,WACPqS,EAAa,MACbW,cAAcd,EAAM3G,SACpB2G,EAAM3G,QAAU,KAChB+G,EAAY,IANhB,SASE,cAACa,GAAA,EAAD,aAOJC,GAAY,SAAC,GAAsC,IAApChW,EAAmC,EAAnCA,WAAYiW,EAAuB,EAAvBA,iBAAuB,EAC9B5S,mBAAS,MADqB,oBAC/CiR,EAD+C,KACzC4B,EADyC,KAEhDC,EAAWnW,GACbA,EAAWoW,MACTpW,EAAWoW,MAEb,CAAEC,UAAW,IAEXC,GADYH,EAAWA,EAASE,UAAY,IACnBhR,KAAI,SAAC+Q,EAAOpV,GACzC,OACE,sBAEEuC,MAAK,2BAAO/S,GAAOqjB,UAAd,IAAwBhQ,QAASuS,EAAMG,SAAW,GAAM,IAF/D,UAIE,qBAAKhT,MAAO/S,GAAOsjB,UAAnB,SAA+B0C,KAAOJ,EAAM9B,MAAMmC,OAAO,WACzD,sBAAKlT,MAAO/S,GAAOujB,SAAnB,UACE,cAAC,GAAD,CACExQ,MAAO,CAAExB,OAAQ,GACjBa,QAAS,WACP8T,EAAoB1V,IAHxB,SAMGoV,EAAMG,SAAW,cAACI,GAAA,EAAD,IAAmB,cAACC,GAAA,EAAD,MAEvC,cAAC,GAAD,CACErT,MAAO,CAAExB,OAAQ,EAAGH,gBAAiBJ,IAAYwK,KACjDpJ,QAAS,WACPiU,EAAY7V,IAHhB,SAME,cAACgS,GAAA,EAAD,WAnBChS,MAyBL0V,EAAsB,SAAC1V,GAC3B,IAAM8V,EAAY,aAAOX,EAASE,WAClCS,EAAa9V,GAAOuV,UAAYO,EAAa9V,GAAOuV,SACpDN,EAAiB,CACfG,MAAM,2BACDD,GADA,IAEHE,UAAWS,OAIXD,EAAc,SAAC7V,GACnB,IAAM8V,EAAY,aAAOX,EAASE,WAClCS,EAAa7V,OAAOD,EAAO,GAC3BiV,EAAiB,CACfG,MAAM,2BACDD,GADA,IAEHE,UAAWS,OAcjB,OACE,sBAAKvT,MAAK,2BAAO/S,GAAOojB,MAAd,IAAoB5iB,eAAgB,eAA9C,UACGslB,EACD,sBAAK/S,MAAK,2BAAO/S,GAAOqjB,UAAd,IAAwB7iB,eAAgB,WAAlD,UACE,cAAC,KAAD,CACE2J,MAAO2Z,EACPpQ,SAAUgS,EACVO,OAAQ,QACRjd,KAAM,UAER,cAAC,GAAD,CACE+J,MAAO,CAAExB,OAAQ,GAAIH,gBAAiBJ,IAAYuL,OAClDnK,QAtBS,WACf,IAAMkU,EAAY,aAAOX,EAASE,WAClCS,EAAala,KAAK,CAAE0X,KAAM,IAAIoB,KAAKpB,GAAOiC,UAAU,IACpDN,EAAiB,CACfG,MAAM,2BACDD,GADA,IAEHE,UAAWS,OAcX,SAIE,cAAChK,GAAA,EAAD,aA2EKiK,GApEE,SAAC,GAcX,IAbLhE,EAaI,EAbJA,QACA+B,EAYI,EAZJA,MACAE,EAWI,EAXJA,SACAE,EAUI,EAVJA,YACAH,EASI,EATJA,UACAE,EAQI,EARJA,aACAjV,EAOI,EAPJA,WACAiW,EAMI,EANJA,iBACA3B,EAKI,EALJA,KACAH,EAII,EAJJA,WACAC,EAGI,EAHJA,cACAC,EAEI,EAFJA,OACAE,EACI,EADJA,QACI,EAC8BlR,mBAAS2Q,IADvC,oBACGgD,EADH,KACcC,EADd,KAEEvD,EACJsD,IAAchD,GACZ,cAAC,GAAD,CACEhU,WAAYA,EACZiW,iBAAkBA,EAClB9B,WAAYA,EACZC,cAAeA,EACfC,OAAQA,EACRC,KAAMA,EACNC,QAASA,IAETyC,IAAchD,GAChB,cAAC,GAAD,CACEc,MAAOA,EACPE,SAAUA,EACVE,YAAaA,EACbH,UAAWA,EACXE,aAAcA,IAGhB,cAAC,GAAD,CAAWjV,WAAYA,EAAYiW,iBAAkBA,IAEzD,OACE,eAAC,GAAD,CACE3hB,GAAI,QACJ1D,IAAK,EACLC,KAAM,EACN2D,KAAM,QACNgd,SAAU,kBAAMuB,GAAQ,IAL1B,UAOE,qBAAKxP,MAAO/S,GAAOkjB,UAAnB,SAA+BA,IAC/B,sBAAKnQ,MAAO/S,GAAOijB,QAAnB,UACE,cAAC,GAAD,CACEha,KAAK,QACLmJ,QAAS,kBAAMqU,EAAajD,KAC5BzZ,KAAM,cAAC2c,GAAA,EAAD,CAAqB3T,MAAO,CAAEtB,SAAU,GAAIF,OAAQ,OAE5D,cAAC,GAAD,CACEtI,KAAK,QACLmJ,QAAS,kBAAMqU,EAAajD,KAC5BzZ,KAAM,cAAC4c,GAAA,EAAD,CAAmB5T,MAAO,CAAEtB,SAAU,GAAIF,OAAQ,OAE1D,cAAC,GAAD,CACEtI,KAAK,QACLmJ,QAAS,kBAAMqU,EAAajD,KAC5BzZ,KAAM,cAACoc,GAAA,EAAD,CAAcpT,MAAO,CAAEtB,SAAU,GAAIF,OAAQ,c,SCxE9CqV,GApND,SAAC,GAA6C,IAA3CpX,EAA0C,EAA1CA,WAAYiW,EAA8B,EAA9BA,iBAAkB7S,EAAY,EAAZA,MAAY,EAC/BC,oBAAS,GADsB,oBAClDgU,EADkD,KAC1CtE,EAD0C,OAEjC1P,mBAAS,IAAIqS,MAFoB,oBAElDpB,EAFkD,KAE5C4B,EAF4C,OAGvB7S,mBAAS,MAHc,oBAGlD0R,EAHkD,KAGvCE,EAHuC,OAIzB5R,mBAAS,GAJgB,oBAIlD2R,EAJkD,KAIxCE,EAJwC,KAKnDJ,EAAQhH,mBAMRqG,GALWnU,EACbA,EAAWsX,MACTtX,EAAWsX,MACX,CAAEtW,MAAO,GACX,CAAEA,MAAO,IACeA,MAQtBuT,EAAU,WAWd,IAVA,IAAMgD,EAAcpI,SAASqI,uBAC3B,kCAEIC,EAAYtI,SAASqI,uBACzB,gCAEIE,EAAWvI,SAASqI,uBACxB,kCAEIG,EAAaxI,SAASqI,uBAAuB,qBAC1ChE,EAAI,EAAGA,EAAI+D,EAAYpjB,OAAQqf,IACtC+D,EAAY/D,GAAGjQ,MAAMqU,WAAaC,EAAY1D,GAAY2D,gBAE5D,IAAK,IAAItE,EAAI,EAAGA,EAAIiE,EAAUtjB,OAAQqf,IACpCiE,EAAUjE,GAAGjQ,MAAMqU,WAAaC,EAAY1D,GAAY4D,cAE1D,IAAK,IAAIvE,EAAI,EAAGA,EAAIkE,EAASvjB,OAAQqf,IACnCkE,EAASlE,GAAGjQ,MAAMqU,WAAaC,EAAY1D,GAAY6D,gBAEzD,IAAK,IAAIxE,EAAI,EAAGA,EAAImE,EAAWxjB,OAAQqf,IACrCmE,EAAWnE,GAAGjQ,MAAMqU,WAAaC,EAAY1D,GAAY8D,eACzDN,EAAWnE,GAAGjQ,MAAMhC,MAAQsW,EAAY1D,GAAY+D,UACpDP,EAAWnE,GAAGjQ,MAAMjB,OAAS,QAGjC4E,oBAAUqN,EAAS,CAACJ,IACpB,IAAME,EAAS,CACb,cAAC,KAAD,CACE1Z,MAAO2Z,EACP6D,uBAAwB,EACxBC,yBAA0B,EAC1BC,yBAA0B,EAC1BC,eAAe,EACfC,mBAAmB,EACnBC,iBAAiB,IAEnB,cAAC,KAAD,CACE7d,MAAO2Z,EACPgE,eAAe,EACfH,uBAAwB,GACxBC,yBAA0B,GAC1BG,mBAAmB,EACnBE,gBAAiB,EACjBC,eAAgB,IAElB,cAAC,KAAD,CACE/d,MAAO2Z,EACPqE,eAAgB,GAChBC,iBAAkB,GAClBC,iBAAkB,GAClBV,uBAAwB,EACxBC,yBAA0B,EAC1BC,yBAA0B,EAC1BC,eAAe,EACfC,mBAAmB,EACnBC,iBAAiB,EACjBC,gBAAiB,IAEnB,cAAC,KAAD,CACE9d,MAAO2Z,EACPgE,eAAe,EACfC,mBAAmB,EACnBC,iBAAiB,EACjBE,eAAgB,EAChBI,iBAAkB,IAEpB,cAAC,KAAD,CACEne,MAAO2Z,EACPgE,eAAe,EACfC,mBAAmB,EACnBC,iBAAiB,EACjBC,gBAAiB,EACjBM,kBAAmB,KAGjBlB,EAAc,CAClB,CACEC,gBAAiB,QACjBC,cAAe,QACfE,eAAgB,QAChBD,gBAAiB,MACjBE,UAAW,SAEb,CACEJ,gBAAiB,QACjBC,cAAe,QACfE,eAAgB,MAChBD,gBAAiB,SACjBE,UAAW,SAGb,CACEJ,gBAAiB,MACjBC,cAAe,MACfE,eAAgB,QAChBD,gBAAiB,MACjBE,UAAW,OAEb,CACEJ,gBAAiB,QACjBC,cAAe,QACfE,eAAgB,8CAChBD,gBAAiB,QACjBE,UAAW,SAEb,CACEJ,gBAAiB,QACjBC,cAAe,QACfE,eAAgB,uDAChBD,gBAAiB,QACjBE,UAAW,UAmCf,OA/BAhR,qBAAU,WACR,IAAMiP,EAAWnW,EAAaA,EAAWoW,MAAQ,CAAEC,UAAW,IACxDA,EAAYF,EAAWA,EAASE,UAAY,GAC5C2C,EAAWrD,aAAY,WAC3B,IADiC,EAC3BsD,EAAM,IAAIvD,KADiB,cAEfW,GAFe,IAEjC,2BAA6B,CAAC,IAArBD,EAAoB,QACrB8C,EAAY,IAAIxD,KAAKU,EAAM9B,MACjC,IACG8B,EAAMG,UACP2C,EAAUC,aAAeF,EAAIE,YAC7BD,EAAUE,eAAiBH,EAAIG,aAG/B,YADArnB,OAAOyG,MAAM,UATgB,iCAahC,KACH,OAAO,WACLod,cAAcoD,MAEf,CAAChZ,IAEJkH,qBAAU,WACR,IAAM8R,EAAWrD,aAAY,WAC3BO,EAAQ,IAAIR,QACX,KACH,OAAO,WACLE,cAAcoD,MAEf,IAGD,gCACG3B,GACC,cAAC,GAAD,CACE/C,KAAMA,EACNvB,QAASA,EACTgC,UAAWA,EACXE,aAAcA,EACdD,SAAUA,EACVE,YAAaA,EACbJ,MAAOA,EACP9U,WAAYA,EACZiW,iBAAkBA,EAClB9B,WAAYA,EACZC,cAvKc,SAACpT,GACrBiV,EAAiB,CACfqB,MAAO,CACLtW,YAqKEqT,OAAQA,EACRE,QAASA,IAGb,cAAC,GAAD,CAEEnR,MAAOA,EACP7I,KACE,cAAC,KAAD,CACEI,MAAO2Z,EACP9a,KAAM,GACN6f,cAAe,EACfC,gBAAiB,EACjBC,gBAAiB,GACjBV,iBAAkB,GAClBP,eAAe,EACfkB,kBAAkB,EAClBjB,mBAAmB,EACnBC,iBAAiB,IAGrBhkB,KAAM,QACNjD,MAAO,IACPE,OAAQ,IACRmR,QAAS,kBAAMmQ,GAASsE,IACxB1U,cAAc,EACdK,eAAe,GArBV,aC7LE,IACbyW,QAAS,CACP/oB,QAAS,OACTU,cAAe,MACfH,WAAY,SACZD,eAAgB,gBAChB2W,UAAW,UACX/F,gBAAiBJ,IAAYkE,YAC7BnE,MAAOC,IAAYe,gBACnBD,OAAQ,mCAEVoR,UAAW,CACTxR,KAAM,EACNyF,UAAW,UACXjX,QAAS,OACTO,WAAY,SACZD,eAAgB,SAChBL,SAAU,WACVwR,WAAY,SACZF,SAAU,GACV/Q,SAAU,UAEZ0iB,KAAM,CACJljB,QAAS,OACTC,SAAU,WACVS,cAAe,SACfR,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,eAAgB,SAChBC,WAAY,SACZC,SAAU,QAEZuW,MAAO,CACL1F,OAAQ,EACRmE,WAAY,QAEdwT,KAAM,CACJzX,SAAU,GACVF,OAAQ,GAEV4X,SAAU,CACRjpB,QAAS,OACTU,cAAe,SACfJ,eAAgB,SAChBC,WAAY,cAEdwc,WAAY,CACV/c,QAAS,OACTU,cAAe,OAEjBwoB,YAAa,CACX1X,KAAM,EACNyF,UAAW,UACX5F,OAAQ,EACRR,MAAOC,IAAYe,gBACnBF,QAAS,OACTnR,SAAU,QAEZ2oB,SAAU,CACRpoB,OAAQ,GACRF,MAAO,OACPqQ,gBAAiBJ,IAAYkE,YAC7BhV,QAAS,OACTU,cAAe,MACfH,WAAY,SACZD,eAAgB,YAElB8oB,WAAY,CACVvoB,MAAO,GACPE,OAAQ,GACRf,QAAS,OACTM,eAAgB,SAChBC,WAAY,SACZ8oB,YAAa,MACbC,YAAa,QACbC,YAAazY,IAAYyY,YACzBrY,gBAAiBJ,IAAYkE,YAC7BnE,MAAOC,IAAYe,kBC5DR2X,GApBG,SAAC,GAA6C,IAA3ChW,EAA0C,EAA1CA,SAAUvJ,EAAgC,EAAhCA,MAAO4I,EAAyB,EAAzBA,MAAO4W,EAAkB,EAAlBA,YAC3C,OACE,uBACE5W,MAAK,aACHlB,QAAS,OACTN,OAAQ,IACRqY,OAAQ,OACR9X,OAAQ,OACR+X,UAAW,SACX7M,YAAa,EACbvL,SAAU,IACPsB,GAEL5I,MAAOA,EACPuJ,SAAU,SAACP,GAAD,OAAOO,EAASP,EAAEC,OAAOjJ,QACnCwf,YAAaA,K,6BCCbG,GAAO,SAAC,GAAkE,IAAhEC,EAA+D,EAA/DA,KAAMvZ,EAAyD,EAAzDA,MAAOwQ,EAAkD,EAAlDA,SAAUgJ,EAAwC,EAAxCA,SAAUC,EAA8B,EAA9BA,YAAaC,EAAiB,EAAjBA,WAAiB,EACnDrX,oBAAS,GAD0C,oBACtEzD,EADsE,KAC/D+a,EAD+D,KAEvEC,EAAU9M,mBAChB5G,qBAAU,WACJ0T,EAAQzM,UACVyM,EAAQzM,QAAQ0M,UAAYN,EAAKtV,WAElC,IAKH,OACE,eAAC,GAAD,CACE3Q,GAAI,QAAUimB,EAAKjmB,GACnB1D,IAAK2pB,EAAKO,IAAI/P,EACdla,KAAM0pB,EAAKO,IAAIhQ,EACftW,KAAM+lB,EAAK9S,OAAS7H,EAAQ,UAAO,WACnC4R,SAAUA,EACVjK,SAAU,IACV8I,UAAW,GACX5e,OAAQ8oB,EAAK/gB,KAAKuhB,EAClBxpB,MAAOgpB,EAAK/gB,KAAKwhB,EACjB1K,eAAgB,SAAC0K,EAAGD,GAClBN,EAAY,CAAEO,IAAGD,KAAK/Z,IAExB6M,aAAc,SAAC/C,EAAGC,GAChB2P,EAAW,CAAE5P,IAAGC,KAAK/J,IAdzB,UAiBE,qBAAKuC,MAAO/S,GAAOqpB,SAAnB,SACE,cAAC,GAAD,CAAkBtW,MAAO/S,GAAOspB,WAAYlX,QAvB3B,WACrB+X,GAAS,GACTH,EAASI,EAAQzM,QAAQ0M,UAAW7Z,IAqBhC,SACE,cAACia,GAAA,EAAD,QAGJ,qBACExL,IAAK,SAACA,GAAD,OAAUmL,EAAQzM,QAAUsB,GACjClM,MAAO/S,GAAOopB,YACdsB,iBAAe,EACfC,QAAS,kBAAMR,GAAS,UAM1BS,GAAU,SAAC,GAMV,IALLb,EAKI,EALJA,KACAvZ,EAII,EAJJA,MACAqa,EAGI,EAHJA,iBACAC,EAEI,EAFJA,eACAC,EACI,EADJA,WAEMC,EAAU/G,YAAW,IAAIiB,KAAK6E,EAAKb,OACzC,OACE,sBAAKnW,MAAK,2BAAO/S,GAAOipB,SAAd,IAAuB5V,QAAS0W,EAAKkB,OAAS,EAAI,KAA5D,UACE,eAAC,GAAD,CACElY,MAAO/S,GAAOmpB,SACd/W,QAAS,kBAAM0Y,EAAeta,IAFhC,UAIE,qBAAKuC,MAAO/S,GAAOiX,MAAnB,SAA2B8S,EAAK9S,QAChC,qBAAKlE,MAAO/S,GAAOkpB,KAAnB,SACG8B,EAAQE,KACP,IACAF,EAAQG,MACR,IACAH,EAAQI,IACR,IACAJ,EAAQ9G,KACR,IACA8G,EAAQ7G,YAGd,sBAAKpR,MAAO/S,GAAOid,WAAnB,UACE,cAAC,GAAD,CACElK,MAAO,CAAExB,OAAQ,GACjBa,QAAS,WACPyY,EAAiBra,IAHrB,SAME,cAAC6a,GAAA,EAAD,CACEtY,MAAO,CACLhC,MAAOgZ,EAAKkB,OACRja,IAAYK,iBACZL,IAAYuL,WAItB,cAAC,GAAD,CACExJ,MAAO,CAAExB,OAAQ,EAAGH,gBAAiBJ,IAAYwK,KACjDpJ,QAAS,WACP2Y,EAAWva,IAHf,SAME,cAACgS,GAAA,EAAD,aAqJK8I,GA9IE,SAAC,GAA+C,IAA7C/I,EAA4C,EAA5CA,QAAS/S,EAAmC,EAAnCA,WAAYiW,EAAuB,EAAvBA,iBACjC8F,EAAU/b,EAAaA,EAAWgc,MAAQ,CAAEA,MAAO,IACnDA,EAAQD,EAAUA,EAAQC,MAAQ,GAFsB,EAGtC3Y,qBAHsC,oBAGvDqW,EAHuD,KAGjDuC,EAHiD,OAIpC5Y,mBAAS,IAJ2B,oBAIvDoE,EAJuD,KAIhDyU,EAJgD,KAKxDC,EAAUrO,iBAAOkO,GAEjBI,EAAW,SAACJ,GAChB/F,EAAiB,CACf+F,MAAO,CACLA,MAAO7mB,KAAKknB,MAAMlnB,KAAKC,UAAU4mB,OAGrCG,EAAQhO,QAAU6N,GAiBdX,EAAmB,SAACra,GACxB,IAAMsb,EAAQ,aAAOH,EAAQhO,SAC7BmO,EAAStb,GAAOya,QAAUa,EAAStb,GAAOya,OAC1CW,EAASE,IAELhB,EAAiB,SAACta,GACtB,IAAMsb,EAAQ,aAAOH,EAAQhO,SAC7BmO,EAAStb,GAAO8R,MAAQwJ,EAAStb,GAAO8R,KACxCsJ,EAASE,IAELf,EAAa,SAACva,GAClB,IAAMsb,EAAQ,aAAOH,EAAQhO,SAC7BmO,EAASrb,OAAOD,EAAO,GACvBob,EAASE,IAEL9B,EAAW,SAACD,EAAMvZ,GACtB,IAAMsb,EAAQ,aAAOH,EAAQhO,SAC7BmO,EAAStb,GAAOiE,QAAUsV,EAC1B6B,EAASE,IAGL7B,EAAc,SAACjhB,EAAMwH,GACzB,IAAMsb,EAAQ,aAAOH,EAAQhO,SAC7BmO,EAAStb,GAAOxH,KAAOA,EACvB4iB,EAASE,IAGL5B,EAAa,SAACI,EAAK9Z,GACvB,IAAMsb,EAAQ,aAAOH,EAAQhO,SAC7BmO,EAAStb,GAAO8Z,IAAMA,EACtB/nB,QAAQC,IAAIspB,GACZF,EAASE,IAGLC,EAAc,GACdC,EAAW,GAyBjB,OAxBAR,EAAM3W,KAAI,SAACkV,EAAMvZ,GACfwb,EAAS5f,KACP,cAAC,GAAD,CAEEoE,MAAOA,EACPuZ,KAAMA,EACNc,iBAAkBA,EAClBC,eAAgBA,EAChBC,WAAYA,GALPhB,EAAK9S,QAQV8S,EAAKzH,MACPyJ,EAAY3f,KACV,cAAC,GAAD,CAEEoE,MAAOA,EACPwZ,SAAUA,EACVC,YAAaA,EACbC,WAAYA,EACZH,KAAMA,EACN/I,SAAU,kBAAM8J,EAAeta,KAN1BuZ,EAAK9S,WAWhB,gCACE,cAAC,GAAD,CACEnT,GAAI,QACJ1D,IAAK,EACLC,KAAM,EACN2D,KAAM,QACNgd,SAAU,kBAAMuB,GAAQ,IAL1B,SAOE,qBAAKxP,MAAO/S,GAAOkjB,UAAnB,SACE,sBAAKnQ,MAAK,2BAAO/S,GAAOojB,MAAd,IAAoB5iB,eAAgB,eAA9C,UACGwrB,EACD,sBAAKjZ,MAAO/S,GAAOipB,QAAnB,UACE,cAAC,GAAD,CACE9e,MAAO8M,EACPvD,SAAUgY,EACV/B,YAAa,QACb5W,MAAO,CACLhC,MAAOC,IAAYkE,YACnBpD,OAAQ,kBACRX,aAAc,EACdI,OAAQ,EACRE,SAAU,MAGd,qBAAKsB,MAAO,CAAExB,OAAQ,GAAtB,SACE,cAAC,KAAD,CACEpH,MAAO+e,EACP+C,KAAMR,EACN/X,SAAU+X,EACVS,SAAU,CAAEjG,OAAQ,SACpBA,OAAO,mBACPjd,KAAM,QACN2gB,YAAa,WAIjB,cAAC,GAAD,CACE5W,MAAO,CAAExB,OAAQ,GAAIH,gBAAiBJ,IAAYuL,OAClDnK,QAjHE,WACd,IAAM0Z,EAAWnnB,KAAKknB,MAAMlnB,KAAKC,UAAU4mB,IAC3CM,EAAS1f,KAAK,CACZ6K,QACAxC,QAAS,GACTwW,QAAQ,EACR3I,MAAM,EACNgI,IAAK,CAAEhQ,EAAG,EAAGC,EAAG,GAChBvR,KAAM,CAAEwhB,EAAG,IAAKD,EAAG,KACnBrB,KAAM,IAAIhE,KAAKgE,KAEjB0C,EAASE,IAoGC,SAIE,cAACxP,GAAA,EAAD,gBAMTyP,M,UCzNQI,GA9BD,SAAC,GAA6C,IAA3C3c,EAA0C,EAA1CA,WAAYiW,EAA8B,EAA9BA,iBAAkB7S,EAAY,EAAZA,MAAY,EAC/BC,oBAAS,GADsB,oBAClDgU,EADkD,KAC1CtE,EAD0C,KAEzD,OACE,gCACGsE,GACC,cAAC,GAAD,CACEtE,QAASA,EACT/S,WAAYA,EACZiW,iBAAkBA,IAGtB,cAAC,GAAD,CAEE7S,MAAOA,EACP7I,KACE,cAACqiB,GAAA,EAAD,CACErZ,MAAO,CAAEtB,SAAU,GAAIV,MAAOC,IAAY2K,UAG9C3X,KAAM,QACNjD,MAAO,IACPE,OAAQ,IACRmR,QAAS,kBAAMmQ,GAASsE,IACxB1U,cAAc,EACdK,eAAe,GAZV,aChBE,IACb2M,MAAO,CACLhf,SAAU,WACVC,IAAK,EACLC,KAAM,EACNE,OAAQ,EACRD,MAAO,EACPJ,QAAS,OACTU,cAAe,MACfJ,eAAgB,SAChBC,WAAY,UACZ0W,UAAW,WAEbkV,QAAS,CACPtrB,MAAO,IACPqmB,WAAYpW,IAAYkE,YACxB1U,eAAgB,aAChBC,WAAY,UACZC,SAAU,QAEZ4rB,aAAc,CACZrrB,OAAQ,GACRF,MAAO,IACPP,eAAgB,SAChBC,WAAY,SACZsQ,MAAOC,IAAYe,gBACnBwX,YAAa,EACbC,YAAa,QACbC,YAAazY,IAAYuF,kBAE3BgW,KAAM,CACJ7a,KAAM,EACNxR,QAAS,OACTU,cAAe,SACfJ,eAAgB,aAChB4Q,gBAAiBJ,IAAYK,iBAC7BN,MAAOC,IAAYe,gBACnBb,QAAS,GACTzQ,WAAY,SACZC,SAAU,QAEZmW,QAAS,CACP3W,QAAS,OACTU,cAAe,SACfJ,eAAgB,SAChBC,WAAY,UACZM,MAAO,MACP+V,SAAU,KAEZG,MAAO,CACLvB,WAAY,OACZjE,SAAU,GACVF,OAAQ,GACRrR,QAAS,OACTU,cAAe,MACfJ,eAAgB,SAChBC,WAAY,UAEdE,IAAK,CACHT,QAAS,OACTU,cAAe,MACfJ,eAAgB,gBAChBC,WAAY,SACZ8Q,OAAQ,GAEVib,QAAS,CACPzrB,MAAO,IACPE,OAAQ,GACRsoB,YAAa,EACbC,YAAa,U,8BC9DXiD,GAAc,SAAC,GAAyC,IAAvChkB,EAAsC,EAAtCA,WAAsBd,GAAgB,EAA1BN,SAA0B,EAAhBM,WAAgB,EACzBkL,mBAASpQ,KADgB,oBACpDiqB,EADoD,KACzCC,EADyC,KAG3D,OACE,sBAAK5Z,MAAO/S,GAAOusB,KAAnB,UACE,sBAAKxZ,MAAO/S,GAAO6W,QAAnB,UACE,qBAAK9D,MAAO/S,GAAOiX,MAAnB,yBACA,sBAAKlE,MAAO/S,GAAOW,IAAnB,UACE,iDADF,IAC0B,4BAAIisB,YAAQnkB,EAAWokB,mBAEjD,sBAAK9Z,MAAO/S,GAAOW,IAAnB,UACE,0CADF,IACmB,4BAAIisB,YAAQnkB,EAAWiG,iBAAiB,cAE3D,sBAAKqE,MAAO/S,GAAOW,IAAnB,UACE,gDACA,4BAAIisB,YAAQnkB,EAAWiG,iBAAiB,aAE1C,sBAAKqE,MAAO/S,GAAOW,IAAnB,UACE,4CADF,IACqB,4BAAI8H,EAAWqkB,kBAEpC,sBAAK/Z,MAAO/S,GAAOW,IAAnB,UACE,sCADF,IACe,4BAAI8H,EAAWskB,mBAE9B,sBAAKha,MAAO/S,GAAOW,IAAnB,UACE,qCADF,IACc,4BAAI8H,EAAWukB,qBAG/B,sBAAKja,MAAO/S,GAAO6W,QAAnB,UACE,qBAAK9D,MAAO/S,GAAOiX,MAAnB,wBACA,sBAAKlE,MAAO/S,GAAOW,IAAnB,UACE,2CADF,IACoB,4BAAIssB,OAAOtlB,QAE/B,sBAAKoL,MAAO/S,GAAOW,IAAnB,UACE,uDAA8B,IAC9B,cAAC,KAAD,CACEusB,WAAY,CACV5b,UAAW,qBAEb6b,OAAQ,CACNlC,OAAQ,CACNmC,KAAM,UACNC,MAAO,WAETC,SAAU,CACRF,KAAM,gBACNC,MAAO,kBAGXE,cAAe,GACfC,YAAa,GACbrjB,MAAOuiB,EACPe,SAAU,SAAC9W,GACLA,GACF3T,IACA2pB,GAAcD,KAEd5pB,IACA6pB,GAAcD,iBAUxBgB,GAAc,WAAO,IAAD,EACJ7a,mBAAS,OADL,oBACjB8a,EADiB,KACbC,EADa,KAMxB,OAJA/a,mBAAQ,sBAAC,4BAAA1R,EAAA,sEACW0sB,cADX,OACDxsB,EADC,OAEPusB,EAAMvsB,GAFC,2CAGN,IAED,qBAAK0R,MAAO/S,GAAOusB,KAAnB,SACE,sBAAKxZ,MAAO/S,GAAO6W,QAAnB,UACE,qBAAK9D,MAAO/S,GAAOiX,MAAnB,qBACA,sBAAKlE,MAAO/S,GAAOW,IAAnB,UACE,gDACA,4BACGmtB,UAAUC,WACPD,UAAUC,WAAWC,SAAW,OAChC,WAGR,sBAAKjb,MAAO/S,GAAOW,IAAnB,UACE,0CACA,4BAAIgtB,aAORM,GAAc,SAAC,GAAmD,IAAjDze,EAAgD,EAAhDA,WAAYiW,EAAoC,EAApCA,iBAAkByI,EAAkB,EAAlBA,YAC7CC,EAAmB,GAwBzB,OAdAD,EAAYrZ,KAAI,SAACuZ,EAAM5d,GAAP,OACd2d,EAAiB/hB,KACf,cAAC,GAAD,CACE2G,MAAK,2BACA/S,GAAOwsB,SADP,IAEH6B,eAAgB,QAChBC,gBAAgB,OAAD,OAASF,EAAT,KACf3E,YAAaja,EAAW+e,kBAAoB/d,EAAQ,QAAU,UAGhE4B,QAAS,kBAnBY,SAAC5B,GAC1BiV,EAAiB,CAAE8I,gBAAiB/d,IAkBjBge,CAAmBhe,KAD7BA,OAMT,sBAAKuC,MAAO/S,GAAOusB,KAAnB,UACE,sBAAKxZ,MAAO/S,GAAO6W,QAAnB,UACE,qBAAK9D,MAAO/S,GAAOiX,MAAnB,wBACA,qBAAKlE,MAAO/S,GAAOW,IAAnB,SAAyBwtB,IACzB,sBAAKpb,MAAO/S,GAAOW,IAAnB,UACE,wCACA,cAAC,KAAD,CACEusB,WAAY,CACV5b,UAAW,qBAEb6b,OAAQ,CACNlC,OAAQ,CACNmC,KAAM,UACNC,MAAO,WAETC,SAAU,CACRF,KAAM,gBACNC,MAAO,kBAGXE,cAAe,GACfC,YAAa,GACbrjB,MAAOqF,EAAWif,kBAClBhB,SAAU,SAACiB,GACTjJ,EAAiB,CACfgJ,mBAAoBC,UAK5B,sBAAK3b,MAAO/S,GAAOW,IAAnB,UACE,yCACA,eAAC,KAAD,CACEolB,UAAWvW,EAAWif,kBACtBE,aACEnf,EAAWof,gBAAkBpf,EAAWof,gBAAkB,GAE5D7b,MAAO,CAAEhS,MAAO,KAChBiI,KAAK,QACL0K,SAzDiB,SAACmb,GAC1BpJ,EAAiB,CAAEmJ,gBAAiBC,KAiD9B,UASE,cAAC,KAAOC,OAAR,CAAe3kB,MAAO,GAAtB,iBACA,cAAC,KAAO2kB,OAAR,CAAe3kB,MAAO,GAAtB,iBACA,cAAC,KAAO2kB,OAAR,CAAe3kB,MAAO,GAAtB,iBACA,cAAC,KAAO2kB,OAAR,CAAe3kB,MAAO,IAAtB,2BAIN,sBAAK4I,MAAO/S,GAAO6W,QAAnB,UACE,qBAAK9D,MAAO/S,GAAOiX,MAAnB,mBACA,sBAAKlE,MAAO/S,GAAOW,IAAnB,UACE,wCACA,eAAC,KAAD,CACEguB,aAAcnf,EAAW8L,SAAW9L,EAAW8L,SAAW,EAC1DvI,MAAO,CAAEhS,MAAO,KAChBiI,KAAK,QACL0K,SA7EU,SAAC1K,GACnByc,EAAiB,CAAEnK,SAAUtS,KAwEvB,UAME,cAAC,KAAO8lB,OAAR,CAAe3kB,MAAO,GAAtB,iBACA,cAAC,KAAO2kB,OAAR,CAAe3kB,MAAO,IAAtB,iBACA,cAAC,KAAO2kB,OAAR,CAAe3kB,MAAO,EAAtB,kBACA,cAAC,KAAO2kB,OAAR,CAAe3kB,MAAO,IAAtB,+BAQN4kB,GAAU,CACdC,QAAS,SAAClmB,GAAD,OAAW,cAAC,GAAD,eAAiBA,KACrCmmB,QAAS,SAACnmB,GAAD,OAAW,cAAC,GAAD,eAAiBA,KACrComB,QAAS,SAACpmB,GAAD,OAAW,cAAC,GAAD,eAAiBA,MAuDxBqmB,GApDI,SAAC,GAQb,IAPLnO,EAOI,EAPJA,SACAvY,EAMI,EANJA,WACApB,EAKI,EALJA,SACAM,EAII,EAJJA,UACAumB,EAGI,EAHJA,YACA1e,EAEI,EAFJA,WACAiW,EACI,EADJA,iBACI,EACkC5S,mBAAS,WAD3C,oBACGuc,EADH,KACgBC,EADhB,KAEEC,EAAc,GACpB1lB,OAAOC,KAAKklB,IAASla,KAAI,SAAC3K,GAAD,OACvBolB,EAAYljB,KACV,cAAC,GAAD,CACE2G,MAAO/S,GAAOssB,aACdla,QAAS,kBAAMid,EAAenlB,IAFhC,SAKGA,GAFIA,OAMX,IAAMqlB,EAAOR,GAAQK,GACrB,OACE,cAAC,GAAD,CACEhvB,IAAK,EACLC,KAAM,EACNyD,GAAI,UACJE,KAAM,UACNjD,MAAO,IACPgW,SAAU,IACV9V,OAAQ,IACR4e,UAAW,IACXmB,SAAUA,EATZ,SAWE,sBAAKjO,MAAO/S,GAAOmf,MAAnB,UACE,qBAAKpM,MAAO/S,GAAOqsB,QAAnB,SAA6BiD,IAE3B,cAACC,EAAD,CACE9mB,WAAYA,EACZpB,SAAUA,EACVM,UAAWA,EACX6H,WAAYA,EACZiW,iBAAkBA,EAClByI,YAAaA,U,UCxMVsB,GA1CC,SAAC,GAQV,IAPL/mB,EAOI,EAPJA,WACApB,EAMI,EANJA,SACAM,EAKI,EALJA,UACA6H,EAII,EAJJA,WACAiW,EAGI,EAHJA,iBACAyI,EAEI,EAFJA,YACAtb,EACI,EADJA,MACI,EACsBC,oBAAS,GAD/B,oBACGgU,EADH,KACWtE,EADX,KAEJ,OACE,gCACGsE,GACC,cAAC,GAAD,CACEpe,WAAYA,EACZpB,SAAUA,EACVM,UAAWA,EACX6H,WAAYA,EACZiW,iBAAkBA,EAClByI,YAAaA,EACblN,SAAU,kBAAMuB,GAASsE,MAG7B,cAAC,GAAD,CAEE9c,KACE,cAAC0lB,GAAA,EAAD,CACE1c,MAAO,CAAEtB,SAAU,GAAIV,MAAOC,IAAY2K,UAG9C3X,KAAM,UACNjD,MAAO,IACPE,OAAQ,IACRmR,QAAS,kBAAMmQ,GAASsE,IACxB1U,cAAc,EACdK,eAAe,EACfI,MAAOA,GAZF,eC2BE8c,G,uKA/CX,IAAM9c,EAAQtJ,KAAKR,MAAM0G,WAAW8L,SACpC,OACE,sBACEvI,MAAK,2BACAqP,GAAqBvL,SADrB,IAEH9V,MACEyb,KAAKC,MACsB,GAAxBnT,KAAKR,MAAM4T,KAAK3b,OAAgB,IAAM6R,EAAQA,EAAQ,KACpD,IAAMA,EAAQA,EAAQ,KANjC,UASE,qBAAKG,MAAOqP,GAAqBnL,MAAjC,SAAyC,cACzC,sBAAKlE,MAAOqP,GAAqBlL,OAAjC,UACE,cAAC,GAAD,CACEzO,WAAYa,KAAKR,MAAML,WACvB+G,WAAYlG,KAAKR,MAAM0G,WACvBoD,MAAOA,IAET,cAAC,GAAD,CACE8P,kBAAmBpZ,KAAKR,MAAM6mB,SAASjN,kBACvC9P,MAAOA,IAET,cAAC,GAAD,CACEpD,WAAYlG,KAAKR,MAAM0G,WACvBiW,iBAAkBnc,KAAKR,MAAM2c,iBAC7B7S,MAAOA,IAET,cAAC,GAAD,CACEnK,WAAYa,KAAKR,MAAML,WACvB+G,WAAYlG,KAAKR,MAAM0G,WACvBnI,SAAUiC,KAAKR,MAAMzB,SACrBM,UAAW2B,KAAKR,MAAMnB,UACtBumB,YAAa5kB,KAAKR,MAAMolB,YACxBzI,iBAAkBnc,KAAKR,MAAM2c,iBAC7B7S,MAAOA,IAET,cAAC,GAAD,CACEpD,WAAYlG,KAAKR,MAAM0G,WACvBiW,iBAAkBnc,KAAKR,MAAM2c,iBAC7B7S,MAAOA,c,GAzCamC,IAAMC,W,SCPzB4a,GAAY,CACvBC,OAAQ,CACN3vB,QAAS,OACTiX,UAAW,UACXvW,cAAe,MACfkvB,WAAY,EACZtvB,eAAgB,aAChBC,WAAY,UACZopB,UAAW,OACX5oB,OAAQ,GACR0Q,WAAY,SACZF,SAAU,GACVL,gBAAiBJ,IAAYkE,YAC7BnE,MAAOC,IAAYe,iBAErBge,QAAS,CACP7vB,QAAS,OACTU,cAAe,MACfH,WAAY,SACZD,eAAgB,gBAChB4Q,gBAAiBJ,IAAYkE,YAC7BnE,MAAOC,IAAYe,gBACnBwX,YAAa,MACbC,YAAa,QACbC,YAAazY,IAAYyY,YACzB1oB,MAAO,IACPmQ,QAAS,EACTxQ,SAAU,SACVuR,WAAY,WC3BH+d,GAAe,CAC1B7Q,MAAO,CACL3e,eAAgB,SAChBC,WAAY,UACZC,SAAU,SACV6oB,YAAa,EACbE,YAAa,QACbD,YAAa,SAEfyG,QAAS,CACP/vB,QAAS,OACTe,OAAQ,GACRL,cAAe,MACfJ,eAAgB,aAChBC,WAAY,UACZkR,WAAY,SACZF,SAAU,IAEZye,SAAU,CACRhwB,QAAS,OACTU,cAAe,SACfH,WAAY,UACZM,MAAO,IACPE,OAAQ,GACRsoB,YAAa,MACbC,YAAa,QACbC,YAAazY,IAAYyY,aAE3B0G,WAAY,CACVjwB,QAAS,OACTU,cAAe,SACfH,WAAY,UACZD,eAAgB,SAChBO,MAAO,IACPE,OAAQ,GACRiQ,QAAS,GACTqY,YAAa,MACbC,YAAa,QACbC,YAAazY,IAAYyY,YACzBrC,WAAYpW,IAAYkE,YACxBnE,MAAOC,IAAYe,iBAErBkF,MAAO,CACL/W,QAAS,OACTwR,KAAM,EACN9Q,cAAe,SACfJ,eAAgB,SAChBC,WAAY,SACZyQ,QAAS,GACTqY,YAAa,MACbC,YAAa,QACb/X,SAAU,GACVgY,YAAazY,IAAYyY,YACzBrC,WAAYpW,IAAYof,WACxBrf,MAAOC,IAAYqf,gBAErB/G,WAAY,CACVvoB,MAAO,GACPE,OAAQ,GACRf,QAAS,OACTM,eAAgB,SAChBC,WAAY,SACZ8oB,YAAa,MACbC,YAAa,QACbC,YAAazY,IAAYyY,YACzBrY,gBAAiBJ,IAAYkE,YAC7BnE,MAAOC,IAAYe,iBAErBue,SAAU,CACRze,QAAS,OACTN,OAAQ,IACRqY,OAAQ,OACRC,UAAW,SACX7M,YAAa,EACbvL,SAAU,GACVE,WAAY,SACZ4X,YAAa,MACbC,YAAa,QACbC,YAAazY,IAAYyY,YACzBrY,gBAAiBJ,IAAYkE,YAC7BnE,MAAOC,IAAYe,kB,2CC1EvBwe,EAAQ,IACRA,EAAQ,IACRA,EAAQ,KACRA,EAAQ,K,IAgKOC,G,kDA7Jb,WAAY1nB,GAAQ,IAAD,8BACjB,cAAMA,IAwCR2nB,iBAAmB,SAACC,GAClB,IAAMC,EAAYD,EAAOE,YACzB,EAAK5pB,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZ4pB,KAAMF,EAAUE,KAChBC,IAAKH,EAAUI,SA9CA,EAkDnBC,eAAiB,SAACC,GAChB,EAAKjqB,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZiqB,KAAMD,EAAI9mB,YArDK,EAyDnBgnB,UAAY,SAAChe,GACX,EAAKnM,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZmqB,IAAKje,EAAEC,OAAOjJ,YA1DhB,EAAKknB,MAAQ,CACXnZ,GAAI,CAAE/N,MAAO,aAAcmnB,MAAO,cAClCC,IAAK,CAAEpnB,MAAO,MAAOmnB,MAAO,OAC5BE,KAAM,CAAErnB,MAAO,MAAOmnB,MAAO,QAC7BrZ,IAAK,CAAE9N,MAAO,MAAOmnB,MAAO,OAC5BG,KAAM,CAAEtnB,MAAO,OAAQmnB,MAAO,UAEhC,EAAKrqB,MAAQ,CACX4pB,KAAM,EACNC,IAAK,EACLI,KAAM,EAAKG,MAAMG,KAAKrnB,MACtBinB,IAAK,IAEP,EAAKX,iBAAmB,EAAKA,iBAAiBvhB,KAAtB,gBACxB,EAAK8hB,eAAiB,EAAKA,eAAe9hB,KAApB,gBACtB,EAAKiiB,UAAY,EAAKA,UAAUjiB,KAAf,gBACjB,EAAKwiB,WAAa,EAAKA,WAAWxiB,KAAhB,gBAClB,EAAKoS,UAAY,EAAKA,UAAUpS,KAAf,gBACjB,EAAKqS,YAAc,EAAKA,YAAYrS,KAAjB,gBApBF,E,gEAuBE,IAAD,OACZwhB,EAAS/R,SAASqI,uBACtB1d,KAAKR,MAAMhF,GAAK,YAChB,GACF4sB,EAAO3d,MAAMrB,KAAO,EACNgf,EAAOhnB,SAAS,GACxBqJ,MAAM9R,OAASgsB,OAAO3jB,KAAKR,MAAM7H,OAAS,IAAM,KACtDyvB,EAAO7V,iBAAiB,WAAW,SAAC1H,GAClC,GAAIA,EAAEwe,QAKJ,OAJgB,KAAZxe,EAAEye,QACJze,EAAEoE,iBACF,EAAKzO,MAAM+oB,aAEN,O,iCA4BF1e,GACK,UAAVA,EAAEjJ,KAAiB3H,QAAQC,IAAI8G,KAAKrC,MAAMmqB,O,gCAGtCje,GACRA,EAAEC,OAAOL,MAAMM,QAAU,K,kCAGfF,GACVA,EAAEC,OAAOL,MAAMM,QAAU,I,+BAGjB,IAAD,OACDye,EAAkBloB,OAAOC,KAAKP,KAAK+nB,OAAOxc,KAC9C,SAAC3K,GAAD,OAAS,EAAKmnB,MAAMnnB,MAEtB,OACE,sBACE6I,MAAK,2BACA/S,EAAOa,QADP,IAEHE,MAAOuI,KAAKR,MAAM/H,MAClBE,OAAQqI,KAAKR,MAAM7H,QAChB+uB,GAAa7Q,OALpB,UAQG7V,KAAKR,MAAM/H,MAAQ,KAClB,sBAAKgS,MAAOid,GAAaC,QAAzB,UACE,qBAAKld,MAAOid,GAAaG,WAAzB,SACE,8BAAM,MAAQ7mB,KAAKrC,MAAM4pB,KAAO,SAAWvnB,KAAKrC,MAAM6pB,QAExD,qBAAK/d,MAAOid,GAAa/Y,MAAzB,SACG3N,KAAKR,MAAMmO,OAAS3N,KAAKR,MAAMsG,MAAQ,UAAO,aAEjD,qBAAK2D,MAAOid,GAAaE,SAAzB,SACE,cAAC,KAAD,CACE6B,QAASD,EACTpe,SAAUpK,KAAK0nB,eACf7mB,MAAOb,KAAKrC,MAAMiqB,KAClBvH,YAAa,kBAKrB,cAAC,cAAD,CACEqI,UAAW1oB,KAAKR,MAAMhF,GAAK,WAC3BqG,MAAOb,KAAKR,MAAMqB,MAClB4nB,QAAS,CACPb,KAAM5nB,KAAKrC,MAAMiqB,KACjBe,MAAO,WACPC,aAAa,EACbC,aAAa,GAEfC,eAAgB,SAAC1B,GACf,EAAK2B,SAAW3B,EAChB1Q,YAAW,kBAAM,EAAKqS,SAAStO,YAAW,IAE5CuO,eAAgBhpB,KAAKR,MAAMwpB,eAC3B5e,SAAUpK,KAAKR,MAAM4K,SACrB+c,iBAAkBnnB,KAAKmnB,mBAEzB,sBAAK1d,MAAOid,GAAaC,QAAzB,UACE,uBACEld,MAAK,2BACAid,GAAaM,UADb,IAEHvvB,MAAOuI,KAAKR,MAAM/H,MAAQ,MAE5BoJ,MAAOb,KAAKrC,MAAMmqB,IAClB1d,SAAUpK,KAAK6nB,UACfvd,UAAWtK,KAAKooB,WAChB/H,YAAa,kBAEf,qBACE5W,MAAK,2BAAOid,GAAa1G,YAApB,IAAgCvoB,MAAO,KAC5CqR,QAAS,kBAAM,EAAKtJ,MAAMypB,kBAAkBC,GAAaC,UACzDvf,YAAa5J,KAAKgY,UAClBhO,WAAYhK,KAAKiY,YAJnB,qBAQA,qBACExO,MAAK,2BAAOid,GAAa1G,YAApB,IAAgCvoB,MAAO,KAC5CqR,QAAS,kBAAM,EAAKtJ,MAAMypB,kBAAkBC,GAAaE,UACzDxf,YAAa5J,KAAKgY,UAClBhO,WAAYhK,KAAKiY,YAJnB,+B,GAhJexM,IAAMC,WCXlB2d,GAAiB,CAC5B7hB,UAAW,CACT5Q,QAAS,OACTU,cAAe,SACfJ,eAAgB,aAChBC,WAAY,UACZ8oB,YAAa,MACbC,YAAa,QACbC,YAAa,SAEfwG,QAAS,CACP/vB,QAAS,OACTe,OAAQ,GACRL,cAAe,MACfJ,eAAgB,aAChBC,WAAY,UACZkR,WAAY,SACZF,SAAU,IAEZwF,MAAO,CACLvF,KAAM,EACN3Q,MAAO,GACPb,QAAS,OACTgR,QAAS,EACT1Q,eAAgB,aAChBC,WAAY,SACZ8oB,YAAa,MACbC,YAAa,QACb9oB,SAAU,SACV+Q,SAAU,GACVgY,YAAazY,IAAYyY,YACzBrY,gBAAiBJ,IAAYof,WAC7Brf,MAAOC,IAAYqf,gBAErB/G,WAAY,CACVvoB,MAAO,GACPE,OAAQ,GACRf,QAAS,OACTM,eAAgB,SAChBC,WAAY,SACZ8oB,YAAa,MACbC,YAAa,QACbC,YAAazY,IAAYyY,YACzBrY,gBAAiBJ,IAAYkE,YAC7BnE,MAAOC,IAAYe,iBAErBue,SAAU,CACRze,QAAS,OACTN,OAAQ,IACRqY,OAAQ,OACRC,UAAW,SACX7M,YAAa,EACbvL,SAAU,GACVE,WAAY,SACZ4X,YAAa,MACbC,YAAa,QACbC,YAAazY,IAAYyY,YACzBrY,gBAAiBJ,IAAYkE,YAC7BnE,MAAOC,IAAYe,iBAErBgC,MAAO,CACL7C,QAAS,EACTqY,YAAa,MACbC,YAAa,QACbC,YAAazY,IAAYyY,YACzBjpB,eAAgB,aAChBC,WAAY,cAEd0e,MAAO,CACLzN,KAAM,EACNN,gBAAiBJ,IAAYwE,aAC7BzE,MAAOC,IAAYC,iBACnBU,WAAY,SACZF,SAAU,K,wCCoQCmhB,G,kDAjUb,WAAY9pB,GAAQ,IAAD,8BACjB,cAAMA,IACD7B,MAAQ,CACX8R,iBAAkB,KAClBE,eAAgB,GAChB4Z,WAAY,GACZ3Z,SAAS,EACTC,cAAe,GACfC,aAAc,IAGhB,EAAK0Z,iBAAmB,EAAKA,iBAAiB5jB,KAAtB,gBACxB,EAAKsK,gBAAkB,EAAKA,gBAAgBtK,KAArB,gBACvB,EAAKqK,WAAa,EAAKA,WAAWrK,KAAhB,gBAClB,EAAKoS,UAAY,EAAKA,UAAUpS,KAAf,gBACjB,EAAKqS,YAAc,EAAKA,YAAYrS,KAAjB,gBACnB,EAAKoK,uBAAyB,EAAKA,uBAAuBpK,KAA5B,gBAC9B,EAAKoD,gBAAkB,EAAKA,gBAAgBpD,KAArB,gBACvB,EAAKqD,SAAW,EAAKA,SAASrD,KAAd,gBAChB,EAAKuK,SAAW,EAAKA,SAASvK,KAAd,gBAChB,EAAKwK,WAAa,EAAKA,WAAWxK,KAAhB,gBAClB,EAAK+L,WAAa,EAAKA,WAAW/L,KAAhB,gBAClB,EAAK8J,qBAAuB,EAAKA,qBAAqB9J,KAA1B,gBAtBX,E,gEAyBE,IAAD,OAClB5F,KAAKR,MAAML,WAAWqR,gBAAgBxQ,KAAK0P,sBACvC1P,KAAKR,MAAMiqB,sBACbzpB,KAAKgQ,uBAAuBhQ,KAAKR,MAAMiqB,sBAED,QAApCzpB,KAAKR,MAAMiqB,sBACbzpB,KAAKR,MAAML,WAAWsR,aAAY,kBAChC,EAAKT,uBAAuB,EAAKxQ,MAAMiqB,2B,6CAM3C,IAAI9Z,EAAiB3P,KAAKrC,MAAM8R,iBAAiBlN,cAEjD,IAAK,IAAI3B,KADT+O,EAAc,eAAQA,GAEpBA,EAAe/O,GAAO,CACpBnG,SAAUkV,EAAe/O,GACzBiI,cAAc,GAGlB7I,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZiS,SAAS,EACTD,wB,6CAImB/Q,GACrB,IACM6Q,EADazP,KAAKR,MAAML,WACM4F,aAAanG,GAC7C+Q,EAAiBF,EAAiBlN,cAEtC,IAAK,IAAI3B,KADT+O,EAAc,eAAQA,GAEpBA,EAAe/O,GAAO,CACpBnG,SAAUkV,EAAe/O,GACzBiI,cAAc,GAIlB7I,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZ8R,mBACAE,wB,gCAIM9F,GACRA,EAAEC,OAAOL,MAAMM,QAAU,K,kCAGfF,GACVA,EAAEC,OAAOL,MAAMM,QAAU,I,uCAGVF,GACf7J,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZ4rB,WAAY1f,EAAEC,OAAOjJ,a,mCAKvB,IAAM1B,EAAaa,KAAKR,MAAML,WACxBU,EAASG,KAAKrC,MAAM8R,iBAAiBpN,UAO9B,QALiB,KAA1BrC,KAAKrC,MAAM4rB,WACNpqB,EAAWqQ,cAAc3P,EAAQG,KAAKrC,MAAM4rB,WAAY,IAExDpqB,EAAWqQ,cAAc3P,EAAQ,WAAY,KAGpDG,KAAK0P,uBAELzX,OAAOyG,MAAM,8B,wCAKf,IAAMS,EAAaa,KAAKR,MAAML,WACxBU,EAASG,KAAKrC,MAAM8R,iBAAiBpN,UAO9B,QALiB,KAA1BrC,KAAKrC,MAAM4rB,WACNpqB,EAAWwR,mBAAmB9Q,EAAQG,KAAKrC,MAAM4rB,YAEjDpqB,EAAWwR,mBAAmB9Q,EAAQ,eAG7CG,KAAK0P,uBAELzX,OAAOyG,MAAM,8B,iCAINE,GACLoB,KAAKrC,MAAM8R,iBAAiBmB,QAC9B5Q,KAAKR,MAAML,WAAW0R,eAAejS,GAErCoB,KAAKR,MAAML,WAAW2R,WACpB9Q,KAAKrC,MAAM8R,iBAAiBpN,UAC5BzD,GAEJoB,KAAK0P,yB,sCAGS9O,EAAKC,GACnB,IAAM8O,EAAiB3P,KAAKrC,MAAMgS,eAClCA,EAAe/O,GAAKiI,aAAehI,EACnCb,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZgS,wB,+BAIK/Q,EAAMlE,EAAMa,GACnB,GAAa,KAATb,EAGG,GAAIA,EAAKL,QAAU,GACxBqE,MAAM,gDADD,CAGInD,IAAS0E,GAAMC,KACxBF,KAAKR,MAAML,WAAW+R,eAAetS,EAAMlE,GAE3CsF,KAAKR,MAAML,WAAWgS,oBAAoBvS,EAAMlE,GAElD,IAAMiV,EAAiB3P,KAAKrC,MAAMgS,eAClCA,EAAe/Q,GAAMnE,SAASC,KAAOA,EACrCiV,EAAe/Q,GAAMiK,cAAe,EACpC7I,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZgS,2BAfAjR,MAAM,oC,iCAmBCmL,GACTA,EAAEoE,iBACa,UAAXpE,EAAEtO,KACJtD,OAAO8Y,oBAAoB,QAAS/Q,KAAKoQ,YACtCnY,OAAO8Y,oBAAoB,cAAe/Q,KAAKoQ,YACpDpQ,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZiS,SAAS,S,+BAIJoB,EAAGC,EAAG3F,GACbtL,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZiS,SAAS,EACTC,cAAe,CAAEmB,IAAGC,KACpBnB,aAAcxE,S,wCAIAzB,EAAGpP,GAAW,IAAD,OAC7BxC,OAAOsZ,iBAAiB,QAASvR,KAAKoQ,YACtCvG,EAAEoE,iBACFjO,KAAKmQ,SAAStG,EAAE4H,QAAS5H,EAAE6H,QAAS,CAClC,CACEvG,QAAS,SACT7R,KAAM,kBAAM,EAAKqY,WAAWlX,EAASmE,QAEvC,CACEuM,QAAS,SACT7R,KAAM,WACJ,EAAK0P,gBAAgBvO,EAASmE,MAAM,S,+BAMlC,IAAD,OACH0M,EAAU,GACRmE,EAAmBzP,KAAKrC,MAAM8R,iBAC9BE,EAAiB3P,KAAKrC,MAAMgS,eAElC,GAAIF,GAAoBE,IAAmB,GAAI,CAAC,IAAD,WACpC/O,GACP,IAAMnG,EAAWkV,EAAe/O,GAAKnG,SACjCA,EAASc,OAAS0E,GAAMI,IAC1BiL,EAAQxI,KAAK,CACXqI,QACE,gCACE,cAACue,GAAA,EAAD,IADF,IAC0BjvB,EAASC,QAGrCmG,MAAOpG,EAASC,KAChBsQ,cAAe2E,EAAe/O,GAAKiI,aACnCvP,KAAM,WACJ,EAAK0W,uBAAuBvV,EAASmE,OAEvCmM,YAAa,SAAClB,GACZ,EAAK8f,kBAAkB9f,EAAGpP,IAE5BwQ,UAAW,SAACvQ,GACV,EAAKuO,SAASxO,EAASmE,KAAMlE,EAAMD,EAASc,OAE9C2P,WAAY,WACV,EAAKlC,gBAAgBpI,GAAK,MAI9B0K,EAAQxI,KAAK,CACXqI,QACE,gCACE,cAACye,GAAA,EAAD,IADF,IACwBnvB,EAASC,QAGnCmG,MAAOpG,EAASC,KAChBsQ,cAAe2E,EAAe/O,GAAKiI,aACnCvP,KAAM,WACJ,EAAKkG,MAAMqqB,SAAS,EAAKrqB,MAAML,WAAWE,QAAQ5E,EAASmE,QAE7DmM,YAAa,SAAClB,GACZ,EAAK8f,kBAAkB9f,EAAGpP,IAE5BwQ,UAAW,SAACvQ,GACV,EAAKuO,SAASxO,EAASmE,KAAMlE,EAAMD,EAASc,OAE9C2P,WAAY,WACV,EAAKlC,gBAAgBpI,GAAK,OA3ClC,IAAK,IAAIA,KAAO+O,EAAiB,EAAxB/O,GAiDX,OACE,sBACE6I,MAAK,aACH9R,OAAQqI,KAAKR,MAAM7H,OACnBF,MAAOuI,KAAKR,MAAM/H,OACf4xB,GAAe7hB,WAJtB,UAOGxH,KAAKrC,MAAMiS,SACV,cAAC,GAAD,CACE9Y,IAAKkJ,KAAKrC,MAAMkS,cAAcoB,EAC9Bla,KAAMiJ,KAAKrC,MAAMkS,cAAcmB,EAC/B1F,QAAStL,KAAKrC,MAAMmS,eAGxB,sBAAKrG,MAAO4f,GAAe1C,QAA3B,UACE,qBAAKld,MAAO4f,GAAe1b,MAA3B,SACG8B,EAAmBA,EAAiBrN,UAAY,KAEnD,qBACEqH,MAAO4f,GAAerJ,WACtBlX,QAAS,WACH2G,EAAiBnN,aACnB,EAAK0N,uBAAuBP,EAAiBnN,cAEjDsH,YAAa5J,KAAKgY,UAClBhO,WAAYhK,KAAKiY,YAPnB,SASE,cAACgE,GAAA,EAAD,SAGJ,cAAC,GAAD,CACE3Q,QAASA,EACTV,UAAW5K,KAAKR,MAAMoL,UACtBY,eAAgB6d,GAAexT,MAC/BlL,WAAY0e,GAAe5e,QAE7B,sBAAKhB,MAAO4f,GAAe1C,QAA3B,UACE,uBACEld,MAAK,2BACA4f,GAAerC,UADf,IAEHvvB,MAAOuI,KAAKR,MAAM/H,MAAQ,KAE5BoJ,MAAOb,KAAKrC,MAAM4rB,WAClBnf,SAAUpK,KAAKwpB,iBACfnJ,YAAa,eAEf,qBACE5W,MAAO4f,GAAerJ,WACtBlX,QAAS9I,KAAKiQ,WACdrG,YAAa5J,KAAKgY,UAClBhO,WAAYhK,KAAKiY,YAJnB,SAME,cAAC6R,GAAA,EAAD,MAEF,qBACErgB,MAAO4f,GAAerJ,WACtBlX,QAAS9I,KAAKkQ,gBACdtG,YAAa5J,KAAKgY,UAClBhO,WAAYhK,KAAKiY,YAJnB,SAME,cAAC8R,GAAA,EAAD,gB,GA1Tete,IAAMC,WCZpBse,GAAgB,CAC3BnU,MAAO,CACL/N,gBAAiBJ,IAAYuF,iBAC7BzE,OAAQ,oBCiFGyhB,GAnFC,SAAC,GAAuC,IAArCzvB,EAAoC,EAApCA,GAAI/C,EAAgC,EAAhCA,MAAOE,EAAyB,EAAzBA,OAAQkG,EAAiB,EAAjBA,KA+BpC,OA/BqD,EAAXqsB,KAiCtC,qBACE1vB,GAAIA,EACJiP,MAAO,CACL7S,QAAS,OACTM,eAAgB,SAChBC,WAAY,SACZ2Q,gBAAiBJ,IAAYK,iBAC7BtQ,QACAE,SACA6Q,OAAQ,oBATZ,SAYE,qBACEiB,MAAO,CACLtB,SAAU,GACVE,WAAY,SACZZ,MAAOC,IAAYuF,kBAJvB,2BA5CQ,SAACkd,GACb,IAAIC,EACJ,IACEA,EAAM,IAAIC,IAAIF,GACd,MAAOG,GACP,OAAO,EAET,MACmB,UAAjBF,EAAIG,UACa,WAAjBH,EAAIG,UACa,UAAjBH,EAAIG,UACa,UAAjBH,EAAIG,SA4CGC,CAAM3sB,IApCA,SAACssB,GAChB,GAAY,KAARA,GAA6B,KAAfA,EAAIM,OACpB,OAAO,EAET,IACE,OAAOC,KAAKC,KAAKR,MAAUA,EAC3B,MAAOtgB,GACP,OAAO,GA6Be+gB,CAAS/sB,GAE/B,wBACErD,GAAIA,EACJmT,MAAO,UACPlE,MAAOugB,GAAcnU,MACrBpe,MAAOA,EACPE,OAAQA,EACRkzB,IAAKhtB,EACLitB,qBAAmB,cAhDhB,qBAAqBC,KAmDZltB,GAEd,wBACErD,GAAIA,EACJmT,MAAO,UACPlE,MAAOugB,GAAcnU,MACrBpe,MAAOA,EACPE,OAAQA,EACRqzB,OAAQntB,IAIP,qBAAK4L,MAAK,2BAAOugB,GAAcnU,OAArB,IAA4Bpe,QAAOE,WAA7C,SAAwDkG,KCmBlDotB,GAlGG,SAAC,GAKZ,IAJLC,EAII,EAJJA,UACAhV,EAGI,EAHJA,WACAE,EAEI,EAFJA,SAEI,IADJI,sBACI,MADa,aACb,EACExF,EAAIgD,iBAAO,GACXvc,EAAQuc,iBAAOkX,GACfC,EAAUnX,mBAEhB5G,qBAAU,WACJ8I,EACEiV,EAAQ9W,UACV8W,EAAQ9W,QAAQ9C,iBAAiB,YAAaoF,GAC9CwU,EAAQ9W,QAAQ9C,iBAAiB,aAAcqF,KAGjDuU,EAAQ9W,QAAQtD,oBAAoB,YAAa4F,GACjDwU,EAAQ9W,QAAQtD,oBAAoB,aAAc6F,GAClD3e,OAAO8Y,oBAAoB,YAAa8F,GACxC5e,OAAO8Y,oBAAoB,UAAW+F,GACtC7e,OAAO8Y,oBAAoB,YAAagG,GACxC9e,OAAO8Y,oBAAoB,WAAYuG,MAExC,CAACpB,IAEJ,IAAMW,EAAgB1C,uBAAY,SAACtK,IACjCA,EAAIA,GAAK5R,OAAOqc,OACdrG,iBACF,IAAM+I,EAAKnN,EAAE4H,QAAUT,EAAEqD,QACzB+B,EAAS3e,EAAM4c,QAAU2C,KACxB,IAEGD,EAAqB5C,uBAAY,SAACtK,GAEtC,IAAMmN,GADNnN,EAAIA,GAAK5R,OAAOqc,OACHY,QAAQ,GAAGzD,QAAUT,EAAEqD,QACpC+B,EAAS3e,EAAM4c,QAAU2C,KACxB,IAEGF,EAAqB3C,uBAAY,SAACtK,GACtCA,EAAIA,GAAK5R,OAAOqc,MAChB7c,EAAM4c,QAAU5c,EAAM4c,QAAUxK,EAAE4H,QAAUT,EAAEqD,QAC9Cpc,OAAO8Y,oBAAoB,YAAa8F,GACxC5e,OAAO8Y,oBAAoB,UAAW+F,GACtC,IAL4C,EAKtC1B,EAAUC,SAASC,qBAAqB,UALF,cAM9BF,GAN8B,IAM5C,2BAAuB,SACnB3L,MAAM8L,cAAgB,QAPkB,8BAS5CiB,MACC,IAEGc,EAA0BnD,uBAAY,SAACtK,GAC3CA,EAAIA,GAAK5R,OAAOqc,MAChB7c,EAAM4c,QAAU5c,EAAM4c,QAAUxK,EAAEuhB,eAAe,GAAG3Z,QAAUT,EAAEqD,QAChEpc,OAAO8Y,oBAAoB,YAAagG,GACxC9e,OAAO8Y,oBAAoB,WAAYuG,GACvC,IALiD,EAK3ClC,EAAUC,SAASC,qBAAqB,UALG,cAMnCF,GANmC,IAMjD,2BAAuB,SACnB3L,MAAM8L,cAAgB,QAPuB,8BASjDiB,MACC,IAEGG,EAAkBxC,uBAAY,SAACtK,GACnCA,EAAIA,GAAK5R,OAAOqc,MAChBtD,EAAEqD,QAAUxK,EAAE4H,QACdxZ,OAAOsZ,iBAAiB,YAAasF,GACrC5e,OAAOsZ,iBAAiB,UAAWuF,GACnC,IALyC,EAKnC1B,EAAUC,SAASC,qBAAqB,UALL,cAM3BF,GAN2B,IAMzC,2BAAuB,SACnB3L,MAAM8L,cAAgB,QAPe,iCASxC,IAEGqB,EAAmBzC,uBAAY,SAACtK,GACpCA,EAAIA,GAAK5R,OAAOqc,MAChBtD,EAAEqD,QAAUxK,EAAEqL,QAAQ,GAAGzD,QACzBxZ,OAAOsZ,iBAAiB,YAAawF,GACrC9e,OAAOsZ,iBAAiB,WAAY+F,GACpC,IAL0C,EAKpClC,EAAUC,SAASC,qBAAqB,UALJ,cAM5BF,GAN4B,IAM1C,2BAAuB,SACnB3L,MAAM8L,cAAgB,QAPgB,iCASzC,IAEH,OACE,qBACEI,IAAKwV,EACL1hB,MAAO,CACLhS,MAAO,EACPE,OAAQ,OACRoU,OAAQ,aACRjE,gBAAiBJ,IAAYuF,qBC/FxBoe,GACH,CACNC,UAAW,OACXp0B,eAAgB,UAChBC,WAAY,cAJHk0B,GAMJ,CACLz0B,QAAS,OACTwR,KAAM,EACN9Q,cAAe,SACfJ,eAAgB,aAChBC,WAAY,UACZyQ,QAAS,MACTY,OAAQ,mBAbC6iB,GAeA,CACT9iB,QAAS,OACTC,OAAQ,OACR/Q,MAAO,OACPwQ,OAAQ,IACRqY,OAAQ,QCfNiL,GAAO,SAAC,GAAkE,IAAhErkB,EAA+D,EAA/DA,MAAO1M,EAAwD,EAAxDA,GAAIqG,EAAoD,EAApDA,MAAO4I,EAA6C,EAA7CA,MAAOa,EAAsC,EAAtCA,UAAWF,EAA2B,EAA3BA,SAClD,OAD6E,EAAjBohB,WAGxD,qBACEpK,iBAAiB,EACjBsH,UAAWluB,EAAK,QAChBixB,aAAYvkB,EACZ3L,KAAK,OACL8O,YAAY,EACZZ,MAAK,2BAAO4hB,IAA0B5hB,GACtCa,UAAWA,EACX+W,QAASjX,IAKX,qBACEse,UAAWluB,EAAK,QAChBixB,aAAYvkB,EACZ3L,KAAK,OACL8O,YAAY,EACZZ,MAAK,2BAAO4hB,IAA0B5hB,GALxC,SAOG5I,KA+JM6qB,G,kDAzJb,WAAYlsB,GAAQ,IAAD,8BACjB,cAAMA,IACD7B,MAAQ,CACXguB,WAAY,EACZC,MAAO,CAAC,CAAE/qB,MAAO,MAEnB,EAAKrG,GAAK2J,cACV,EAAK0nB,aAAe,EAAKA,aAAajmB,KAAlB,gBACpB,EAAKkmB,cAAgB,EAAKA,cAAclmB,KAAnB,gBACrB,EAAKmmB,SAAW,EAAKA,SAASnmB,KAAd,gBAChB,EAAKomB,eAAiB,CACpBC,IAAK,WACH,EAAKvuB,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZguB,WAAY,EACZC,MAAO,CAAC,CAAE/qB,MAAO,YAfN,E,gEAqBE,IAAD,OACdqrB,MAAMC,QAAQnsB,KAAKR,MAAMosB,QAAU5rB,KAAKR,MAAMosB,MAAMvxB,OAAS,GAC/D2F,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZiuB,MAAO,EAAKpsB,MAAMosB,a,mCAIX/hB,GACX,IAAMhJ,EAAQgJ,EAAEC,OAAOiX,UACjB6K,EAAQ5rB,KAAKrC,MAAMiuB,MACnB1kB,EAAQkQ,OAAOvN,EAAEC,OAAOsiB,QAAQllB,OACtC0kB,EAAM1kB,GAAOrG,MAAQA,EACrBb,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZiuB,QACAD,WAAYC,EAAMvxB,OAAS,S,+BAItB6M,GACP,IAAM0kB,EAAQvW,SAASqI,uBAAuB1d,KAAKxF,GAAK,SACxDkc,YAAW,kBAAMkV,EAAM1kB,GAAOmlB,UAAS,K,oCAG3BxiB,GAAI,IAAD,OACTjJ,EAAMiJ,EAAEjJ,IACRkJ,EAASD,EAAEC,OACX8hB,EAAQ5rB,KAAKrC,MAAMiuB,MACnB/qB,EAAQiJ,EAAOiX,UAErB,GAAY,UAARngB,EAAiB,CAEnB,GADAiJ,EAAEoE,iBACEpN,KAASb,KAAKgsB,eAEhB,YADAhsB,KAAKgsB,eAAenrB,KAGtB,IAAMzG,EAAS4F,KAAKR,MAAM8sB,SAASzrB,GACnC,GAAsB,IAAlBzG,EAAOC,OAAc,CAAC,IAAD,gBACPD,GADO,IACvB,2BAAwB,CAAC,IAAhBrC,EAAe,QACtB6zB,EAAM9oB,KAAK,CACTjC,MAXW,OAWS9I,KAHD,8BAMvB6zB,EAAM9oB,KAAK,CAAEjC,MAAO,UAEpB+qB,EAAM9oB,KAAK,CAAEjC,MAAO,KAEtBb,KAAKtC,UACH,SAACC,GAAD,mBAAC,eACIA,GADL,IAEEiuB,QACAD,WAAYC,EAAMvxB,OAAS,OAE7B,WACE,EAAK0xB,SAASH,EAAMvxB,OAAS,UAGhB,YAARuG,GACTiJ,EAAEoE,mB,+BAII,IAAD,OAEDse,EADQvsB,KAAKrC,MAAMiuB,MACArgB,KAAI,SAACgc,EAAMrgB,GAClC,OAAIA,IAAU,EAAKvJ,MAAMguB,WAErB,cAAC,GAAD,CACEzkB,MAAOA,EAEP1M,GAAI,EAAKA,GACTqG,MAAO0mB,EAAK1mB,MACZ2qB,YAAY,EACZ/hB,MAAO,CACLqU,WAAY,QACZvH,UAAW,GACXpO,SAAU,GACVE,WAAY,SACZZ,MAAO,aACPiM,YAAa,GAEfpJ,UAAW,EAAKwhB,cAChB1hB,SAAU,EAAKyhB,cAbV3kB,GAkBP,cAAC,GAAD,CACEA,MAAOA,EAEP1M,GAAI,EAAKA,GACTqG,MAAO0mB,EAAK1mB,MACZ2qB,YAAY,EACZ/hB,MAAO,CACLqU,WAAY,QACZvH,UAAW,GACXpO,SAAU,GACVE,WAAY,SACZZ,MAAO,QACPiM,YAAa,GAEfpJ,UAAW,EAAKwhB,cAChB1hB,SAAU,EAAKyhB,cAbV3kB,MAkBb,OACE,qBACEuC,MAAK,uCACA/S,EAAOW,KACPg0B,IAFA,IAGH1zB,OAAQqI,KAAKR,MAAM7H,OACnBF,MAAOuI,KAAKR,MAAM/H,MAClBqmB,WAAY,OACZwN,UAAW,SAPf,SAUE,qBACE7hB,MAAK,2BACA4hB,IADA,IAEHvN,WAAY,SAHhB,SAMGyO,U,GAnJiB9gB,IAAMC,WCrBrBwd,GAAe,CAC1BsD,KAAM,EACNrD,QAAS,EACTC,QAAS,GA+RIqD,G,kDA3Rb,WAAYjtB,GAAQ,IAAD,8BACjB,cAAMA,IA+GRwpB,eAAiB,SAAC5B,EAAQvpB,EAAMgD,EAAOqG,GACrC,EAAKxJ,UAAS,SAACC,GACb,IAAM7D,EAAQ,EAAK6D,MAAM+uB,aAGzB,OAFA5yB,EAAMoN,GAAOrG,MAAQA,EACrB/G,EAAMoN,GAAOpB,OAAQ,EACd,2BACFnI,GADL,IAEE+uB,aAAc5yB,QAvHD,EA4HnBsQ,SAAW,aA5HQ,EA8HnBuiB,aAAe,SAACzlB,GACd,EAAKxJ,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZivB,aAAc1lB,QAjIC,EAqInB+hB,kBAAoB,SAACrB,GACnB,EAAKlqB,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZkvB,YAAajF,QAxIE,EA4InBkF,cAAgB,SAACr1B,EAAOE,GACtB,EAAK+F,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZovB,WAAW,2BACNpvB,EAAMovB,YADD,IAERt1B,QACAE,iBAlJa,EAuJnBq1B,iBAAmB,SAACv1B,GAClB,EAAKiG,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZovB,WAAW,2BACNpvB,EAAMovB,YADD,IAERE,gBAAiBx1B,IAEnBy1B,UAAU,QA5JZ,EAAKvvB,MAAQ,CACX+uB,aAAc,GACdE,aAAc,EACdC,YAAa3D,GAAasD,KAC1BO,WAAY,CACVt1B,MAAO,IACPE,OAAQ,IACR8V,SAAU,IACV8I,UAAW,IACX0W,gBAAiB,KAEnBC,UAAU,EACVC,YAAa,IAEf,EAAKtD,SAAW,EAAKA,SAASjkB,KAAd,gBAChB,EAAK2iB,SAAW,EAAKA,SAAS3iB,KAAd,gBAChB,EAAKojB,eAAiB,EAAKA,eAAepjB,KAApB,gBACtB,EAAKwE,SAAW,EAAKA,SAASxE,KAAd,gBAChB,EAAK+mB,aAAe,EAAKA,aAAa/mB,KAAlB,gBACpB,EAAKqjB,kBAAoB,EAAKA,kBAAkBrjB,KAAvB,gBACzB,EAAKknB,cAAgB,EAAKA,cAAclnB,KAAnB,gBACrB,EAAKoS,UAAY,EAAKA,UAAUpS,KAAf,gBACjB,EAAKqS,YAAc,EAAKA,YAAYrS,KAAjB,gBACnB,EAAKwnB,WAAa,EAAKA,WAAWxnB,KAAhB,gBAzBD,E,gEA6BjB3N,OAAOsZ,iBAAiB,UAAWvR,KAAKotB,c,6CAIxCn1B,OAAO8Y,oBAAoB,UAAW/Q,KAAKotB,c,iCAGlCvjB,GACT,IAAMwjB,EAAUxjB,EAAEhM,KACZe,EAAO,MACPiX,EAAQR,SAASiY,eAAe1uB,eACtC,GAAqB,SAAjByuB,EAAQ9xB,KACVtC,QAAQC,IAAI,OAAQ0F,EAAMyuB,EAAQE,cAC7B,GAAqB,SAAjBF,EAAQ9xB,KACjBtC,QAAQC,IAAI,OAAQ0F,EAAMyuB,EAAQzsB,IAAKysB,EAAQxsB,OAC/Cb,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZ+C,QAAQ,2BACH/C,EAAM+C,SADJ,mBAEJ2sB,EAAQzsB,IAAMysB,EAAQxsB,kBAGtB,GAAqB,QAAjBwsB,EAAQ9xB,KAAgB,CACjC,IAAMsF,EAAQb,KAAKrC,MAAM+C,QAAQ2sB,EAAQzsB,KACzCiV,EAAM2X,cAAcC,YAApB,2BAAqCJ,GAArC,IAA8C9vB,SAAUsD,KACxD5H,QAAQC,IAAI2H,M,+BAIPW,GAAO,IAAD,gBACKxB,KAAKrC,MAAM+uB,cADhB,IACb,2BAA2C,CACzC,GADyC,QAC/BlrB,KAAKa,YAAcb,EAAKa,UAAW,QAFlC,8BAIbrC,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZ+uB,aAAa,GAAD,oBACP/uB,EAAM+uB,cADC,CAEV,CAAElrB,OAAMX,MAAOW,EAAKlC,UAAWwG,OAAO,Y,+BAKnCoB,GAAQ,IAAD,OACdlH,KAAKR,MAAML,WAAWopB,SACpBvoB,KAAKrC,MAAM+uB,aAAaxlB,GAAO1F,KAAKa,UACpCrC,KAAKrC,MAAM+uB,aAAaxlB,GAAOrG,OAEjCb,KAAKtC,UAAS,SAACC,GACb,IAAM7D,EAAQ,EAAK6D,MAAM+uB,aAEzB,OADA5yB,EAAMoN,GAAOpB,OAAQ,EACd,2BACFnI,GADL,IAEE+uB,aAAc5yB,S,gCAKVoN,GACR,IAAMpN,EAAQkG,KAAKrC,MAAM+uB,aACrB5yB,EAAMoN,GAAOpB,OACfhM,EAAMqN,OAAOD,EAAO,GACpBlH,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZ+uB,aAAc5yB,SAGJ7B,OAAOy1B,QAAQ,sCAEzB1tB,KAAKR,MAAML,WAAWopB,SACpBvoB,KAAKrC,MAAM+uB,aAAaxlB,GAAO1F,KAAKa,UACpCrC,KAAKrC,MAAM+uB,aAAaxlB,GAAOrG,OAGnCb,KAAKtC,UAAS,SAACC,GAEb,OADA7D,EAAMqN,OAAOD,EAAO,GACb,2BACFvJ,GADL,IAEE+uB,aAAc5yB,U,gCAwDZ+P,GACRA,EAAEC,OAAOL,MAAMM,QAAU,K,kCAGfF,GACVA,EAAEC,OAAOL,MAAMM,QAAU,I,+BAGjB,IAAD,OACD4jB,EAAM3tB,KAAKrC,MAAMivB,aACjBF,EAAe1sB,KAAKrC,MAAM+uB,aAC1BG,EAAc7sB,KAAKrC,MAAMkvB,YACzBe,EACJ,qBAAKnkB,MAAO6c,GAAUC,OAAtB,SACGmG,EAAanhB,KAAI,SAACd,EAAOvD,GAAR,OAChB,sBAEEuC,MAAO6c,GAAUG,QACjB3d,QAAS,kBAAM,EAAK6jB,aAAazlB,IACjC0C,YAAa,EAAKoO,UAClBhO,WAAY,EAAKiO,YALnB,UAOG1N,YAAQE,EAAMjJ,KAAKY,UAAW,GAAI,QAChCqI,EAAM3E,MAAQ,UAAO,WACxB,qBAAKgD,QAAS,kBAAM,EAAK+kB,UAAU3mB,IAAnC,SACE,cAACmR,GAAA,EAAD,QATGnR,QAeb,OACE,eAAC,GAAD,CACE1M,GAAI,qBACJE,KAAM,UACN5D,IAAK,EACLC,KAAM,EACN2gB,SAAU1X,KAAKR,MAAMkZ,YACrBtC,SAAUpW,KAAK8sB,cANjB,UAQGc,EACD,sBACEnkB,MAAK,2BACA/S,EAAOW,KADP,IAEH+Q,KAAM,EACNmO,UAAW,IAJf,UAOE,cAAC,GAAD,CACEpX,WAAYa,KAAKR,MAAML,WACvBsqB,qBAAsBzpB,KAAKR,MAAMkE,YACjCjM,MAAO,IACPE,OAAQ,OACRkyB,SAAU7pB,KAAK6pB,WAEhB6C,EAAaiB,IACZ,cAAC,GAAD,CACE9sB,MAAO6rB,EAAaiB,GAAK9sB,MACzBpJ,MAAOuI,KAAKrC,MAAMovB,WAAWE,gBAC7Bt1B,OAAQ,OACRgW,MAAO+e,EAAaiB,GAAKnsB,KAAKY,UAC9B5H,GAAIkyB,EAAaiB,GAAKnsB,KAAKa,UAC3ByD,MAAO4mB,EAAaiB,GAAK7nB,MACzBkjB,eAAgB,SAAC5B,EAAQvpB,EAAMgD,GAAf,OACd,EAAKmoB,eAAe5B,EAAQvpB,EAAMgD,EAAO8sB,IAE3CvjB,SAAU,SAACgd,EAAQvpB,EAAMgD,GAAf,OACR,EAAKuJ,SAASgd,EAAQvpB,EAAMgD,EAAO8sB,IAErCpF,SAAU,kBAAM,EAAKA,SAASoF,IAC9B1E,kBAAmBjpB,KAAKipB,oBAG3ByD,EAAaiB,IACZ,cAAC,GAAD,CACEzX,YAAU,EACVgV,UAAWlrB,KAAKrC,MAAMovB,WAAWE,gBACjC7W,SAAUpW,KAAKgtB,iBACfxW,eAAgBxW,KAAK8tB,eAGxBjB,IAAgB3D,GAAaC,QAC5BuD,EAAaiB,IACX,cAAC,GAAD,CACEnzB,GAAI,cACJ/C,MAAOyb,KAAKsB,IACVxU,KAAKrC,MAAMovB,WAAWt1B,MACpB,IACA,EACAuI,KAAKrC,MAAMovB,WAAWE,gBACxB,KAEFt1B,OAAQ,OACRkG,KAAM6uB,EAAaiB,GAAK9sB,QAG1BgsB,IAAgB3D,GAAaE,QAC/BsD,EAAaiB,IACX,cAAC,GAAD,CACEl2B,MAAOyb,KAAKsB,IACVxU,KAAKrC,MAAMovB,WAAWt1B,MACpB,IACA,EACAuI,KAAKrC,MAAMovB,WAAWE,gBACxB,KAEFt1B,OAAQ,OACRwH,WAAYa,KAAKR,MAAML,WACvBysB,MAAO,CAAC,CAAE/qB,MAAO,KACjByrB,SAAUtsB,KAAKR,MAAMuuB,UAAUC,iBAInC,uC,GApRMviB,IAAMC,WChBXuiB,GAAiB,CAC5BpY,MAAO,CACLjf,QAAS,OACTM,eAAgB,SAChBC,WAAY,SACZ0W,UAAW,UACXjG,QAAS,IAEXsmB,aAAc,CACZr3B,SAAU,WACVgR,aAAc,MACdzQ,SAAU,SACVR,QAAS,OACTM,eAAgB,SAChBC,WAAY,UAEdg3B,aAAc,CACZt3B,SAAU,WACVY,MAAO,OACPE,OAAQ,OACRkQ,aAAc,MACd0Q,OAAQ,EACRzQ,gBAAiBJ,IAAYkE,YAC7B2J,cAAe,OACf/M,OAAQ,mBCxBNwG,GAAe,SAACjU,GACpB,IAAMqzB,EAAS,IAAIC,WAEnB,OADAD,EAAOE,cAAcvzB,GACd,IAAIjD,SAAQ,SAACy2B,GAClBH,EAAOI,UAAY,WACjBD,EAAQH,EAAOh0B,aAoDNq0B,GA/CO,SAAC,GAOhB,IANLC,EAMI,EANJA,WACAC,EAKI,EALJA,SACAC,EAII,EAJJA,YAII,IAHJC,oBAGI,MAHW,GAGX,MAFJC,qBAEI,MAFY,GAEZ,MADJC,gBACI,SACJ,OACE,qBAAKtlB,MAAK,2BAAOwkB,GAAepY,OAAU6Y,GAA1C,SACE,sBACEjlB,MAAK,2BACAwkB,GAAeC,cADf,IAEHz2B,MAAOo3B,EACPl3B,OAAQm3B,IAJZ,UAOGH,EACC,qBACEK,IAAK,aACLnE,IAAK8D,EACLllB,MAAOwkB,GAAeE,eAGxB,qBAAK1kB,MAAOwkB,GAAeE,eAE5BY,GACC,uBACEtlB,MAAO,CACLhS,MAAO,OACPE,OAAQ,OACRd,SAAU,YAEZuT,SAAQ,uCAAE,WAAOP,GAAP,SAAAhS,EAAA,2DACJgS,EAAEC,OAAOhQ,MAAMO,OAAS,GADpB,4BAENu0B,EAFM,SAEY5f,GAAanF,EAAEC,OAAOhQ,MAAM,IAFxC,6EAAF,sDAIRyB,KAAK,OACLf,GAAG,MACHE,KAAK,MACLu0B,OAAO,2BCnDNC,GAAc,CACzBrZ,MAAO,CACLzN,KAAM,EACNxR,QAAS,OACTiX,UAAW,UACXvW,cAAe,SACfJ,eAAgB,aAChBC,WAAY,aACZkR,WAAY,SACZF,SAAU,GACVV,MAAOC,IAAYuF,iBACnBnF,gBAAiBJ,IAAYK,kBAE/BmmB,aAAc,CACZt3B,QAAS,UAEXoP,KAAM,CACJpP,QAAS,OACTiX,UAAW,UACX1W,WAAY,SACZD,eAAgB,SAChBiR,SAAU,GACVP,QAAS,GAEXogB,MAAO,CACLpxB,QAAS,OACTiX,UAAW,UACX3W,eAAgB,SAChBiR,SAAU,GACViE,WAAY,OACZxE,QAAS,IAEXM,MAAO,CACLC,SAAU,GACV1Q,MAAO,GACPE,OAAQ,GACRkQ,aAAc,EACdQ,WAAY,SACZC,WAAY,gBACZV,QAAS,EACTW,QAAS,OACTC,OAAQ,OACRV,gBAAiBJ,IAAYkE,YAC7BnE,MAAOC,IAAYuF,iBACnBkiB,WAAY,GAEdC,OAAQ,CACNnnB,OAAQ,GACRL,QAAS,GACTC,aAAc,GACd3Q,eAAgB,SAChBC,WAAY,SACZ2Q,gBAAiBJ,IAAYK,iBAC7B8F,UAAW,WCgDAwhB,GAhGM,SAAC,GAQf,IAPLzxB,EAOI,EAPJA,OACAlD,EAMI,EANJA,KACAyE,EAKI,EALJA,WACAP,EAII,EAJJA,KACAD,EAGI,EAHJA,iBACA2wB,EAEI,EAFJA,eACAjxB,EACI,EADJA,UAEMkxB,EAAWpwB,EAAWE,QAAQT,GAC9BI,EAAWuwB,EAASjM,UACpBnV,EAAWohB,EAASntB,UAHtB,EAI0BmH,qBAJ1B,oBAIGtK,EAJH,KAIYuwB,EAJZ,OAK6BjmB,mBAAS,IALtC,oBAKGzK,EALH,KAKY2wB,EALZ,OAMmClmB,mBAAS,IAN5C,oBAMGxK,EANH,KAMe2wB,EANf,OAO4BnmB,oBAAS,GAPrC,oBAOG1K,EAPH,KAOa8wB,EAPb,KAcJ,OACE,cAAC,GAAD,CAAQn1B,GAAIoE,EAAMlE,KAAMA,EAAM5D,IAAK,EAAGC,KAAM,EAAG2gB,SAAU4X,EAAzD,SACE,sBAAK7lB,MAAOylB,GAAYrZ,MAAxB,UACE,qBAAKpM,MAAOylB,GAAYlH,MAAxB,qCACA,sBAAKve,MAAOylB,GAAYlpB,KAAxB,wBAA0CmI,KAC1C,sBAAK1E,MAAOylB,GAAYlpB,KAAxB,wBAA0Csd,YAAQtkB,MAElD,qBAAKyK,MAAOylB,GAAYlH,MAAxB,6BACA,sBAAKve,MAAOylB,GAAYlpB,KAAxB,sBACY,IACV,uBACEzK,KAAK,OACLsF,MAAO/B,EACPsL,SAAU,SAACP,GAAD,OAAO4lB,EAAc5lB,EAAEC,OAAOjJ,QACxC4I,MAAOylB,GAAYhnB,WAGtBrJ,GACC,sBAAK4K,MAAOylB,GAAYlpB,KAAxB,6BACmB,IACjB,uBACEzK,KAAK,OACLsF,MAAO9B,EACPqL,SAAU,SAACP,GAAD,OAAO6lB,EAAiB7lB,EAAEC,OAAOjJ,QAC3C4I,MAAOylB,GAAYhnB,WAIzB,sBAAKuB,MAAOylB,GAAYlpB,KAAxB,sBAEE,cAAC,GAAD,CAAe2oB,SAAU1vB,EAAS2vB,YAAaY,QAE/CnxB,GACA,sBAAKoL,MAAOylB,GAAYlpB,KAAxB,UACE,uBACEzK,KAAK,WACLf,GAAG,QACHE,KAAK,QACL0P,SAAU,SAACP,GACT8lB,EAAY9lB,EAAEC,OAAO8lB,YAGzB,uBAAOC,QAAQ,QAAf,mCAIJ,qBACEpmB,MAAOylB,GAAYE,OACnBxlB,YAtDU,SAACC,GACjBA,EAAEC,OAAOL,MAAMM,QAAU,IAsDnBC,WApDY,SAACH,GACnBA,EAAEC,OAAOL,MAAMM,QAAU,GAoDnBjB,QAAO,sBAAE,4BAAAjR,EAAA,sEACW8G,EAAiB,CACjCf,SACAgB,OACAC,WACAC,UACAC,aACAC,WACAC,YARK,QACDlH,EADC,QAUCuC,MACNoE,MAAM3G,EAAIoG,QAEVmxB,IAbK,2CAJX,sCCzEKQ,GAAa,CACxBC,IAAK,CACHl5B,SAAU,WACVC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPW,OAAQ,GACRf,QAAS,OACTU,cAAe,MACfJ,eAAgB,gBAChBC,WAAY,SACZ2Q,gBAAiBJ,IAAYK,iBAC7BM,WAAY,UAEd2nB,UAAW,CACTpoB,QAAS,EACTC,aAAc,EACdI,OAAQ,GACRrR,QAAS,OACTM,eAAgB,SAChBC,WAAY,SACZ2Q,gBAAiBJ,IAAYuF,mBCrBpBgjB,GAAkB,CAC7Bpa,MAAO,CACLjf,QAAS,OACTU,cAAe,MACfJ,eAAgB,SAChBC,WAAY,UAEd+Q,MAAO,CACLC,SAAU,GACVN,aAAc,EACdQ,WAAY,SACZC,WAAY,gBACZV,QAAS,EACTW,QAAS,OACTC,OAAQ,OACRV,gBAAiBJ,IAAYuF,kBAE/BijB,WAAY,CACVzoB,MAAOC,IAAYuF,kBAErBkjB,UAAW,CACTvoB,QAAS,EACThR,QAAS,OACTM,eAAgB,SAChBC,WAAY,W,UCcDi5B,GAnCG,SAAC,GAAiC,IAA/Bz4B,EAA8B,EAA9BA,OAAQF,EAAsB,EAAtBA,MAAO0Q,EAAe,EAAfA,SAAe,EACpBoB,mBAAS,IADW,oBAC1C1I,EAD0C,KACnCiK,EADmC,KASjD,OACE,sBAAKrB,MAAOwmB,GAAgBpa,MAA5B,UACE,uBACEta,KAAK,OACLsF,MAAOA,EACPwgB,QAAS,SAACxX,GACRiB,EAAYjB,EAAEC,OAAOjJ,QAEvBiI,QAAS,SAACe,GACR5Q,QAAQC,IAAImc,SAASgb,eACrBp3B,QAAQC,IAAImc,SAASib,YACrBr3B,QAAQC,IAAIjB,OAAOC,OAErBuR,MAAK,2BAAOwmB,GAAgB/nB,OAAvB,IAA8BvQ,SAAQF,QAAO0Q,eAEpD,qBACEsB,MAAOwmB,GAAgBE,UACvBvmB,YAxBY,SAACC,GACjBA,EAAEC,OAAOL,MAAMM,QAAU,IAwBrBC,WArBc,SAACH,GACnBA,EAAEC,OAAOL,MAAMM,QAAU,GAiBvB,SAKE,cAACwmB,GAAA,EAAD,CAAgB9mB,MAAK,2BAAOwmB,GAAgBC,YAAvB,IAAmC/nB,qBCIjDqoB,GAhCC,SAAC,GAA8C,IAA5CC,EAA2C,EAA3CA,WAAY1yB,EAA+B,EAA/BA,SAAUgI,EAAqB,EAArBA,eASvC,OACE,sBAAK0D,MAAOqmB,GAAWC,IAAvB,UACE,cAAC,GAAD,CACElB,aAAc,GACdC,cAAe,GACfH,SAAU5wB,EAAS2yB,WACnB9B,YAAW,uCAAE,WAAOxE,GAAP,SAAAvyB,EAAA,sEACOkO,EAAe,CAAE2qB,WAAYtG,IADpC,yDAAF,wDAIb,cAAC,GAAD,CAAW3yB,MAAO,MAClB,qBACEgS,MAAOqmB,GAAWE,UAClBlnB,QAAO,sBAAE,sBAAAjR,EAAA,sEAAkB44B,IAAlB,mFACT7mB,YAtBY,SAACC,GACjBA,EAAEC,OAAOL,MAAMM,QAAU,IAsBrBC,WAnBc,SAACH,GACnBA,EAAEC,OAAOL,MAAMM,QAAU,GAcvB,4BCvBO4mB,GAAoB,CAC/B9a,MAAO,CACL/N,gBAAiBJ,IAAYuF,iBAC7BpW,SAAU,WACVI,OAAQ,EACRC,eAAgB,SAChBN,QAAS,OACTO,WAAY,SACZC,SAAU,SACVsW,WAAY,wCACZ6K,OAAQ,GAGV/Q,UAAW,CACT/P,MAAO,MACPE,OAAQ,MACRf,QAAS,OACTU,cAAe,SACfJ,eAAgB,aAChBC,WAAY,SACZ2Q,gBAAiBJ,IAAYK,iBAC7BF,aAAc,GACdI,OAAQ,IAGV2oB,aAAc,CACZh6B,QAAS,OACTU,cAAe,MACfwW,SAAU,OACV5W,eAAgB,aAChBC,WAAY,aACZqW,SAAU,IACVE,WAAY,cAEdjN,KAAM,CACJ9I,OAAQ,OACRF,MAAO,OACPoQ,aAAc,OAEhB8F,MAAO,CACLxF,SAAU,GACVV,MAAOC,IAAYe,gBACnBJ,WAAY,SACZJ,OAAQ,GACRK,WAAY,iBAEduoB,QAAS,CACPh6B,SAAU,WACVI,OAAQ,GACRQ,MAAO,GACPE,OAAQ,GACRkQ,aAAc,GACdjR,QAAS,OACTM,eAAgB,SAChBC,WAAY,SACZ2Q,gBAAiBJ,IAAYK,mBC6FlB+oB,G,kDA/Ib,WAAYtxB,GAAQ,IAAD,8BACjB,cAAMA,IACD7B,MAAQ,CACXozB,aAAc,GACdnhB,SAAS,EACTC,cAAe,GACfC,aAAc,IAEhB,EAAKM,WAAa,EAAKA,WAAWxK,KAAhB,gBAClB,EAAKuK,SAAW,EAAKA,SAASvK,KAAd,gBAChB,EAAKorB,mBAAqB,EAAKA,mBAAmBprB,KAAxB,gBAVT,E,gEAaE,IAAD,OAClB5F,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZozB,aAAc,EAAKvxB,MAAML,WAAW8xB,sB,yCAIrBryB,GACjB,IAAMmyB,EAAe/wB,KAAKrC,MAAMozB,oBACzBA,EAAanyB,GACpBoB,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZozB,oBAEF/wB,KAAKR,MAAML,WAAW+xB,aAAatyB,K,iCAG1BiL,GACTA,EAAEoE,iBACa,UAAXpE,EAAEtO,KACJtD,OAAO8Y,oBAAoB,QAAS/Q,KAAKoQ,YACtCnY,OAAO8Y,oBAAoB,cAAe/Q,KAAKoQ,YACpDpQ,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZiS,SAAS,S,+BAIJoB,EAAGC,EAAG3F,GACbtL,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZiS,SAAS,EACTC,cAAe,CAAEmB,IAAGC,KACpBnB,aAAcxE,S,+BAIR,IAAD,OACDpK,EAAOlB,KAAKrC,MAAMozB,aAClBI,EAAS,GACT7nB,EAAQtJ,KAAKR,MAAM0G,WAAW8L,SAH7B,WAKEpR,GACP,IAAMoB,EAAMd,EAAKN,GACXnG,EAAWuH,EAAIyB,cACrB0tB,EAAOruB,KACL,cAAC,GAAD,CAEErC,KACEhG,EAASgG,KACP,qBACEuuB,IAAK,GACLvlB,MAAOknB,GAAkBlwB,KACzBoqB,IAAKpwB,EAASgG,OAGhB,qBAAKgJ,MAAOknB,GAAkBlwB,OAGlC/F,KAAMD,EAASC,KACfwO,eAAe,EACfzR,MAAO,IACPE,OAAQ,IACRmR,QAAS,SAACe,GACR,EAAKrK,MAAM4xB,cAAcpvB,IAE3B+G,aAAc,SAACc,GACbA,EAAEoE,iBACFpE,EAAE2H,kBACFvZ,OAAOsZ,iBAAiB,QAAS,EAAKnB,YACtC,EAAKD,SAAStG,EAAE4H,QAAS5H,EAAE6H,QAAS,CAClC,CACEvG,QAAS,cACT7R,KAAM,kBAAM,EAAKkG,MAAM6xB,cAAc52B,EAASmE,QAEhD,CACEuM,QAAS,YACT7R,KAAM,kBAAM,EAAK03B,mBAAmBv2B,EAASmE,WAInDiK,cAAc,EACdS,MAAOA,GAnCF7O,EAASmE,QALpB,IAAK,IAAIgC,KAAOM,EAAO,EAAdN,GA6CT,OACE,mCACE,sBACE6I,MAAK,aACHhS,MAAO,OACPE,OAAQqI,KAAKR,MAAM8xB,WAAa,OAAS,KACzCvnB,QAAS/J,KAAKR,MAAM8xB,WAAa,EAAI,GAClCX,GAAkB9a,OALzB,UAQE,sBAAKpM,MAAOknB,GAAkBnpB,UAA9B,UACE,qBAAKiC,MAAOknB,GAAkBhjB,MAA9B,0BACA,qBACElE,MAAK,2BACAknB,GAAkBC,cADlB,IAEHn5B,MACEyb,KAAKC,MAA+B,GAAxBnT,KAAKR,MAAM4T,KAAK3b,OAAgB,IAAM6R,KAC/C,IAAMA,GACT,OANN,SASG6nB,OAGL,qBACE1nB,MAAOknB,GAAkBE,QACzB/nB,QAAS9I,KAAKR,MAAM4Z,kBAFtB,SAIE,cAACf,GAAA,EAAD,CAAe5O,MAAO,CAAEhC,MAAO,QAASU,SAAU,QAEnDnI,KAAKrC,MAAMiS,SACV,cAAC,GAAD,CACE9Y,IAAKkJ,KAAKrC,MAAMkS,cAAcoB,EAC9Bla,KAAMiJ,KAAKrC,MAAMkS,cAAcmB,EAC/B1F,QAAStL,KAAKrC,MAAMmS,wB,GAvILrE,IAAMC,WCNtB2f,GAAc,CACzBpzB,OAAQ,CACNqzB,UAAW,OACXp0B,eAAgB,UAChBC,WAAY,cAEd0e,MAAO,CACLjf,QAAS,OACTwR,KAAM,EACN9Q,cAAe,SACfJ,eAAgB,aAChBC,WAAY,UACZyQ,QAAS,MACTW,QAAS,QAEXgpB,UAAW,CACThpB,QAAS,OACTC,OAAQ,OACR/Q,MAAO,OACPwQ,OAAQ,IACRqY,OAAQ,QAEVkR,QAAS,CACP56B,QAAS,OACTU,cAAe,SACfJ,eAAgB,aAChBC,WAAY,UACZ8oB,YAAa,MACbwR,aAAc,EACdh6B,MAAO,GACPyoB,YAAa,QACbC,YAAa,SAEfwL,WAAY,CACV/0B,QAAS,OACTM,eAAgB,WAChBC,WAAY,SACZs6B,aAAc,EACd3T,WAAY,QACZrW,MAAO,SAETiqB,UAAW,CACT/5B,OAAQ,GACRf,QAAS,OACTM,eAAgB,aAChBC,WAAY,WCoHDw6B,G,kDA3Jb,WAAYnyB,GAAQ,IAAD,8BACjB,cAAMA,IACD7B,MAAQ,CACXi0B,OAAQpyB,EAAMoyB,OACdn6B,MAAO+H,EAAM7H,OACbA,OAAQ6H,EAAM/H,MACdk0B,WAAY,GAEd,EAAKkG,aAAe,EAAKA,aAAajsB,KAAlB,gBACpB,EAAKksB,eAAiB,EAAKA,eAAelsB,KAApB,gBACtB,EAAKiQ,MAAQpK,IAAMsmB,YAVF,E,gEAaE,IAAD,OACZlc,EAAQ7V,KAAK6V,MAAMxB,QACzB,GAAIwB,EAAO,CACT,IAAMmc,EAAYnc,EAAMoc,aAClBC,EAAa1a,SAAS3B,EAAMpM,MAAMyoB,YACxCrc,EAAMkL,UAAY/gB,KAAKR,MAAMqB,MAC7BgV,EAAMtE,iBAAiB,WAAW,SAAC1H,GACjC,GAAIA,EAAEwe,QAKJ,OAJgB,KAAZxe,EAAEye,QACJze,EAAEoE,iBACF,EAAKzO,MAAM+oB,aAEN,KAGXvoB,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZguB,WAAYqG,EAAYE,YAG1BlyB,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZguB,WAAY,S,mCAKL9zB,EAAGs6B,GAAI,IAAD,OACXtc,EAAQ7V,KAAK6V,MAAMxB,QACrBwB,IACFA,EAAMkL,UAAY/gB,KAAKR,MAAMqB,MAC7BgV,EAAMtE,iBAAiB,WAAW,SAAC1H,GACjC,GAAIA,EAAEwe,QAKJ,OAJgB,KAAZxe,EAAEye,QACJze,EAAEoE,iBACF,EAAKzO,MAAM+oB,aAEN,MAIbvoB,KAAK8xB,mB,uCAIL,IAAMjc,EAAQ7V,KAAK6V,MAAMxB,QACzB,GAAIwB,EAAO,CACT,IAEM8V,EAFY9V,EAAMoc,cACLza,SAAS3B,EAAMpM,MAAMyoB,YAAc,KAEtDlyB,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZguB,uBAGF3rB,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZguB,WAAY,S,+BAQhB,IAHQ,IAAD,OACDiG,EAAS5xB,KAAKR,MAAMoyB,OACpBhJ,EAAc,GACXlP,EAAI,EAAGA,EAAI1Z,KAAKrC,MAAMguB,WAAYjS,IACzCkP,EAAY9lB,KACV,qBACE2G,MAAK,2BACA4hB,GAAYM,YADZ,IAEHh0B,OAAQ6f,SAASoa,EAAOM,YAAc,MAH1C,SAOGvO,OAAOjK,EAAI,IAFPiK,OAAOjK,KAKlB,OACE,cAAC,GAAD,CACElf,GAAIwF,KAAKR,MAAMhF,GAAK,UACpB1D,IAAK,EACLC,KAAM,EACN2D,KACEsF,KAAKR,MAAM9E,MACTsF,KAAKR,MAAMuvB,SAET/uB,KAAKR,MAAMsG,MACX,UACA,UAHA,iBAKNgD,QAAS9I,KAAKR,MAAM0K,QACpBwN,SAAU1X,KAAKR,MAAMkZ,YACrBtC,SAAUpW,KAAK6xB,aAdjB,SAgBE,sBACEpoB,MAAK,uCACA/S,EAAOW,KACPg0B,GAAYpzB,QAFZ,IAGHN,OAAQqI,KAAKrC,MAAMhG,OACnBF,MAAOuI,KAAKrC,MAAMlG,MAClBqmB,WAAY8T,EAAOQ,WACnB3qB,MAAOmqB,EAAOxT,YAPlB,UAUE,qBACE3U,MAAK,2BACA4hB,GAAYmG,SADZ,IAEH1T,WAAY8T,EAAOQ,WACnB/pB,WAAYupB,EAAOvpB,WACnBF,SAAUypB,EAAOzpB,WALrB,SAQGygB,IAGH,qBACEjT,IAAK,SAAC0c,GACJ,EAAKxc,MAAMxB,QAAUge,GAEvB73B,GAAIwF,KAAKR,MAAMhF,GAAK,eACpBiP,MAAK,2BACA4hB,GAAYxV,OADZ,IAEHiI,WAAY8T,EAAOQ,WACnB3qB,MAAOmqB,EAAOxT,UACd8T,WAAYN,EAAOM,WACnB7pB,WAAYupB,EAAOvpB,WACnBF,SAAUypB,EAAOzpB,WAEnBkC,YAAY,EACZgX,QAAS,SAACxX,GACR,EAAKioB,iBACL,EAAKtyB,MAAM8yB,aAAazoB,IAE1BuX,gBAAiBphB,KAAKR,MAAMuvB,WAE9B,qBAAKtlB,MAAO4hB,GAAYqG,qB,GArJTjmB,IAAMC,WCahB6mB,GAfG,SAAC,GAAgD,IAA9C3zB,EAA6C,EAA7CA,KAAMlE,EAAuC,EAAvCA,KAAMmD,EAAiC,EAAjCA,KAAM6a,EAA2B,EAA3BA,YAAaxO,EAAc,EAAdA,QAClD,OACE,cAAC,GAAD,CACE1P,GAAIoE,EACJ9H,IAAK,EACLC,KAAM,EACN2D,KAAMA,EACNgd,SAAUgB,EACV5P,QAASoB,EANX,SAQE,cAAC,GAAD,CAAS1P,GAAIoE,EAAMnH,MAAO,OAAQE,OAAQ,OAAQkG,KAAMA,OCU/C20B,GAnBC,SAAC,GAAyD,IAAvDh4B,EAAsD,EAAtDA,GAAIwH,EAAkD,EAAlDA,IAAK0W,EAA6C,EAA7CA,YAAa+Z,EAAgC,EAAhCA,iBAAkBvoB,EAAc,EAAdA,QAKzD,OAJAkD,qBAAU,WAER,OADAnV,OAAOsZ,iBAAiB,UAAWkhB,GAC5B,kBAAMx6B,OAAO8Y,oBAAoB,UAAW0hB,MAClD,CAACzwB,IAEF,cAAC,GAAD,CACExH,GAAIwH,EAAIK,UACRvL,IAAK,EACLC,KAAM,EACN2D,KAAMsH,EAAII,UACV0G,QAASoB,EACTwN,SAAUgB,EANZ,SAQE,cAAC,GAAD,CAASle,GAAIA,EAAI/C,MAAO,OAAQE,OAAQ,OAAQkG,KAAMmE,EAAI1C,eClBjD,OAA0B,kCCA1B,OAA0B,iCCA1B,OAA0B,iCCA1B,OAA0B,iCCknB1BozB,G,kDA5lBb,WAAYlzB,GAAQ,IAAD,8BACjB,cAAMA,IACD7B,MAAQ,CACXg1B,eAAgB,KAChBl7B,MAAOQ,OAAOyc,WACd/c,OAAQM,OAAO2c,YACfge,cAAe,GACfC,eAAgB,GAChBnG,aAAc,GACdoG,WAAY,GACZC,YAAa,GACbC,gBAAiB,GACjBC,YAAa,GACbC,eAAe,EACfjO,gBAAiB,GAEnB,EAAKL,YAAc,CAACuO,GAAOC,GAAMC,GAAMC,IACvC,EAAKzhB,kBAAoB,EAAKA,kBAAkBjM,KAAvB,gBACzB,EAAK2tB,iBAAmB,EAAKA,iBAAiB3tB,KAAtB,gBACxB,EAAKkM,WAAa,EAAKA,WAAWlM,KAAhB,gBAClB,EAAK8S,YAAc,EAAKA,YAAY9S,KAAjB,gBACnB,EAAKmM,eAAiB,EAAKA,eAAenM,KAApB,gBACtB,EAAKwT,kBAAoB,EAAKA,kBAAkBxT,KAAvB,gBACzB,EAAK4tB,kBAAoB,EAAKA,kBAAkB5tB,KAAvB,gBACzB,EAAK6tB,iBAAmB,EAAKA,iBAAiB7tB,KAAtB,gBACxB,EAAK8tB,mBAAqB,EAAKA,mBAAmB9tB,KAAxB,gBAC1B,EAAK+tB,qBAAuB,EAAKA,qBAAqB/tB,KAA1B,gBAC5B,EAAKguB,gBAAkB,EAAKA,gBAAgBhuB,KAArB,gBACvB,EAAKiuB,gBAAkB,EAAKA,gBAAgBjuB,KAArB,gBACvB,EAAKkuB,oBAAsB,EAAKA,oBAAoBluB,KAAzB,gBAC3B,EAAKwL,eAAiB,EAAKA,eAAexL,KAApB,gBACtB,EAAKyL,iBAAmB,EAAKA,iBAAiBzL,KAAtB,gBACxB,EAAKwrB,cAAgB,EAAKA,cAAcxrB,KAAnB,gBACrB,EAAKyrB,cAAgB,EAAKA,cAAczrB,KAAnB,gBACrB,EAAKgM,kBAAoB,EAAKA,kBAAkBhM,KAAvB,gBACzB,EAAKmuB,gBAAkB,EAAKA,gBAAgBnuB,KAArB,gBACvB,EAAKouB,gBAAkB,EAAKA,gBAAgBpuB,KAArB,gBACvB,EAAKgT,iBAAmB,EAAKA,iBAAiBhT,KAAtB,gBACxB,EAAK+S,mBAAqB,EAAKA,mBAAmB/S,KAAxB,gBAC1B,EAAKquB,oBAAsB,EAAKA,oBAAoBruB,KAAzB,gBAC3B,EAAKiT,gBAAkB,EAAKA,gBAAgBjT,KAArB,gBACvB,EAAK0sB,aAAe,EAAKA,aAAa1sB,KAAlB,gBAzCH,E,gEA4CE,IAAD,OACZM,EAAalG,KAAKR,MAAM0G,WAC9BjO,OAAOsZ,iBAAiB,SAAUvR,KAAKuzB,kBACnCrtB,EAAWif,kBACbnlB,KAAKgb,MAAQa,aACX,kBACE,EAAKrc,MAAM2c,iBAAiB,CAC1B8I,gBACE/e,EAAW+e,kBAAoB,EAAKL,YAAYvqB,OAAS,EACrD,EACA6L,EAAW+e,gBAAkB,MAEvC/e,EAAWof,gBAA+C,IAA7Bpf,EAAWof,gBAAyB,KAGnEtlB,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZsnB,gBAAiB/e,EAAW+e,gBACxB/e,EAAW+e,gBACX,S,6CAMRnJ,cAAc9b,KAAKgb,OACnB/iB,OAAO8Y,oBAAoB,SAAU/Q,KAAKuzB,oB,yCAGzBW,GAAY,IAAD,OACtBhuB,EAAalG,KAAKR,MAAM0G,WAC1BA,EAAW+e,kBAAoBiP,EAAUhuB,WAAW+e,kBACtDjlB,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZsnB,gBAAiB/e,EAAW+e,gBACxB/e,EAAW+e,gBACX,OAENnJ,cAAc9b,KAAKgb,OACf9U,EAAWif,oBACbnlB,KAAKgb,MAAQa,aACX,kBACE,EAAKrc,MAAM2c,iBAAiB,CAC1B8I,gBACE/e,EAAW+e,kBAAoB,EAAKL,YAAYvqB,OAAS,EACrD,EACA6L,EAAW+e,gBAAkB,MAEvC/e,EAAWof,gBAA+C,IAA7Bpf,EAAWof,gBAAyB,OAKrEpf,EAAWif,oBAAsB+O,EAAUhuB,WAAWif,mBACtDjf,EAAWof,kBAAoB4O,EAAUhuB,WAAWof,kBAEpDxJ,cAAc9b,KAAKgb,OACf9U,EAAWif,oBACbnlB,KAAKgb,MAAQa,aACX,kBACE,EAAKrc,MAAM2c,iBAAiB,CAC1B8I,gBACE/e,EAAW+e,kBAAoB,EAAKL,YAAYvqB,OAAS,EACrD,EACA6L,EAAW+e,gBAAkB,MAEvC/e,EAAWof,gBAA+C,IAA7Bpf,EAAWof,gBAAyB,S,yCAOvEtlB,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZlG,MAAOQ,OAAOyc,WACd/c,OAAQM,OAAO2c,mB,qCAIJhW,GACboB,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZs1B,YAAar0B,S,wCAICA,GAChBoB,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZg1B,eAAgB/zB,S,kCAIRsI,GACV,IAAMN,EAAU5G,KAAKrC,MAAMi1B,cAC3BhsB,EAAQO,OAAOD,EAAO,GACtBlH,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZi1B,cAAehsB,S,iCAIR5F,GACT,IAAM4F,EAAU5G,KAAKrC,MAAMi1B,cAC3BhsB,EAAQ9D,KAAK9B,GACbhB,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZi1B,cAAehsB,S,0CAKjB5G,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZu1B,eAAgBv1B,EAAMu1B,qB,wCAIRt0B,EAAMyuB,GACtB,IAAMluB,EAAaa,KAAKR,MAAML,WACxB0W,EAAQR,SAASiY,eAAe1uB,EAAO,YAC7C,GAAqB,SAAjByuB,EAAQ9xB,KACVtC,QAAQC,IAAI,OAAQ0F,EAAMyuB,EAAQE,cAC7B,GAAqB,SAAjBF,EAAQ9xB,KACjBtC,QAAQC,IAAI,OAAQ0F,EAAMyuB,EAAQzsB,IAAKysB,EAAQxsB,OAC/C1B,EAAWg1B,cAAcv1B,EAAMyuB,EAAQzsB,IAAKysB,EAAQxsB,YAC/C,GAAqB,QAAjBwsB,EAAQ9xB,KAAgB,CACjCtC,QAAQC,IAAI,MAAO0F,EAAMyuB,EAAQzsB,KACjC,IAAMC,EAAQ1B,EAAWi1B,cAAcx1B,EAAMyuB,EAAQzsB,KACrDiV,EAAM2X,cAAcC,YAApB,2BAAqCJ,GAArC,IAA8C9vB,SAAUsD,KACxD5H,QAAQC,IAAI2H,M,qCAIDjC,GAAO,IAAD,gBACDoB,KAAKrC,MAAM+uB,cADV,IACnB,2BAA2C,CACzC,GADyC,QAC/BjyB,SAASmE,OAASA,EAAM,QAFjB,8BAInB,IAAM4C,EAAOxB,KAAKR,MAAML,WAAWE,QAAQT,GAC3CoB,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZ+uB,aAAa,GAAD,oBACP/uB,EAAM+uB,cADC,CAEV,CAAEjyB,SAAU+G,EAAKiC,cAAe5C,MAAOW,EAAKlC,UAAWwG,OAAO,Y,uCAKnDlH,GAAO,IAAD,gBACHoB,KAAKrC,MAAMk1B,gBADR,IACrB,2BAA6C,CAC3C,GAD2C,QACjCp4B,SAASmE,OAASA,EAAM,QAFf,8BAIrB,IAAM4C,EAAOxB,KAAKR,MAAML,WAAWE,QAAQT,GAC3CoB,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZk1B,eAAe,GAAD,oBACTl1B,EAAMk1B,gBADG,CAEZ,CAAEp4B,SAAU+G,EAAKiC,cAAe5C,MAAOW,EAAKlC,UAAWwG,OAAO,Y,wCAKlDlH,GAChB,IAAMy1B,EAAMlwB,cACZnE,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZq1B,gBAAgB,GAAD,oBAAMr1B,EAAMq1B,iBAAZ,CAA6B,CAAEp0B,OAAMy1B,gB,mCAI3CxqB,EAAG3C,GACd,IAAMvH,EAAOkK,EAAEC,OAAOiX,UAChB2L,EAAe1sB,KAAKrC,MAAM+uB,aAChCA,EAAaxlB,GAAOrG,MAAQlB,EAC5B+sB,EAAaxlB,GAAOpB,OAAQ,EAC5B9F,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZ+uB,aAAcA,EACd9c,SAAS,S,sCAIG1I,GACd,IAAMwlB,EAAe1sB,KAAKrC,MAAM+uB,aAChCA,EAAaxlB,GAAOpB,OAAQ,EAE5B9F,KAAKR,MAAML,WAAWopB,SACpBmE,EAAaxlB,GAAOzM,SAASmE,KAC7B8tB,EAAaxlB,GAAOrG,OAEtBb,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZ+uB,sB,uCAIaxlB,GACf,IAAMwlB,EAAe1sB,KAAKrC,MAAM+uB,aAC3BA,EAAaxlB,GAAOpB,OAYvB4mB,EAAavlB,OAAOD,EAAO,GAC3BlH,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZ+uB,qBAdaz0B,OAAOy1B,QACpB,kFAGAhB,EAAavlB,OAAOD,EAAO,GAC3BlH,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZ+uB,uB,0CAYYxlB,GAClB,IAAM8rB,EAAkBhzB,KAAKrC,MAAMq1B,gBACnCA,EAAgB7rB,OAAOD,EAAO,GAC9BlH,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZq1B,yB,yCAIe9rB,GACjB,IAAM2rB,EAAiB7yB,KAAKrC,MAAMk1B,eAC5ByB,EAAgBzB,EAAe1rB,OAAOD,EAAO,GACnD2rB,EAAe/vB,KAAf,MAAA+vB,EAAc,aAASyB,IACvBt0B,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZk1B,wB,uCAIa3rB,GACf,IAAMwlB,EAAe1sB,KAAKrC,MAAM+uB,aAC1B6H,EAAc7H,EAAavlB,OAAOD,EAAO,GAC/CwlB,EAAa5pB,KAAb,MAAA4pB,EAAY,aAAS6H,IACrBv0B,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZ+uB,sB,sCAIYxlB,GACd,IAAM4rB,EAAa9yB,KAAKrC,MAAMm1B,WACxB0B,EAAW1B,EAAW3rB,OAAOD,EAAO,GAC1C4rB,EAAWhwB,KAAX,MAAAgwB,EAAU,aAAS0B,IACnBx0B,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZm1B,oB,sCAIY5rB,GACd,IAAM6rB,EAAc/yB,KAAKrC,MAAMo1B,YACzB0B,EAAa1B,EAAY5rB,OAAOD,EAAO,GAC7C6rB,EAAYjwB,KAAZ,MAAAiwB,EAAW,aAAS0B,IACpBz0B,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZo1B,qB,2CAIiB7rB,GACnB,IAAM0rB,EAAgB5yB,KAAKrC,MAAMi1B,cAC3B8B,EAAe9B,EAAczrB,OAAOD,EAAO,GACjD0rB,EAAc9vB,KAAd,MAAA8vB,EAAa,aAAS8B,IACtB10B,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZi1B,uB,0CAIgB1rB,GAClB,IAAM8rB,EAAkBhzB,KAAKrC,MAAMq1B,gBAC7B2B,EAAiB3B,EAAgB7rB,OAAOD,EAAO,GACrD8rB,EAAgBlwB,KAAhB,MAAAkwB,EAAe,aAAS2B,IACxB30B,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZq1B,yB,yCAIe9rB,GACjB,IAAM2rB,EAAiB7yB,KAAKrC,MAAMk1B,eAC7BA,EAAe3rB,GAAOpB,OAYzB+sB,EAAe1rB,OAAOD,EAAO,GAC7BlH,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZk1B,uBAda56B,OAAOy1B,QACpB,kFAGAmF,EAAe1rB,OAAOD,EAAO,GAC7BlH,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZk1B,yB,oCAYMj0B,GAAO,IAAD,gBACAoB,KAAKrC,MAAMm1B,YADX,IAClB,2BAAyC,CACvC,GADuC,QAC7Br4B,SAASmE,OAASA,EAAM,QAFlB,8BAIlB,IAAMoD,EAAMhC,KAAKR,MAAML,WAAWy1B,OAAOh2B,GACzCoB,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZm1B,WAAW,GAAD,oBACLn1B,EAAMm1B,YADD,CAER,CAAEr4B,SAAUuH,EAAIyB,cAAe5C,MAAOmB,EAAI1C,UAAWwG,OAAO,Y,oCAKpD9D,GACZ,IAAM+wB,EAAc/yB,KAAKrC,MAAMo1B,YAC/BA,EAAYjwB,KAAKd,GACjBhC,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZo1B,qB,sCAIY7rB,GACd,IAAM6rB,EAAc/yB,KAAKrC,MAAMo1B,YAC/BA,EAAY5rB,OAAOD,EAAO,GAC1BlH,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZo1B,qB,sCAIY7rB,GACd,IAAM4rB,EAAa9yB,KAAKrC,MAAMm1B,WACzBA,EAAW5rB,GAAOpB,OAYrBgtB,EAAW3rB,OAAOD,EAAO,GACzBlH,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZm1B,mBAda76B,OAAOy1B,QACpB,kFAGAoF,EAAW3rB,OAAOD,EAAO,GACzBlH,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZm1B,qB,+BAYE,IAAD,OACD3zB,EAAaa,KAAKR,MAAML,WACxB4uB,EAAY/tB,KAAKR,MAAMuuB,UACvB8G,EAAsB70B,KAAKrC,MAAMi1B,cAAcrnB,KAAI,SAACvK,EAAMkG,GAAP,OACvD,cAAC,GAAD,CAEE/H,WAAY,EAAKK,MAAML,WACvB0S,kBAAmB,EAAKA,kBACxBE,eAAgB,EAAKA,eACrBX,eAAgB,EAAKA,eACrBC,iBAAkB,EAAKA,iBACvBsH,mBAAoB,EAAKA,mBACzBC,iBAAkB,EAAKA,iBACvBC,gBAAiB,EAAKA,gBACtB7X,KAAMA,EACNxG,GAAIwG,EACJkJ,QAAS,kBAAM,EAAKypB,qBAAqBzsB,IACzCxM,KAAMyE,EAAW4F,aAAa/D,GAAMoB,UACpCsW,YAAa,kBAAM,EAAKA,YAAYxR,IACpC4K,WAAY,EAAKA,WACjB5L,WAAY,EAAK1G,MAAM0G,YAflBlF,MAkBH8zB,EAAa90B,KAAKrC,MAAMm1B,WAAWvnB,KAAI,SAACd,EAAOvD,GAAR,OAC3C,cAAC,GAAD,CAEE1M,GAAIiQ,EAAMhQ,SAASmE,KACnBgzB,OAAQ,CACNQ,WAAY1qB,IAAYoO,gBACxBsI,UAAW1W,IAAYqtB,gBACvB7C,WAAY,OACZ7pB,WAAY,SACZF,SAAU,IAEZ+B,QAAS,kBAAM,EAAK0pB,gBAAgB1sB,IACpCxM,KAAM+P,EAAMhQ,SAASC,KACrBmG,MAAO4J,EAAM5J,MACbiF,MAAO2E,EAAM3E,MACb4S,YAAa,kBAAM,EAAKqb,gBAAgB7sB,IACxCvP,OAAQ,OACRF,MAAO,QAfFgT,EAAMhQ,SAASmE,SAkBlBo2B,EAAch1B,KAAKrC,MAAM+uB,aAAanhB,KAAI,SAACd,EAAOvD,GAAR,OAC9C,cAAC,GAAD,CAEE1M,GAAIiQ,EAAMhQ,SAASmE,KACnBgzB,OAAQ,CACNQ,WAAY1qB,IAAYoO,gBACxBsI,UAAW1W,IAAYqtB,gBACvB7C,WAAY,OACZ7pB,WAAY,SACZF,SAAU,IAEZzN,KAAM+P,EAAMhQ,SAASC,KACrBmG,MAAO4J,EAAM5J,MACbiF,MAAO2E,EAAM3E,MACbwsB,aAAc,SAACzoB,GAAD,OAAO,EAAKyoB,aAAazoB,EAAG3C,IAC1CwR,YAAa,kBAAM,EAAKE,iBAAiB1R,IACzCgD,QAAS,kBAAM,EAAKupB,iBAAiBvsB,IACrCqhB,SAAU,kBAAM,EAAK1P,gBAAgB3R,IACrC6nB,UAAU,EACVp3B,OAAQ,OACRF,MAAO,QAlBFgT,EAAMhQ,SAASmE,SAqBlBq2B,EAAej1B,KAAKrC,MAAMk1B,eAAetnB,KAAI,SAACd,EAAOvD,GAAR,OACjD,cAAC,GAAD,CAEExM,KAAM+P,EAAMhQ,SAASC,KACrBkE,KAAM6L,EAAMhQ,SAASmE,KACrBf,KAAM4M,EAAM5J,MACZqJ,QAAS,kBAAM,EAAKwpB,mBAAmBxsB,IACvCwR,YAAa,kBAAM,EAAKC,mBAAmBzR,KALtCuD,EAAMhQ,SAASmE,SAQlBs2B,EAAal1B,KAAKrC,MAAMo1B,YAAYxnB,KAAI,SAACd,EAAOvD,GAAR,OAC5C,cAAC,GAAD,CAEElF,IAAKyI,EACLjQ,GAAIiQ,EAAMpI,UAAY,WACtBqW,YAAa,kBAAM,EAAKsb,gBAAgB9sB,IACxCgD,QAAS,kBAAM,EAAK2pB,gBAAgB3sB,IACpCurB,iBAAkB,SAAC0C,GAAD,OAChB,EAAK3B,kBAAkB/oB,EAAMpI,UAAW8yB,EAAIt3B,QANzC4M,EAAMpI,cAUT+yB,EAAiBp1B,KAAKrC,MAAMq1B,gBAAgBznB,KAAI,SAACd,EAAOvD,GAAR,OACpD,cAAC,GAAD,CACE1M,GAAI,iBAEJ1D,IAAK,EACLC,KAAM,EACN2D,KAAM,UACNoO,QAAS,kBAAM,EAAKgrB,oBAAoB5sB,IACxCwQ,SAAU,kBAAM,EAAKuc,oBAAoB/sB,IAP3C,SASE,cAAC,GAAD,CACEzP,MAAO,OACPE,OAAQ,OACRi0B,MAAO,CAAC,CAAE/qB,MAAO,KACjB1B,WAAY,EAAKK,MAAML,WACvBmtB,SAAU,EAAK9sB,MAAMuuB,UAAUC,kBAZ5BvjB,EAAM4pB,QAiBf,OACE,sBACE3L,UAAU,UACVjf,MAAK,uCACA/S,EAAOC,qBACPD,EAAOa,QAFP,IAGHuQ,gBAAiBJ,IAAYoO,gBAC7BiP,eAAgB,QAChBC,gBAAgB,OAAD,OACbhlB,KAAK4kB,YAAY5kB,KAAKrC,MAAMsnB,iBADf,OAPnB,UAYE,cAAC,GAAD,CACEwL,WAAYzwB,KAAKR,MAAMpB,YACvBL,SAAUiC,KAAKR,MAAMzB,SACrBgI,eAAgB/F,KAAKR,MAAMuG,iBAE7B,cAAC,GAAD,CACE5G,WAAYA,EACZd,UAAW2B,KAAKR,MAAMnB,UACtBwT,kBAAmB7R,KAAK6R,kBACxBE,eAAgB/R,KAAK+R,eACrB/Q,KAAM,OACNoS,KAAM,CAAE3b,MAAOuI,KAAKrC,MAAMlG,MAAOE,OAAQqI,KAAKrC,MAAMhG,QACpDma,WAAY9R,KAAK8R,WACjBV,eAAgBpR,KAAKoR,eACrBC,iBAAkBrR,KAAKqR,iBACvBO,kBAAmB5R,KAAK4R,kBACxB+G,mBAAoB3Y,KAAK2Y,mBACzBC,iBAAkB5Y,KAAK4Y,iBACvBC,gBAAiB7Y,KAAK6Y,gBACtB3S,WAAYlG,KAAKR,MAAM0G,aAEzB,cAAC,GAAD,CACEkN,KAAM,CAAE3b,MAAOuI,KAAKrC,MAAMlG,MAAOE,OAAQqI,KAAKrC,MAAMhG,QACpDwH,WAAYA,EACZ+G,WAAYlG,KAAKR,MAAM0G,WACvBiW,iBAAkBnc,KAAKR,MAAM2c,iBAC7ByI,YAAa5kB,KAAK4kB,YAClB7mB,SAAUiC,KAAKR,MAAMzB,SACrBM,UAAW2B,KAAKR,MAAMnB,UACtBgoB,SAAU,CACRjN,kBAAmBpZ,KAAKoZ,qBAG3Byb,EACAG,EACAC,EACAH,EACAI,EACAE,EAC2B,KAA3Bp1B,KAAKrC,MAAMs1B,aACV,cAAC,GAAD,CACEr1B,OAAQoC,KAAKR,MAAM5B,OACnBgB,KAAMoB,KAAKrC,MAAMs1B,YACjB50B,UAAW2B,KAAKR,MAAMnB,UACtB3D,KAAM,gBACNyE,WAAYa,KAAKR,MAAML,WACvBR,iBAAkBqB,KAAKR,MAAMb,iBAC7B2wB,eAAgB,kBAAM,EAAKvd,eAAe,OAG7C/R,KAAKrC,MAAMg1B,gBACV,cAAC,GAAD,CACE5E,UAAWA,EACX5uB,WAAYA,EACZuE,YAAa1D,KAAKrC,MAAMg1B,eACxBja,YAAa,kBAAM,EAAK7G,kBAAkB,OAC1C2hB,kBAAmBxzB,KAAKwzB,oBAG5B,cAAC,GAAD,CACElC,WAAYtxB,KAAKrC,MAAMu1B,cACvB9f,KAAM,CAAE3b,MAAOuI,KAAKrC,MAAMlG,MAAOE,OAAQqI,KAAKrC,MAAMhG,QACpDwH,WAAYA,EACZia,kBAAmBpZ,KAAKoZ,kBACxBgY,cAAepxB,KAAKoxB,cACpBC,cAAerxB,KAAKqxB,cACpB2C,gBAAiBh0B,KAAKg0B,gBACtBD,gBAAiB/zB,KAAK+zB,gBACtB7tB,WAAYlG,KAAKR,MAAM0G,oB,GAtlBXuF,IAAMC,WCXf2pB,GAAe,SAACC,GAC3B,IADwC,EAVhBC,EAWpB9M,EAAU,GACV+M,EAAO,GAF6B,cAGxBF,GAHwB,IAGxC,2BAA0B,CAAC,IAAlBG,EAAiB,QACpBC,KAdkBH,EAcFE,GAbdp7B,QAAU,IAEI,MAAXk7B,EAAI,IACNA,EAAII,MAAM,EAAGJ,EAAIl7B,QAWpBq7B,EAAKjN,EAAQ3lB,KAAK4yB,GACjBF,EAAK1yB,KAAK2yB,IANuB,8BAQxC,MAAO,CACLhN,UACA+M,SAISI,GAAc,SAACz3B,GAA2B,IAAnB03B,EAAkB,wDACpD,MAAO,CAAEv7B,OAAO,EAAM6D,SAAQ03B,UAGnBC,GAAgB,SAACX,GAAwB,IAAnBU,EAAkB,wDACnD,MAAO,CAAEv7B,OAAO,EAAO66B,MAAKU,UC1BxBE,GACU,eAAC3yB,EAAD,uDAAQ,GAAR,qBAAuBA,EAAvB,eADV2yB,GAEW,eAACh0B,EAAD,uDAAO,GAAP,0BAA2BA,EAA3B,eAFXg0B,GAGY,eAACpyB,EAAD,uDAAQ,GAAR,0BAA4BA,EAA5B,eAHZoyB,GAIW,eAACL,EAAD,uDAAO,GAAP,uBAAwBA,EAAxB,eAJXK,GAKS,eAACR,EAAD,uDAAO,GAAP,0BAA2BA,EAA3B,oBALTQ,GAMW,iDANXA,GAOc,SAACr7B,GAAD,sBAAmBA,EAAnB,wBAGds7B,GACU,SAACt7B,GAAD,sBAAmBA,EAAnB,cAGVu7B,GAAY,SAACC,EAASC,GAE1B,GADAA,EAAWA,EAASR,QACG,IAAnBO,EAAQ77B,OACV,OAAOu7B,GAAYG,GAAoBG,IAEtB,MAAfA,EAAQ,KACVC,EAAW,CAAC,SAEd,IARuC,EAQjCC,EAAWF,EAAQ9nB,MAAM,KAAKioB,QAAO,SAACxsB,GAAD,MAAa,KAANA,KARX,cASrBusB,GATqB,IASvC,2BAA4B,CAAC,IAApB3rB,EAAmB,QAC1B,GAAc,MAAVA,EAEG,GAAc,OAAVA,EAAgB,CACzB,GAAI0rB,EAAS97B,QAAU,EACrB,OAAOu7B,GAAYG,GAAoBG,IAEvCC,EAASG,WAGXH,EAASrzB,KAAK2H,IAnBqB,8BAsBvC,OAAOqrB,GAAcK,GAAU,IAsM3Bj3B,GAAK,CACTq3B,GAAI,CACFC,KApKoB,SAACC,EAAMC,GAAY,IAAD,IACdrB,GAAaoB,GAA/BhO,EADgC,EAChCA,QAAS+M,EADuB,EACvBA,KACbmB,GAAQ,EACRC,GAAQ,EACR7+B,EAAM,KAJ8B,cAKxB0wB,GALwB,IAKxC,2BAAyB,CAAC,IAAjBiN,EAAgB,QACvB,GAAY,MAARA,EACFiB,GAAQ,MACH,IAAY,MAARjB,EAGT,OAAOE,GAAYG,GAAqBL,IAFxCkB,GAAQ,IAT4B,8BAcxC,GAAoB,IAAhBpB,EAAKn7B,OACP,OAAIu8B,EACKd,GAAc52B,GAAGq3B,GAAGM,MAAM,GAE5BjB,GAAYG,GAAmB,cAExC,GAAIP,EAAKn7B,OAAS,EAChB,OAAOu7B,GAAYG,MAErB,IAAMe,EAAQtB,EAAK,GACfW,EAAWO,EAAOK,UACtB,GAAIH,EACF,OAAOhB,GAAYG,MAGrB,IADAh+B,EAAMk+B,GAAUa,EAAOX,IACf77B,MACN,OAAOs7B,GAAY79B,EAAIoG,QAEzB,IAAM64B,EAAUj/B,EAAIo9B,IAKpB,OAJIwB,IACF5+B,EAvDe,SAACk/B,EAASP,GAC3B,IAAMtzB,EAAO6zB,EAAQtB,QACfx2B,EAAau3B,EAAOQ,gBACpBC,EAAU/zB,EAAKkzB,MACfc,EAAYj4B,EAAWk4B,aAAaj0B,GAC1C,GAAKg0B,EAEE,CACL,IAAME,EAAUn4B,EAAWwR,mBAAmBymB,EAAU/0B,UAAW80B,GAGnE,OAFAT,EAAOa,QAAQN,GACfP,EAAOc,aAAar4B,EAAW4F,aAAauyB,IACrCxB,KALP,OAAOF,GAAYG,GAAqB3yB,EAAKq0B,KAAK,OAiD5CC,CAAWV,EAASN,KAE5B3+B,EArEiB,SAACk/B,EAASP,GAC3B,IAAMtzB,EAAO6zB,EAAQtB,QACf5zB,EAAM20B,EAAOQ,gBAAgBG,aAAaj0B,GAChD,OAAKrB,GAGH20B,EAAOa,QAAQN,GACfP,EAAOc,aAAaz1B,GACb+zB,MAJAF,GAAYG,GAAqBkB,EAAQQ,KAAK,OAiEjDE,CAAWX,EAASN,IAClBp8B,MACCs7B,GAAY79B,EAAIoG,QAEhB23B,GACL,CAAC,eAAgB,iBAAmBkB,EAAQS,KAAK,OACjD,IA2HFZ,KAAM,CACJ,yBACA,cACA,sCACA,2BAGJe,GAAI,CACFpB,KAvEkB,SAACC,EAAMC,GAAY,IAAD,IACZrB,GAAaoB,GAA/BhO,EAD8B,EAC9BA,QAAS+M,EADqB,EACrBA,KACbqC,GAAQ,EACR9/B,EAAM,KACJo+B,EAAWO,EAAOK,UAClB73B,EAAKw3B,EAAOQ,gBALoB,cAMtBzO,GANsB,IAMtC,2BAAyB,CAAC,IAAjBiN,EAAgB,QACvB,GAAY,MAARA,EAGF,OAAOE,GAAYG,GAAqBL,IAFxCmC,GAAQ,GAR0B,8BActC,IAAIz3B,EAAW,GACf,GAAoB,IAAhBo1B,EAAKn7B,OAAc,CACrB,IAAM0H,EAAM7C,EAAGm4B,aAAalB,GAC5B,IAAKp0B,EACH,OAAO6zB,GAAYG,GAAqBI,EAASsB,KAAK,OAExDr3B,EAAWlB,EAAG6D,yBAAyBhB,EAAIM,eACtC,IAAImzB,EAAKn7B,OAAS,EACvB,OAAOu7B,GAAYG,MAEnB,IAAMe,EAAQtB,EAAK,GAEnB,IADAz9B,EAAMk+B,GAAUa,EAAOX,IACf77B,MACN,OAAOs7B,GAAY79B,EAAIoG,QAEvB,IAAM64B,EAAUj/B,EAAIo9B,IACdpzB,EAAM7C,EAAGm4B,aAAaL,GAC5B,IAAKj1B,EACH,OAAO6zB,GAAYG,GAAqBiB,EAAQS,KAAK,OAErDr3B,EAAWlB,EAAG6D,yBAAyBhB,EAAIM,WAIjD,OACSyzB,GADL+B,EAEAv3B,OAAO0C,OAAO5C,GAAUmL,KACtB,SAACtI,GAAD,gBACKA,EAAMvI,KADX,YACmBuI,EAAMrE,KADzB,YAEIqE,EAAM1H,OAAS0E,GAAMC,KAAO,OAAS,MAFzC,YAII+C,EAAM1H,OAAS0E,GAAMC,KACjBhB,EAAGG,QAAQ4D,EAAMrE,MAAM0kB,UACvBpkB,EAAG6F,aAAa9B,EAAMrE,MAAMk5B,uBAOtCx3B,OAAO0C,OAAO5C,GAAUmL,KAAI,SAACtI,GAAD,OAAWA,EAAMvI,SAJ7C,IAsBFm8B,KAAM,CACJ,2BACA,cACA,kCAGJkB,GAAI,CACFvB,KAhIe,SAACC,EAAMC,GAAY,IAAD,IACTrB,GAAaoB,GAA/BhO,EAD2B,EAC3BA,QAAS+M,EADkB,EAClBA,KACbwC,GAAQ,EACRjgC,EAAM,KACJmH,EAAKw3B,EAAOQ,gBACZf,EAAWO,EAAOK,UALW,cAMnBtO,GANmB,IAMnC,2BAAyB,CAAC,IAAjBiN,EAAgB,QACvB,GAAY,MAARA,EAGF,OAAOE,GAAYG,GAAqBL,IAFxCsC,GAAQ,GARuB,8BAanC,GAAoB,IAAhBxC,EAAKn7B,OACP,OAAOu7B,GAAYG,GAAmB,SAGxC,IAjBmC,EAiB/BkC,EAAS,GAjBsB,cAkBfzC,GAlBe,IAkBnC,2BAA0B,CAAC,IAAlBU,EAAiB,QAExB,KADAn+B,EAAMk+B,GAAUC,EAASC,IAEvB,OAAOP,GAAY79B,EAAIoG,QAEvB,IAAM64B,EAAUj/B,EAAIo9B,IACdxxB,EAAOzE,EAAGg5B,cAAclB,GAC9B,IAAKrzB,EACH,OAAOiyB,GAAYG,GAAsBiB,EAAQS,KAAK,OAEtD1/B,EAAMmH,EAAG4R,WAAWnN,EAAKrB,YAAaqB,EAAKtB,WACvC21B,GACF94B,EAAG2R,eAAelN,EAAKtB,WAErBtK,EACFkgC,EAAOn1B,KAAKkzB,GAAuBryB,EAAKtB,YAExC41B,EAAOn1B,KAAKizB,GAAwBpyB,EAAKtB,aAnCd,8BAwCnC,OAAOyzB,GAAcmC,GAAQ,IAyF3BpB,KAAM,CACJ,kCACA,cACA,uCAKS33B,MCnQAi5B,GAJL,eACLC,ICwFUC,GAtFb,WAAYl5B,EAAY+G,EAAYC,GAAyC,IAAD,OAAzB7C,EAAyB,uDAAR,OAAQ,yBAQ5Eq0B,WAAa,SAACV,GACZ,IAAM7zB,EAAO6zB,EAAQtB,QACf5zB,EAAM,EAAK5C,WAAWk4B,aAAaj0B,GACzC,OAAKrB,GAGH,EAAKqB,KAAO6zB,EACZ,EAAKqB,UAAYv2B,EACV/D,eAJAP,YAAS,wBAZwD,KAoB5Es5B,QAAU,WACR,OAAO,EAAK3zB,KAAKuyB,SArByD,KAwB5E4B,QAAU,SAACn0B,GACT,EAAKA,KAAOA,EAAKuyB,SAzByD,KA4B5E5wB,aAAe,WACb,OAAO,EAAKuzB,WA7B8D,KAgC5Ed,aAAe,SAACz1B,GACd,EAAKu2B,UAAYv2B,GAjCyD,KAoC5Em1B,cAAgB,WACd,OAAO,EAAK/3B,YArC8D,KAwC5Eu4B,WAAa,SAACT,GACZ,IAAM7zB,EAAO6zB,EAAQtB,QACfwB,EAAU/zB,EAAKkzB,MACfc,EAAY,EAAKj4B,WAAWk4B,aAAaj0B,GAC/C,GAAKg0B,EAEE,CACL,IAAME,EAAU,EAAKn4B,WAAWwR,mBAC9BymB,EAAU/0B,UACV80B,GAIF,OAFA,EAAK/zB,KAAO6zB,EACZ,EAAKqB,UAAY,EAAKn5B,WAAW4F,aAAauyB,GACvCt5B,cARP,OAAOP,YAAS,+BA7CwD,KAyD5EuwB,eAAiB,SAAClG,GAChB,IAAMyQ,EAAOC,YAAS1Q,GAClB2Q,EAAUF,EAAKl1B,QACfq1B,EAAW,GACf,GAAID,KAAWN,GAAM,CACnB,IACMpgC,EADIogC,GAAKM,GACCjC,KAAK+B,EAAM,GAC3B,OAAIxgC,EAAIuC,OACFvC,EAAI89B,MACN99B,EAAIoG,OAAOoN,KAAI,SAAC4pB,GAAD,OAASuD,EAAS51B,KAAT,iBAAwBqyB,OAEhDuD,EAAS51B,KAAT,iBAAwB/K,EAAIoG,SAEvBu6B,IAEH3gC,EAAI89B,MACN99B,EAAIo9B,IAAI5pB,KAAI,SAAC4pB,GAAD,OAASuD,EAAS51B,KAAKqyB,MAEnCuD,EAAS51B,KAAK/K,EAAIo9B,KAEbuD,GAIT,OADAA,EAAS51B,KAAT,0BAAiC21B,EAAjC,gBACOC,GAhFT14B,KAAKb,WAAaA,EAClBa,KAAKkG,WAAaA,EAClBlG,KAAKmG,cAAgBA,EACrBnG,KAAKoD,KAAO,CAAC,QACbpD,KAAKs4B,UAAYn5B,EAAW4F,aAAazB,ICD3CoC,GAKEizB,GALFjzB,eACAG,GAIE8yB,GAJF9yB,eACAlH,GAGEg6B,GAHFh6B,iBACAsH,GAEE0yB,GAFF1yB,cACAE,GACEwyB,GADFxyB,cAqGayyB,G,kDAjGb,WAAYp5B,GAAQ,IAAD,8BACjB,cAAMA,IACD7B,MAAQ,CACXwB,WAAY,KACZ4uB,UAAW,KACX7nB,WAAY,GACZ2yB,cAAe,IAAIlyB,GAAc,IAAI,eACrCb,OAAO,GAET,EAAKH,eAAiB,EAAKA,eAAeC,KAApB,gBACtB,EAAKuW,iBAAmB,EAAKA,iBAAiBvW,KAAtB,gBAVP,E,gEAaE,IAAD,OAClB,GAAI5F,KAAKR,MAAMnB,UAAW,CACxB,IAAMy6B,EAAez9B,KAAKknB,MAAMtqB,OAAO8gC,aAAaC,QAAQ,WACtDC,EAAgB59B,KAAKknB,MAAMtqB,OAAO8gC,aAAaC,QAAQ,YACvD75B,EAAa,IAAIgC,GACrB23B,EACA,CAAC94B,KAAK2F,gBACNjH,MAAMkH,KAAK3N,SAEPiO,EAAa+yB,GAAgC,GACnDj5B,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZwB,aACA+G,aACA6nB,UAAW,IAAIsK,GAAUl5B,EAAY+G,EAAY,EAAKiW,4BAGxDzW,GAAe1F,MACZk5B,MAAK,kBAAMjzB,GAAc,MACzBizB,MAAK,WACJ,EAAKx7B,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZowB,UAAW,IAAIsK,GACb16B,EAAMwB,WACNxB,EAAMuI,WACN,EAAKiW,4B,uCAQf,GAAInc,KAAKR,MAAMnB,UAAW,CACxB,IAAM86B,EAASn5B,KAAKrC,MAAMwB,WAAWyD,gBACrC3K,OAAO8gC,aAAaK,QAAQ,SAAU/9B,KAAKC,UAAU69B,SAErDtzB,GAAe7F,Q,uCAIFnC,GACXmC,KAAKR,MAAMnB,WACb2B,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZuI,WAAW,2BAAMvI,EAAMuI,YAAerI,QAExC5F,OAAO8gC,aAAaK,QAClB,UACA/9B,KAAKC,UAAL,2BAAoB0E,KAAKrC,MAAMuI,YAAerI,MAGhDsI,GAActI,EAAMmC,Q,+BAId,IAAD,OACP,OACE,qBACE0oB,UAAU,OACVjf,MAAK,2BAAO/S,EAAOC,qBAAd,IAAmCmR,gBAAiB,UAF3D,SAIG9H,KAAKrC,MAAMwB,WACV,cAAC,GAAD,CACEvB,OAAQoC,KAAKR,MAAM5B,OACnBG,SAAUiC,KAAKR,MAAMzB,SACrBM,UAAW2B,KAAKR,MAAMnB,UACtB0H,eAAgB/F,KAAKR,MAAMuG,eAC3B5G,WAAYa,KAAKrC,MAAMwB,WACvB4uB,UAAW/tB,KAAKrC,MAAMowB,UACtB8K,cAAe74B,KAAKrC,MAAMk7B,cAC1Bz6B,YAAa4B,KAAKR,MAAMpB,YACxB8H,WAAYlG,KAAKrC,MAAMuI,WACvBiW,iBAAkBnc,KAAKmc,iBACvBxd,iBAAkB,SAACd,GAAD,OAAUc,GAAiBd,EAAM,MAGrD,mC,GA3FS4N,IAAMC,WCdZ2tB,GAAc,CACzB7xB,UAAW,CACTtQ,eAAgB,SAChBC,WAAY,SACZ2Q,gBAAiBJ,IAAYK,kBAE/BuxB,MAAO,CACL1xB,QAAS,GACTC,aAAc,GACdM,SAAU,GACV1Q,MAAO,IACP4Q,WAAY,SACZP,gBAAiBJ,IAAYK,iBAC7BN,MAAOC,IAAYuF,iBACnBrW,QAAS,OACTU,cAAe,UAEjB0wB,MAAO,CACLpxB,QAAS,OACT2iC,UAAW,GACXC,aAAc,EACdtiC,eAAgB,SAChBC,WAAY,SACZ0W,UAAW,UACXvW,cAAe,UAEjB83B,OAAQ,CACNjnB,SAAU,GACVE,WAAY,SACZJ,OAAQ,GACRL,QAAS,GACT1Q,eAAgB,SAChBC,WAAY,SACZuR,UAAW,SACXb,aAAc,GACdC,gBAAiBJ,IAAYK,kBAE/BG,MAAO,CACLC,SAAU,GACVN,aAAc,EACd2xB,aAAc,GACd/hC,MAAO,OACP4Q,WAAY,SACZC,WAAY,gBACZV,QAAS,EACTW,QAAS,OACTC,OAAQ,OACRV,gBAAiBJ,IAAYkE,YAC7BnE,MAAOC,IAAYuF,mBCgIRwsB,GA3KD,SAAC,GAAsD,IAApDn7B,EAAmD,EAAnDA,WAAY3B,EAAuC,EAAvCA,WAAYwB,EAA2B,EAA3BA,OAAQu7B,EAAmB,EAAnBA,aAAmB,EACjCnwB,oBAAS,GADwB,oBAC3DowB,EAD2D,KACjDC,EADiD,OAElCrwB,mBAAS,IAFyB,oBAE3D3M,EAF2D,KAEjDi9B,EAFiD,OAGxCtwB,mBAAS,IAH+B,oBAG3D1M,EAH2D,KAGpDi9B,EAHoD,OAIlCvwB,mBAAS,IAJyB,oBAI3DzM,EAJ2D,KAIjDi9B,EAJiD,OAK5BxwB,oBAAS,GALmB,oBAK3DywB,EAL2D,KAK9CC,EAL8C,KAO5DjiB,EAAY,SAACnO,GACjBA,EAAEC,OAAOL,MAAMM,QAAU,IAGrBkO,EAAc,SAACpO,GACnBA,EAAEC,OAAOL,MAAMM,QAAU,GAG3B,OAAK4vB,EA4FD,qBACElwB,MAAK,2BACA/S,EAAOC,qBACP0iC,GAAY7xB,WAHnB,SAME,sBAAKiC,MAAO4vB,GAAYC,MAAxB,UACE,qBAAK7vB,MAAO4vB,GAAYrR,MAAxB,mBACA,uBACEzsB,KAAK,QACLsF,MAAOhE,EACPuN,SAAU,SAACP,GAAD,OAAOiwB,EAASjwB,EAAEC,OAAOjJ,QACnC4I,MAAO4vB,GAAYnxB,MACnBgyB,aAAa,OAEf,qBAAKzwB,MAAO4vB,GAAYrR,MAAxB,sBACA,uBACEzsB,KAAK,WACLsF,MAAO/D,EACPsN,SAAU,SAACP,GAAD,OAAOkwB,EAAYlwB,EAAEC,OAAOjJ,QACtC4I,MAAO4vB,GAAYnxB,MACnBgyB,aAAa,OAEf,qBACEzwB,MAAO4vB,GAAYjK,OACnBxlB,YAAaoO,EACbhO,WAAYiO,EACZnP,QAAO,sBAAE,sBAAAjR,EAAA,sEAAkByG,EAAWzB,EAAOC,GAApC,mFAJX,qBAQA,qBACE2M,MAAK,2BAAO4vB,GAAYrR,OAAnB,IAA0Btf,UAAW,WAC1CkB,YAAaoO,EACbhO,WAAYiO,EACZnP,QAAS,kBAAM8wB,GAAcD,IAJ/B,SAME,qDAEF,qBACElwB,MAAK,2BAAO4vB,GAAYrR,OAAnB,IAA0Btf,UAAW,WAC1CkB,YAAaoO,EACbhO,WAAYiO,EACZnP,QAAS,WACP4wB,GAAa,IALjB,SAQE,gEAEU,KAAXv7B,GACC,qBACEsL,MAAK,2BACA4vB,GAAYrR,OADZ,IAEHvgB,MAAO,MACPiB,UAAW,WAJf,SAOGvK,SAnJT,qBACEsL,MAAK,2BACA/S,EAAOC,qBACP0iC,GAAY7xB,WAHnB,SAME,sBAAKiC,MAAO4vB,GAAYC,MAAxB,UACE,qBAAK7vB,MAAO4vB,GAAYrR,MAAxB,sBACA,uBACEzsB,KAAK,OACLsF,MAAOjE,EACPwN,SAAU,SAACP,GAAD,OAAOgwB,EAAYhwB,EAAEC,OAAOjJ,QACtC4I,MAAO4vB,GAAYnxB,QAErB,qBAAKuB,MAAO4vB,GAAYrR,MAAxB,mBACA,uBACEzsB,KAAK,QACLsF,MAAOhE,EACPuN,SAAU,SAACP,GAAD,OAAOiwB,EAASjwB,EAAEC,OAAOjJ,QACnC4I,MAAO4vB,GAAYnxB,QAErB,qBAAKuB,MAAO4vB,GAAYrR,MAAxB,sBACA,uBACEzsB,KAAK,WACLsF,MAAO/D,EACPsN,SAAU,SAACP,GAAD,OAAOkwB,EAAYlwB,EAAEC,OAAOjJ,QACtC4I,MAAO4vB,GAAYnxB,QAErB,qBAAKuB,MAAO4vB,GAAYrR,MAAxB,sCACA,qBAAKve,MAAO4vB,GAAYrR,MAAxB,SACE,cAAC,KAAD,CACEpE,WAAY,CACV5b,UAAW,qBAEb6b,OAAQ,CACNlC,OAAQ,CACNmC,KAAM,mBACNC,MAAO,sBAETC,SAAU,CACRF,KAAM,gBACNC,MAAO,kBAGXE,cAAe,GACfC,YAAa,GACbrjB,MAAOm5B,EACP7V,SAAU,SAACtjB,GAAD,OAAWo5B,GAAgBp5B,QAIzC,qBACE4I,MAAO4vB,GAAYjK,OACnBxlB,YAAaoO,EACbhO,WAAYiO,EACZnP,QAAO,sBAAE,sBAAAjR,EAAA,sEACD8E,EACJC,EACAC,EACAC,EACAk9B,EAAcG,IAAUC,IAAMD,IAAUE,KALnC,mFAJX,4BAeA,qBACE5wB,MAAK,2BAAO4vB,GAAYrR,OAAnB,IAA0Btf,UAAW,WAC1CkB,YAAaoO,EACbhO,WAAYiO,EACZnP,QAAS,kBAAM8wB,GAAcD,IAJ/B,SAME,2DAEU,KAAXx7B,GACC,qBACEsL,MAAK,2BACA4vB,GAAYrR,OADZ,IAEHvgB,MAAO,MACPiB,UAAW,WAJf,SAOGvK,U,SCvGTm8B,GAAc,CAClBnyB,SAAU,GACVE,WAAY,SACZJ,OAAQ,GACRJ,aAAc,MACdpQ,MAAO,GACPE,OAAQ,GACRf,QAAS,OACTM,eAAgB,SAChBC,WAAY,SACZsQ,MAAOC,IAAYK,iBACnBC,UAAW,iBAsIEuyB,GApIC,SAAC,GAAe,IAAb9wB,EAAY,EAAZA,MACjB,OACE,sBACEA,MAAK,2BACA/S,EAAOC,qBADP,IAEHmR,gBAAiBJ,IAAYoO,iBAC1BrM,GAJP,UAOE,cAAC,KAAO+wB,IAAR,CACE/wB,MAAK,eAAO6wB,IACZG,QAAS,CACP3yB,gBAAiB,CACf,UACA,UACA,UACA,UACA,UACA,UACA,WAEFwB,MAAO,CAAC,EAAG,IAAK,EAAG,EAAG,EAAG,EAAG,GAC5BoxB,OAAQ,CAAC,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,MAEtChtB,WAAY,CACVnS,KAAM,SACNo/B,SAAU,EACVC,OAAQC,IACRC,YAAa,GAnBjB,eAwBA,cAAC,KAAON,IAAR,CACE/wB,MAAK,eAAO6wB,IACZG,QAAS,CACP3yB,gBAAiB,CACf,UACA,UACA,UACA,UACA,UACA,UACA,WAEFwB,MAAO,CAAC,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,GAC5BoxB,OAAQ,CAAC,EAAG,IAAK,IAAK,IAAK,IAAK,IAAK,MAEvChtB,WAAY,CACVnS,KAAM,SACNo/B,SAAU,EACVC,OAAQC,IACRC,YAAa,GAnBjB,eAwBA,cAAC,KAAON,IAAR,CACE/wB,MAAK,eAAO6wB,IACZG,QAAS,CACP3yB,gBAAiB,CACf,UACA,UACA,UACA,UACA,UACA,UACA,WAEFwB,MAAO,CAAC,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,GAC5BoxB,OAAQ,CAAC,EAAG,IAAK,IAAK,IAAK,IAAK,IAAK,OAEvChtB,WAAY,CACVnS,KAAM,SACNo/B,SAAU,EACVC,OAAQC,IACRC,YAAa,GAnBjB,eAwBA,cAAC,KAAON,IAAR,CACE/wB,MAAK,eAAO6wB,IACZG,QAAS,CACP3yB,gBAAiB,CACf,UACA,UACA,UACA,UACA,UACA,UACA,WAEFwB,MAAO,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,EAAG,GAC5BoxB,OAAQ,CAAC,EAAG,IAAK,IAAK,IAAK,IAAK,IAAK,MAEvChtB,WAAY,CACVnS,KAAM,SACNo/B,SAAU,EACVC,OAAQC,IACRC,YAAa,GAnBjB,eAwBA,cAAC,KAAON,IAAR,CACE/wB,MAAK,eAAO6wB,IACZG,QAAS,CACP3yB,gBAAiB,CACf,UACA,UACA,UACA,UACA,UACA,UACA,WAEFwB,MAAO,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAC5BoxB,OAAQ,CAAC,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,MAEtChtB,WAAY,CACVnS,KAAM,SACNo/B,SAAU,EACVC,OAAQC,IACRC,YAAa,GAnBjB,mB,UChESC,GAvDA,SAAC,GAAQ,gBACtB3tB,qBAAU,WAIR,OAHAnV,OAAOsZ,iBAAiB,YAAaypB,GACrC/iC,OAAOsZ,iBAAiB,YAAa0pB,GACrChjC,OAAOsZ,iBAAiB,UAAW2pB,GAC5B,WACLjjC,OAAO8Y,oBAAoB,YAAaiqB,GACxC/iC,OAAO8Y,oBAAoB,YAAakqB,GACxChjC,OAAO8Y,oBAAoB,UAAWmqB,MAEvC,IAEH,IAAMnvB,EAASiI,mBAETgnB,EAAc,SAACnxB,GAKnB,OAJIkC,EAAOsI,UACTtI,EAAOsI,QAAQ5K,MAAM1S,KAAO8S,EAAE4H,QAAU,KACxC1F,EAAOsI,QAAQ5K,MAAM3S,IAAM+S,EAAE6H,QAAU,OAElC,GAGHupB,EAAkB,SAACpxB,GAIvB,OAHIkC,EAAOsI,UACTtI,EAAOsI,QAAQ5K,MAAM3B,gBAAkB,QAElC,GAGHozB,EAAgB,SAACrxB,GAIrB,OAHIkC,EAAOsI,UACTtI,EAAOsI,QAAQ5K,MAAM3B,gBAAkB,UAElC,GAGT,OACE,qBACE6N,IAAK5J,EACLtC,MAAO,CACL5S,SAAU,WACV0hB,OAAQ,KACR9Q,MAAO,MACP8N,cAAe,OACf5d,OAAQ,EACRF,MAAO,EACPoQ,aAAc,EACdC,gBAAiB,QACjBE,UAAW,gBACXmzB,UAAW,4BCzCXx+B,I,OAAwDg8B,GAAxDh8B,YAAY2B,GAA4Cq6B,GAA5Cr6B,WAAYF,GAAgCu6B,GAAhCv6B,YAAa2H,GAAmB4yB,GAAnB5yB,eA8F9BvF,G,kDA3Fb,WAAYhB,GAAQ,IAAD,8BACjB,cAAMA,IACDnC,KAAO,2BACZ,EAAKM,MAAQ,CACXC,OAAQ,KACRG,SAAU,GACVE,QAAS,GACTm9B,SAAS,EACT/8B,WAAW,GAEb,EAAKnB,eAAiB,EAAKA,eAAe0I,KAApB,gBACtB,EAAKnH,WAAa,EAAKA,WAAWmH,KAAhB,gBAClB,EAAK8zB,aAAe,EAAKA,aAAa9zB,KAAlB,gBAZH,E,2DAeJzH,GACb6B,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZM,QAAQ,2BACHN,EAAMM,SADJ,IAELC,MAAOC,W,iCAKFi9B,GACTp7B,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZy9B,iB,mCAIS/8B,GACX2B,KAAKtC,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZU,mB,0CAKFC,GAAW,KAAM,MAAM,EAAM0B,MAC7B0W,YAAW,kBAAM9e,MAAa,O,+BAGtB,IAAD,OACP,OAAIoI,KAAKrC,MAAMy9B,QAAgB,cAAC,GAAD,IACtBp7B,KAAKrC,MAAMC,QAAUoC,KAAKrC,MAAMU,UAErC,sBAAKoL,MAAO/S,EAAOC,oBAAnB,UACE,cAAC,GAAD,IACA,cAAC,GAAD,CACEiH,OAAQoC,KAAKrC,MAAMC,OACnBG,SAAUiC,KAAKrC,MAAMI,SACrBM,UAAW2B,KAAKrC,MAAMU,UACtB0H,eAAgB,SAACC,GACX,EAAKrI,MAAMU,UACb,EAAKX,UAAS,SAACC,GAAD,mBAAC,eACVA,GADS,IAEZI,SAAUiI,OAGZD,GAAeC,EAAM,IAGzB3I,KAAM2C,KAAK3C,KACXe,YAAa,kBAAMA,GAAY,SAMnC,sBAAKqL,MAAO/S,EAAOC,oBAAnB,UACE,cAAC,GAAD,IACA,cAAC,GAAD,CAAS8S,MAAO,CAAE3B,gBAAiB,cAAenQ,OAAQ,SAC1D,cAAC,GAAD,CACE2G,WAAY,SAACzB,EAAOC,GAAR,IAAkByB,EAAlB,+DACVD,GAAWzB,EAAOC,EAAUyB,EAAS,IAEvC5B,WAAY,SAACC,EAAUC,EAAOC,EAAUC,GAA5B,OACVJ,GAAWC,EAAUC,EAAOC,EAAUC,EAAU,IAElD28B,aAAc15B,KAAK05B,aACnBv7B,OAAQ6B,KAAKrC,MAAMM,QAAQC,MAC3Bm9B,UAAWr7B,KAAKrC,MAAMT,wB,GApFhBuO,IAAMC,WCRxB4vB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFnmB,SAASiY,eAAe,U,+BCR1B,0KAAO,IAAM5lB,EAAc,CACzBof,WAAY,UACZC,eAAgB,UAChBnb,YAAa,UACbnD,gBAAiB,UACjByD,aAAc,UACdvE,iBAAkB,UAClBwY,YAAa,UACbpY,iBAAkB,YAClBkF,iBAAkB,YAClBqL,iBAAkB,UAClBxC,gBAAiB,UACjBif,gBAAiB,UACjB7iB,IAAK,UACLe,MAAO,WACPZ,OAAQ,WAGG8nB,EAAY,CACvBE,IAAK,EACLD,IAAK,EACLqB,IAAK,GAGMltB,EAAY,CACvBE,IAAK,EACLK,IAAK,EACLC,IAAK,EACL2sB,IAAK,EACLhtB,IAAK,EACLE,GAAI,EACJD,IAAK,EACLQ,IAAK,EACLF,IAAK,EACLC,IAAK,EACLV,QAAS,IAGEmtB,EAAS,CACpBC,QAAS,CAAC,MAAO,MAAO,OACxBC,QAAS,CAAC,MAAO,OAAQ,MAAO,MAAO,MAAO,OAC9CC,QAAS,CAAC,MAAO,MAAO,MAAO,OAAQ,OACvCC,QAAS,CAAC,OACVC,QAAS,CAAC,MAAO,MAAO,QACxBC,OAAQ,CAAC,KAAM,MAAO,MACtBC,QAAS,CAAC,MAAO,QACjBC,QAAS,CAAC,MAAO,QACjBC,QAAS,CAAC,MAAO,QACjBC,QAAS,CAAC,MAAO,QACjBC,UAAW,IAGA7jC,EAAY,CACvBC,QAAS,0CACTE,UACE,6E,ymECrDSuL,KAAO,WAClB,MAAO,uCAAuCkT,QAAQ,SAAS,SAAUgb,GACvE,IAAIkK,EAAqB,GAAhBrpB,KAAKspB,SAAiB,EAE/B,OADY,MAANnK,EAAYkK,EAAS,EAAJA,EAAW,GACzBE,SAAS,QAITlyB,QAAU,SAAC4f,EAAK3V,EAAKkoB,GAChC,OAAIvS,EAAI9vB,OAASma,EACR2V,EAAIwS,OAAO,EAAGnoB,EAAMkoB,EAAQriC,QAAUqiC,EAEtCvS,GAIEyS,SAAW,SAAXA,SAAY/+B,MACvB,IACE,OAAOg/B,KAAKh/B,MACZ,MAAOgM,GACP,OAAOA,EAAEwjB,UAIApwB,WAAa,SAACJ,GACzB,MAAO,eAAekuB,KAAKluB,IAGhBM,cAAgB,SAACzC,GAC5B,MAAO,kBAAkBqwB,KAAKrwB,IAASA,EAAKL,QAAU,GAAKK,EAAKL,QAAU,IAG/D+C,cAAgB,SAACN,GAC5B,MACE,kBAAkBiuB,KAAKjuB,IACvBA,EAASzC,QAAU,GACnByC,EAASzC,QAAU,IAIVipB,QAAU,SAACwZ,GAAyB,IAAlBC,EAAiB,uDAAN,EACxC,GAAc,IAAVD,EAAa,MAAO,UAExB,IAAME,EAAI,KACJC,EAAKF,EAAW,EAAI,EAAIA,EACxBG,EAAQ,CAAC,QAAS,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAE5DxjB,EAAIxG,KAAKC,MAAMD,KAAKha,IAAI4jC,GAAS5pB,KAAKha,IAAI8jC,IAEhD,OAAOG,YAAYL,EAAQ5pB,KAAKkqB,IAAIJ,EAAGtjB,IAAI2jB,QAAQJ,IAAO,IAAMC,EAAMxjB,IAG3D1K,aAAe,SAACjU,GAC3B,IAAMqzB,EAAS,IAAIC,WAEnB,OADAD,EAAOE,cAAcvzB,GACd,IAAIjD,SAAQ,SAACy2B,GAClBH,EAAOI,UAAY,WACjBD,EAAQH,EAAOh0B,aAIRugB,WAAa,SAACiF,GACzB,MAAO,CACLgC,KAAMhC,EAAK0d,cACXzb,MAAOjC,EAAK2d,WAAa,EACzBzb,IAAKlC,EAAK4d,UACV1iB,OACE8E,EAAK6d,aAAe,GAAK,IAAM7d,EAAK6d,aAAe7d,EAAK6d,aAC1D7iB,KAAMgF,EAAKP,WAAa,GAAK,IAAMO,EAAKP,WAAaO,EAAKP,WAC1DxE,OACE+E,EAAKN,aAAe,GAAK,IAAMM,EAAKN,aAAeM,EAAKN,eAGjDoe,UAAY,SAAC3iC,GACxB,IAAMqzB,EAAS,IAAIC,WAEnB,OADAD,EAAOuP,mBAAmB5iC,GACnB,IAAIjD,SAAQ,SAACy2B,GAClBH,EAAOI,UAAY,WACjBD,EAAQH,EAAOh0B,aAKRyU,UAAY,SAAC9T,GACxB,IAAMqzB,EAAS,IAAIC,WAEnB,OADAD,EAAOwP,WAAW7iC,GACX,IAAIjD,SAAQ,SAACy2B,GAClBH,EAAOI,UAAY,WACjBD,EAAQH,EAAOh0B,aAKRyjC,kBAAoB,SAAC9iC,GAChC,IAAMqzB,EAAS,IAAIC,WAEnB,OADAD,EAAO0P,kBAAkB/iC,GAClB,IAAIjD,SAAQ,SAACy2B,GAClBH,EAAOI,UAAY,WACjBD,EAAQH,EAAOh0B,aAKR4D,WAAa,SAACH,GACzB,MAAO,CAAEvD,OAAO,EAAOuD,SAGZJ,SAAW,SAACU,GAAsB,IAAd0L,EAAa,uDAAT,KACnC,MAAO,CAAEvP,OAAO,EAAM6D,SAAQ0L,MAGnBrL,MAAQ,SAACu/B,GACpB,OAAO,IAAIjmC,SAAQ,SAACy2B,GAAD,OAAa7X,WAAW6X,EAASwP,OAGzCzvB,YAAc,SAACxO,GAC1B,IAAKA,EACH,OAAOyO,0CAAUE,IAEnB3O,EAAMA,EAAIk+B,cAJwB,oLAKjBrC,0CAAOC,SALU,IAKlC,2BAAiC,CAC/B,GAD+B,UAClB97B,EACX,OAAOyO,0CAAUE,KAPa,kNAUjBktB,0CAAOE,SAVU,IAUlC,2BAAiC,CAC/B,GAD+B,UAClB/7B,EACX,OAAOyO,0CAAUO,KAZa,kNAejB6sB,0CAAOG,SAfU,IAelC,2BAAiC,CAC/B,GAD+B,UAClBh8B,EACX,OAAOyO,0CAAUQ,KAjBa,kNAoBjB4sB,0CAAOI,SApBU,IAoBlC,2BAAiC,CAC/B,GAD+B,UAClBj8B,EACX,OAAOyO,0CAAUmtB,KAtBa,kNAyBjBC,0CAAOK,SAzBU,IAyBlC,2BAAiC,CAC/B,GAD+B,UAClBl8B,EACX,OAAOyO,0CAAUG,KA3Ba,kNA8BjBitB,0CAAOM,QA9BU,IA8BlC,2BAAgC,CAC9B,GAD8B,UACjBn8B,EACX,OAAOyO,0CAAUK,IAhCa,kNAmCjB+sB,0CAAOS,SAnCU,IAmClC,2BAAiC,CAC/B,GAD+B,UAClBt8B,EACX,OAAOyO,0CAAUU,KArCa,kNAwCjB0sB,0CAAOQ,SAxCU,IAwClC,2BAAiC,CAC/B,GAD+B,UAClBr8B,EACX,OAAOyO,0CAAUY,KA1Ca,kNA6CjBwsB,0CAAOU,SA7CU,IA6ClC,2BAAiC,CAC/B,GAD+B,UAClBv8B,EACX,OAAOyO,0CAAUW,KA/Ca,kNAkDjBysB,0CAAOW,WAlDU,IAkDlC,2BAAmC,CACjC,GADiC,UACpBx8B,EACX,OAAOyO,0CAAU0vB,OApDa,kNAuDjBtC,0CAAOO,SAvDU,IAuDlC,2BAAiC,CAC/B,GAD+B,UAClBp8B,EACX,OAAOyO,0CAAUI,KAzDa,8BA4DlC,OAAOJ,0CAAUC,SAGN+V,MAAK,4UAAG,4KAAA1sB,EAAA,sEACD+D,MAAM,wBAAyB,CAC/CC,OAAQ,QAFS,cACb9D,EADa,gBAIAA,EAAI4H,OAJJ,cAIb9B,EAJa,yBAKZA,GALY,2CAAH,qDAQL26B,SAAW,SAAC1Q,GAIvB,IAHA,IAAIpO,EAAI,EACF6e,EAAO,GACT2F,EAAa,GACVxkB,EAAIoO,EAAIztB,QACb,GAAe,MAAXytB,EAAIpO,GAAY,CAElB,IADAA,IACOA,EAAIoO,EAAIztB,QAAqB,MAAXytB,EAAIpO,IAC3BwkB,GAAcpW,EAAIpO,GAClBA,IAEEwkB,EAAW7jC,OAAS,IACtBk+B,EAAKz1B,KAAKo7B,GACVA,EAAa,IAEfxkB,SACK,GAAe,MAAXoO,EAAIpO,IAAyB,SAAXoO,EAAIpO,GAAY,CAC3C,GAAmB,KAAfwkB,EAAmB,CACrBxkB,IACA,SAEEwkB,EAAW7jC,OAAS,IACtBk+B,EAAKz1B,KAAKo7B,GACVA,EAAa,IAEfxkB,SAEAwkB,GAAcpW,EAAIpO,GAClBA,IAOJ,OAJIwkB,EAAW7jC,OAAS,IACtBk+B,EAAKz1B,KAAKo7B,GACVA,EAAa,IAER3F,K","file":"static/js/main.f7c6b8d1.chunk.js","sourcesContent":["import { googleAPI } from \"../../config.js\";\r\n\r\nvar GoogleAuth;\r\n\r\nexport const initDrive = async () => {\r\n  try {\r\n    await new Promise((res, rej) => {\r\n      window.gapi.load(\"client:auth2\", { callback: res, onerror: rej });\r\n    });\r\n    await window.gapi.client.init({\r\n      apiKey: googleAPI.API_KEY,\r\n      client_id: googleAPI.CLIENT_ID,\r\n      scope: \"https://www.googleapis.com/auth/drive.file\",\r\n      discoveryDocs: [\r\n        \"https://www.googleapis.com/discovery/v1/apis/drive/v3/rest\",\r\n      ],\r\n    });\r\n    GoogleAuth = window.gapi.auth2.getAuthInstance();\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n};\r\n\r\nexport const isSignedIn = () => {\r\n  if (!GoogleAuth) return false;\r\n  return GoogleAuth.isSignedIn.get();\r\n};\r\n\r\nexport const listenAuthState = (func) => {\r\n  GoogleAuth.isSignedIn.listen(func);\r\n};\r\n\r\nexport const handleAuth = () => {\r\n  GoogleAuth.signIn();\r\n};\r\n\r\nexport const handleSignOut = () => {\r\n  GoogleAuth.signOut();\r\n};\r\n\r\nexport const checkFolder = async () => {\r\n  try {\r\n    const drive = window.gapi.client.drive;\r\n    const res = await drive.files.list({\r\n      q:\r\n        \"mimeType = 'application/vnd.google-apps.folder' and name = 'WEBOS_FOLDER' and trashed = false\",\r\n      fields: \"files(id, name)\",\r\n      spaces: \"drive\",\r\n    });\r\n    const folders = res.result.files;\r\n    if (folders.length === 1) {\r\n      return { error: false, folderId: folders[0].id };\r\n    } else if (folders.length === 0) {\r\n      const metadata = {\r\n        name: \"WEBOS_FOLDER\",\r\n        mimeType: \"application/vnd.google-apps.folder\",\r\n      };\r\n      const res = await drive.files.create({\r\n        resource: metadata,\r\n        fields: \"id\",\r\n      });\r\n      return { error: false, folderId: res.result.id };\r\n    } else {\r\n      return { error: true };\r\n    }\r\n  } catch (e) {\r\n    console.log(e);\r\n    return { error: true };\r\n  }\r\n};\r\n\r\nexport const createDriveFile = async (folderId, blob) => {\r\n  try {\r\n    const metadata = {\r\n      name: blob.name,\r\n      parents: [folderId],\r\n    };\r\n    let form = new FormData();\r\n    form.append(\r\n      \"metadata\",\r\n      new Blob([JSON.stringify(metadata)], { type: \"application/json\" })\r\n    );\r\n    var accessToken = GoogleAuth.currentUser.get().getAuthResponse(true)\r\n      .access_token;\r\n    form.append(\"file\", blob);\r\n    const res = await fetch(\r\n      \"https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id\",\r\n      {\r\n        method: \"POST\",\r\n        headers: new Headers({ Authorization: \"Bearer \" + accessToken }),\r\n        body: form,\r\n      }\r\n    );\r\n    const result = await res.json();\r\n    return { error: false, fileId: result.id };\r\n  } catch (e) {\r\n    console.log(e);\r\n    return { error: true };\r\n  }\r\n};\r\n\r\nexport const getDriveFile = async (fileId) => {\r\n  try {\r\n    const drive = window.gapi.client.drive;\r\n    await drive.permissions.create({\r\n      fileId: fileId,\r\n      resource: {\r\n        role: \"writer\",\r\n        type: \"anyone\",\r\n      },\r\n    });\r\n    const res = await drive.files.get({\r\n      fileId: fileId,\r\n      fields: \"webViewLink\",\r\n    });\r\n\r\n    return { error: false, fileId, fileUrl: res.result.webViewLink };\r\n  } catch (e) {\r\n    console.log(e);\r\n    return { error: true };\r\n  }\r\n};\r\n\r\nexport const deleteDriveFile = async (fileId) => {\r\n  try {\r\n    const drive = window.gapi.client.drive;\r\n    await drive.files.delete({\r\n      fileId: fileId,\r\n    });\r\n    return { error: false };\r\n  } catch (e) {\r\n    console.log(e);\r\n    return { error: true };\r\n  }\r\n};\r\n","const styles = {\r\n  fullScreenContainer: {\r\n    display: \"flex\",\r\n    position: \"absolute\",\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    overflow: \"hidden\",\r\n  },\r\n  row: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    flexDirection: \"row\",\r\n  },\r\n  column: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    flexDirection: \"column\",\r\n  },\r\n  hfull: {\r\n    width: \"100%\",\r\n  },\r\n  vfull: {\r\n    height: \"100%\",\r\n  },\r\n};\r\n\r\nexport default styles;\r\n","import {\r\n  validEmail,\r\n  validPassword,\r\n  validUserName,\r\n  successRes,\r\n  errorRes,\r\n  sleep,\r\n} from \"../../utils.js\";\r\nimport { handleSignOut } from \"../gapi\";\r\n\r\nexport const signUpUser = async (userName, email, password, userType, self) => {\r\n  if (!validEmail(email)) {\r\n    self.setLoginErrMsg(\"Email is not valid\");\r\n    return;\r\n  }\r\n  if (!validUserName(userName)) {\r\n    self.setLoginErrMsg(\r\n      \"Username should only contain 8-16 alphanumeric characters\"\r\n    );\r\n    return;\r\n  }\r\n  if (!validPassword(password)) {\r\n    self.setLoginErrMsg(\r\n      \"Password should only contain 8-16 alphanumeric characters\"\r\n    );\r\n    return;\r\n  }\r\n  try {\r\n    const response = await fetch(self.host + \"/signUp\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ userName, email, password, userType }),\r\n      credentials: \"include\",\r\n    });\r\n    if (response.status !== 200) {\r\n      return errorRes(\r\n        \"Looks like there was a problem. Status Code: \" + response.status\r\n      );\r\n    }\r\n    const res = await response.json();\r\n    if (!res.error) {\r\n      self.setState((state) => ({\r\n        ...state,\r\n        userId: res.data._id,\r\n        userInfo: res.data,\r\n      }));\r\n      return successRes();\r\n    } else {\r\n      self.setState((state) => ({\r\n        ...state,\r\n        errMsgs: {\r\n          ...state.errMsgs,\r\n          login: res.errMsg,\r\n        },\r\n      }));\r\n      return errorRes(res.errMsg);\r\n    }\r\n  } catch (err) {\r\n    return errorRes(\"Fetch Error\", err);\r\n  }\r\n};\r\n\r\nexport const signOutUser = async (self) => {\r\n  handleSignOut();\r\n  try {\r\n    const response = await fetch(self.host + \"/signOut\", {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      credentials: \"include\",\r\n    });\r\n    if (response.status !== 200) {\r\n      return errorRes(\r\n        \"Looks like there was a problem. Status Code: \" + response.status\r\n      );\r\n    }\r\n    const res = await response.json();\r\n    if (!res.error) {\r\n      self.setState((state) => ({\r\n        ...state,\r\n        userId: null,\r\n        userInfo: {},\r\n      }));\r\n      return successRes();\r\n    } else {\r\n      self.setLoginErrMsg(res.errMsg);\r\n      return errorRes(res.errMsg);\r\n    }\r\n  } catch (err) {\r\n    console.log(err);\r\n    self.setState((state) => ({\r\n      ...state,\r\n      localMode: false,\r\n      userId: null,\r\n    }));\r\n    return errorRes(\"Fetch Error\", err);\r\n  }\r\n};\r\n\r\nexport const signInUser = async (email, password, initial = false, self) => {\r\n  if (!initial) {\r\n    if (!validEmail(email)) {\r\n      self.setLoginErrMsg(\"Email is not valid\");\r\n      return;\r\n    }\r\n    if (!validPassword(password)) {\r\n      self.setLoginErrMsg(\r\n        \"Password should only contain 8-16 alphanumeric characters\"\r\n      );\r\n      return;\r\n    }\r\n  }\r\n  try {\r\n    const response = await fetch(self.host + \"/signIn\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ email, password }),\r\n      credentials: \"include\",\r\n    });\r\n    if (response.status !== 200) {\r\n      console.log(\r\n        \"Looks like there was a problem. Status Code: \" + response.status\r\n      );\r\n      return;\r\n    }\r\n    const res = await response.json();\r\n    if (!res.error) {\r\n      self.setState((state) => ({\r\n        ...state,\r\n        userId: res.data._id,\r\n        userInfo: res.data,\r\n      }));\r\n      await sleep(2000);\r\n      self.setLoading(false);\r\n      return successRes();\r\n    } else {\r\n      if (!initial) self.setLoginErrMsg(res.errMsg);\r\n      else self.setLoading(false);\r\n      return errorRes(res.errMsg);\r\n    }\r\n  } catch (err) {\r\n    console.log(err);\r\n    self.setLoading(false);\r\n    window.alert(\"Server not reachable, switching to local mode\");\r\n    window.alert(\"You data might not be persistent in local mode\");\r\n    self.setState((state) => ({\r\n      ...state,\r\n      localMode: true,\r\n    }));\r\n    return errorRes(\"Fetch Error\", err);\r\n  }\r\n};\r\n","import { successRes, errorRes } from \"../../utils.js\";\r\n\r\nexport const handleInstallApp = async (\r\n  { userId, hash, shareApp, appName, authorName, fileSize, iconUrl },\r\n  self\r\n) => {\r\n  const fs = self.state.fileSystem;\r\n  const raw = fs.getFile(hash).getData();\r\n  fs.installNewApp(appName, raw, iconUrl);\r\n  if (shareApp) {\r\n    try {\r\n      const response = await fetch(self.props.host + \"/createApp\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          appName,\r\n          authorName,\r\n          authorId: userId,\r\n          size: fileSize,\r\n          iconUrl,\r\n          raw,\r\n        }),\r\n      });\r\n      if (response.status !== 200) {\r\n        return errorRes(\r\n          \"Looks like there was a problem. Status Code: \" + response.status\r\n        );\r\n      }\r\n      const res = await response.text();\r\n      return successRes(res);\r\n    } catch (err) {\r\n      return errorRes(\"Fetch Error\", err);\r\n    }\r\n  }\r\n  return successRes();\r\n};\r\n","import { themeColors } from \"../config\";\r\nimport { TYPES } from \"../segments/FileSystem\";\r\n\r\nclass File {\r\n  #data;\r\n  #extra;\r\n  #parent;\r\n  constructor(name, hash, parent, data, ext = null, extra = {}) {\r\n    this.#parent = parent;\r\n    this.metadata = {\r\n      name: name,\r\n      hash: hash,\r\n      size: data.length,\r\n      type: TYPES.FILE,\r\n      ext: ext,\r\n    };\r\n    this.#data = data;\r\n    this.#extra = extra;\r\n  }\r\n\r\n  changeParent(parent) {\r\n    this.#parent = parent;\r\n  }\r\n\r\n  changeName(name) {\r\n    this.metadata.name = name;\r\n  }\r\n\r\n  changeExt(ext) {\r\n    this.metadata.ext = ext;\r\n  }\r\n\r\n  saveData(data) {\r\n    this.#data = data;\r\n    this.metadata.size = data.length;\r\n  }\r\n\r\n  getMetaData() {\r\n    return this.metadata;\r\n  }\r\n\r\n  getExtra() {\r\n    return this.#extra;\r\n  }\r\n\r\n  getType() {\r\n    return this.metadata.type;\r\n  }\r\n\r\n  getName() {\r\n    return this.metadata.name;\r\n  }\r\n\r\n  getExt() {\r\n    return this.metadata.ext;\r\n  }\r\n\r\n  getHash() {\r\n    return this.metadata.hash;\r\n  }\r\n\r\n  getSize() {\r\n    return this.#data.length;\r\n  }\r\n\r\n  getData() {\r\n    return this.#data;\r\n  }\r\n\r\n  getParent() {\r\n    return this.#parent;\r\n  }\r\n\r\n  clone() {\r\n    return new File(\r\n      this.metadata.name,\r\n      this.metadata.hash,\r\n      this.#parent,\r\n      this.#data\r\n    );\r\n  }\r\n}\r\n\r\nexport default File;\r\n","import { TYPES } from \"../segments/FileSystem\";\r\n\r\nclass Directory {\r\n  #parent;\r\n  #children;\r\n\r\n  constructor(name, hash, parent, children) {\r\n    this.#parent = parent;\r\n    this.metadata = { name: name, hash: hash, type: TYPES.DIR };\r\n    this.#children = children;\r\n  }\r\n\r\n  changeParent(parent) {\r\n    this.#parent = parent;\r\n  }\r\n\r\n  changeName(name) {\r\n    this.metadata.name = name;\r\n  }\r\n\r\n  addChild(hash, metadata) {\r\n    this.#children[hash] = metadata;\r\n  }\r\n\r\n  removeChild(hash) {\r\n    delete this.#children[hash];\r\n  }\r\n\r\n  getMetaData() {\r\n    return this.metadata;\r\n  }\r\n\r\n  getType() {\r\n    return this.metadata.type;\r\n  }\r\n\r\n  getName() {\r\n    return this.metadata.name;\r\n  }\r\n\r\n  getHash() {\r\n    return this.metadata.hash;\r\n  }\r\n\r\n  getParent() {\r\n    return this.#parent;\r\n  }\r\n\r\n  getChildren() {\r\n    return this.#children;\r\n  }\r\n\r\n  getChildrenCount() {\r\n    return Object.keys(this.#children).length;\r\n  }\r\n\r\n  getChild(hash) {\r\n    return this.#children[hash];\r\n  }\r\n\r\n  isBin() {\r\n    return this.metadata.hash === \"bin\";\r\n  }\r\n\r\n  isRoot() {\r\n    return this.metadata.hash === \"root\";\r\n  }\r\n\r\n  clone() {\r\n    return new Directory(\r\n      this.metadata.name,\r\n      this.metadata.hash,\r\n      this.#parent,\r\n      this.#children\r\n    );\r\n  }\r\n}\r\n\r\nexport default Directory;\r\n","import { TYPES } from \"../segments/FileSystem\";\r\n\r\nclass App {\r\n  #data;\r\n  #parent;\r\n  #appData;\r\n  constructor(name, hash, parent, data, icon, appData = {}) {\r\n    this.#parent = parent;\r\n    this.metadata = {\r\n      name: name,\r\n      hash: hash,\r\n      size: data.length,\r\n      type: TYPES.APP,\r\n      icon: icon,\r\n    };\r\n    this.#data = data;\r\n    this.#appData = appData;\r\n  }\r\n\r\n  changeParent(parent) {\r\n    this.#parent = parent;\r\n  }\r\n\r\n  changeIcon(icon) {\r\n    this.metadata.icon = icon;\r\n  }\r\n\r\n  changeName(name) {\r\n    this.metadata.name = name;\r\n  }\r\n\r\n  saveData(data) {\r\n    this.#data = data;\r\n    this.metadata.size = data.length;\r\n  }\r\n\r\n  getStorage(key) {\r\n    return this.#appData[key];\r\n  }\r\n\r\n  getAppData() {\r\n    return this.#appData;\r\n  }\r\n\r\n  setStorage(key, value) {\r\n    this.#appData[key] = value;\r\n  }\r\n\r\n  getMetaData() {\r\n    return this.metadata;\r\n  }\r\n\r\n  getIcon() {\r\n    return this.metadata.icon;\r\n  }\r\n\r\n  getType() {\r\n    return this.metadata.type;\r\n  }\r\n\r\n  getName() {\r\n    return this.metadata.name;\r\n  }\r\n\r\n  getHash() {\r\n    return this.metadata.hash;\r\n  }\r\n\r\n  getSize() {\r\n    return this.#data.length;\r\n  }\r\n\r\n  getData() {\r\n    return this.#data;\r\n  }\r\n\r\n  getParent() {\r\n    return this.#parent;\r\n  }\r\n\r\n  clone() {\r\n    return new App(\r\n      this.metadata.name,\r\n      this.metadata.hash,\r\n      this.#parent,\r\n      this.#data,\r\n      this.metadata.icon\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import File from \"../../structures/file\";\r\nimport Directory from \"../../structures/directory\";\r\nimport App from \"../../structures/app\";\r\nimport { UUID } from \"../../utils.js\";\r\nimport { deleteDriveFile } from \"../../api/gapi\";\r\n\r\nexport const TYPES = {\r\n  FILE: 0,\r\n  DIR: 1,\r\n  APP: 2,\r\n};\r\n\r\nexport const defaultRawData = {\r\n  dirs: {\r\n    root: {\r\n      name: \"root\",\r\n      hash: \"root\",\r\n      parent: null,\r\n      children: {},\r\n      type: TYPES.DIR,\r\n    },\r\n    bin: {\r\n      name: \"bin\",\r\n      hash: \"bin\",\r\n      parent: null,\r\n      children: {},\r\n      type: TYPES.DIR,\r\n    },\r\n  },\r\n  files: {},\r\n  apps: {},\r\n};\r\n\r\nclass FileSystem {\r\n  /**\r\n   * create a filesystem from its raw data\r\n   * @param {Object} rawData\r\n   * @param {Array} saveCallBacks\r\n   * @param {Function} reportError\r\n   */\r\n  constructor(rawData, saveCallBacks, reportError = console.log) {\r\n    if (!rawData) {\r\n      rawData = defaultRawData;\r\n    }\r\n    const dirData = rawData.dirs;\r\n    const fileData = rawData.files;\r\n    const appData = rawData.apps;\r\n    const dirNodes = {};\r\n    const fileNodes = {};\r\n    const appNodes = {};\r\n\r\n    for (let key in dirData) {\r\n      const dir = dirData[key];\r\n      dirNodes[key] = new Directory(\r\n        dir.name,\r\n        dir.hash,\r\n        dir.parent,\r\n        dir.children\r\n      );\r\n    }\r\n    for (let key in fileData) {\r\n      const file = fileData[key];\r\n      fileNodes[key] = new File(\r\n        file.name,\r\n        file.hash,\r\n        file.parent,\r\n        file.data,\r\n        file.ext,\r\n        file.extra ? file.extra : {}\r\n      );\r\n    }\r\n    for (let key in appData) {\r\n      const app = appData[key];\r\n      appNodes[key] = new App(\r\n        app.name,\r\n        app.hash,\r\n        app.parent,\r\n        app.data,\r\n        app.icon,\r\n        app.appData\r\n      );\r\n    }\r\n\r\n    this.dirNodes = dirNodes;\r\n    this.fileNodes = fileNodes;\r\n    this.appNodes = appNodes;\r\n    this.saveCallBacks = saveCallBacks;\r\n    this.saveData = () => {\r\n      for (let func of saveCallBacks) {\r\n        func();\r\n      }\r\n    };\r\n    this.onRemove = () => {};\r\n    this.onInstall = () => {};\r\n    this.reportError = reportError;\r\n  }\r\n\r\n  /**\r\n   * get the raw data from a filesystem\r\n   * @returns {Object}\r\n   */\r\n  outputRawData() {\r\n    const dirData = {};\r\n    const fileData = {};\r\n    const appData = {};\r\n    const { dirNodes, fileNodes, appNodes } = this;\r\n    for (let key in dirNodes) {\r\n      const dir = dirNodes[key];\r\n      dirData[key] = {\r\n        name: dir.getName(),\r\n        hash: dir.getHash(),\r\n        parent: dir.getParent(),\r\n        children: dir.getChildren(),\r\n        type: dir.getType(),\r\n      };\r\n    }\r\n    for (let key in fileNodes) {\r\n      const file = fileNodes[key];\r\n      fileData[key] = {\r\n        name: file.getName(),\r\n        hash: file.getHash(),\r\n        parent: file.getParent(),\r\n        data: file.getData(),\r\n        type: file.getType(),\r\n        ext: file.getExt(),\r\n        extra: file.getExtra(),\r\n      };\r\n    }\r\n    for (let key in appNodes) {\r\n      const app = appNodes[key];\r\n      appData[key] = {\r\n        name: app.getName(),\r\n        hash: app.getHash(),\r\n        parent: app.getParent(),\r\n        data: app.getData(),\r\n        type: app.getType(),\r\n        icon: app.getIcon(),\r\n        appData: app.getAppData(),\r\n      };\r\n    }\r\n    return {\r\n      dirs: dirData,\r\n      files: fileData,\r\n      apps: appData,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * get the size of filesystem's raw data\r\n   * @returns {Number}\r\n   */\r\n  getRawSize() {\r\n    return JSON.stringify(this.outputRawData()).length;\r\n  }\r\n\r\n  /**\r\n   * get the number of directories in the filesystem\r\n   * @returns {Number}\r\n   */\r\n  getNumDirs() {\r\n    return Object.keys(this.dirNodes).length;\r\n  }\r\n\r\n  /**\r\n   * get the number of files in the filesystem\r\n   * @returns {Number}\r\n   */\r\n  getNumFiles() {\r\n    return Object.keys(this.fileNodes).length;\r\n  }\r\n\r\n  /**\r\n   * get the number of apps in the filesystem\r\n   * @returns {Number}\r\n   */\r\n  getNumApps() {\r\n    return Object.keys(this.appNodes).length;\r\n  }\r\n\r\n  /**\r\n   * determine if the target metadata indicates it's of File type\r\n   * @param {Object} meta\r\n   * @returns {Boolean}\r\n   */\r\n  isFile(meta) {\r\n    return meta.type === TYPES.FILE;\r\n  }\r\n\r\n  /**\r\n   * determine if the target metadata indicates it's of Directory type\r\n   * @param {Object} meta\r\n   * @returns {Boolean}\r\n   */\r\n  isDir(meta) {\r\n    return meta.type === TYPES.DIR;\r\n  }\r\n\r\n  /**\r\n   * determine if the target metadata indicates it's of App type\r\n   * @param {Object} meta\r\n   * @returns {Boolean}\r\n   */\r\n  isApp(meta) {\r\n    return meta.type === TYPES.APP;\r\n  }\r\n\r\n  /**\r\n   * Add a new callback function for saving the filesystem\r\n   * @param {Function} func\r\n   */\r\n  addSaveCallBack(func) {\r\n    this.saveCallBacks.push(func);\r\n  }\r\n\r\n  /**\r\n   * set the callback function for reporting errors\r\n   * @param {Function} func\r\n   */\r\n  changeReportError(func) {\r\n    this.reportError = func;\r\n  }\r\n\r\n  /**\r\n   * set the callback function for removal of any node\r\n   * @param {Function} func\r\n   */\r\n  setOnRemove(func) {\r\n    this.onRemove = func;\r\n  }\r\n\r\n  /**\r\n   * UNSAFE: reset the file system to its default value\r\n   */\r\n  _UNSAFE_RESET() {\r\n    this.dirNodes = {\r\n      root: new Directory(\"root\", \"root\", null, {}),\r\n      bin: new Directory(\"bin\", \"bin\", null, {}),\r\n    };\r\n    this.fileNodes = {};\r\n    this.appNodes = {};\r\n    this.saveData();\r\n  }\r\n\r\n  /**\r\n   * get file from its hash\r\n   * @param {String} hash\r\n   * @returns {File}\r\n   */\r\n  getFile(hash) {\r\n    return this.fileNodes[hash];\r\n  }\r\n\r\n  /**\r\n   * get directory from its hash\r\n   * @param {String} hash\r\n   * @returns {Directory}\r\n   */\r\n  getDirectory(hash) {\r\n    return this.dirNodes[hash];\r\n  }\r\n\r\n  /**\r\n   * get App from its hash\r\n   * @param {String} hash\r\n   * @returns {App}\r\n   */\r\n  getApp(hash) {\r\n    return this.appNodes[hash];\r\n  }\r\n\r\n  /**\r\n   * get the child to a parent with its given name\r\n   * @param {String} hash\r\n   * @param {String} name\r\n   * @returns {File|Directory}\r\n   */\r\n  getChildByName(hash, name) {\r\n    let children = this.retrieveDirectoryContent(hash);\r\n    if (!children) {\r\n      return null;\r\n    }\r\n    for (let child of Object.values(children)) {\r\n      if (child.name === name) {\r\n        if (this.isDir(child)) {\r\n          return this.dirNodes[child.hash];\r\n        } else if (this.isFile(child)) {\r\n          return this.fileNodes[child.hash];\r\n        } else {\r\n          this.reportError(\"Filesystem corrupted!\");\r\n        }\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * get current directory from its path\r\n   * @param {Array} path\r\n   * @returns {Directory}\r\n   */\r\n  getDirByPath(path) {\r\n    if (path.shift() !== \"root\") {\r\n      this.reportError(\"Path not start with root\");\r\n      return null;\r\n    }\r\n    let currentDirHash = \"root\";\r\n    while (path.length > 0) {\r\n      const currentDirName = path.shift();\r\n      const child = this.getChildByName(currentDirHash, currentDirName);\r\n      if (!child) {\r\n        this.reportError(`'${currentDirName}' not found`);\r\n        return null;\r\n      }\r\n      if (this.isDir(child.getMetaData())) {\r\n        currentDirHash = child.getHash();\r\n      } else {\r\n        this.reportError(`'${currentDirName}' is not a directory`);\r\n        return null;\r\n      }\r\n    }\r\n    return this.dirNodes[currentDirHash];\r\n  }\r\n\r\n  getNodeByPath(path) {\r\n    if (path.shift() !== \"root\") {\r\n      this.reportError(\"Path not start with root\");\r\n      return null;\r\n    }\r\n    let currentHash = \"root\";\r\n    while (path.length > 0) {\r\n      const currentDirName = path.shift();\r\n      const child = this.getChildByName(currentHash, currentDirName);\r\n      if (!child) {\r\n        this.reportError(`'${currentDirName}' not found`);\r\n        return null;\r\n      }\r\n      if (this.isDir(child.getMetaData())) {\r\n        currentHash = child.getHash();\r\n      } else if (this.isFile(child.getMetaData())) {\r\n        currentHash = child.getHash();\r\n        if (path.length > 0) {\r\n          this.reportError(`'${currentDirName}' has no children`);\r\n          return null;\r\n        }\r\n        return this.fileNodes[currentHash];\r\n      } else {\r\n        this.reportError(`'${currentDirName}' is not a valid node`);\r\n        return null;\r\n      }\r\n    }\r\n    return this.dirNodes[currentHash];\r\n  }\r\n\r\n  /**\r\n   * get the path to a directory\r\n   * @param {String} hash\r\n   * @returns {Array}\r\n   */\r\n  findDirPath(hash) {\r\n    const path = [];\r\n    let node = this.dirNodes[hash];\r\n    while (node.getParent() !== null) {\r\n      path.push(node.getName());\r\n      node = this.dirNodes[node.getParent()];\r\n    }\r\n    path.push(node.getName());\r\n    path = path.reverse();\r\n    return path;\r\n  }\r\n\r\n  // check name consistency\r\n\r\n  checkName(parent, name, selfHash = null) {\r\n    const siblings = this.dirNodes[parent].getChildren();\r\n    for (let hash in siblings) {\r\n      if (hash === selfHash) {\r\n        continue;\r\n      }\r\n      const childName = siblings[hash].name;\r\n      if (name === childName) {\r\n        this.reportError(\"Name '\" + name + \"' has already been taken!\");\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  checkDirectoryName(name) {\r\n    if (name === \"\") {\r\n      this.reportError(\"Directory name '\" + name + \"' cannot be empty!\");\r\n      return false;\r\n    } else if (name.length >= 25) {\r\n      this.reportError(\r\n        \"Directory name '\" + name + \"' exceeds the length limit!\"\r\n      );\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  checkFileName(name) {\r\n    if (!name) {\r\n      this.reportError(\"File name '\" + name + \"' cannot be empty!\");\r\n      return false;\r\n    } else if (name.length >= 25) {\r\n      this.reportError(\"File name '\" + name + \"' exceeds the length limit!\");\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  // create and remove\r\n\r\n  createNewDirectory(parent, name) {\r\n    if (this.checkName(parent, name) && this.checkDirectoryName(name)) {\r\n      const newHash = UUID();\r\n      const newDir = new Directory(name, newHash, parent, {});\r\n      this.dirNodes[newHash] = newDir;\r\n      this.dirNodes[parent].addChild(newHash, newDir.getMetaData());\r\n      this.saveData();\r\n      return newHash;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  createNewFile(parent, name, data, ext = null, extra = {}) {\r\n    if (data === null || data === undefined) {\r\n      this.reportError(\"The file data is corrupted\");\r\n      return null;\r\n    }\r\n    if (this.checkName(parent, name) && this.checkFileName(name)) {\r\n      const newHash = UUID();\r\n      const newFile = new File(name, newHash, parent, data, ext, extra);\r\n      this.fileNodes[newHash] = newFile;\r\n      this.dirNodes[parent].addChild(newHash, newFile.getMetaData());\r\n      this.saveData();\r\n      return newHash;\r\n    } else {\r\n      this.reportError(\"The file name '\" + name + \"' is already taken\");\r\n      return null;\r\n    }\r\n  }\r\n\r\n  installNewApp(name, data, icon) {\r\n    const newHash = UUID();\r\n    const newApp = new App(name, newHash, null, data, icon);\r\n    this.appNodes[newHash] = newApp;\r\n    this.saveData();\r\n    return newHash;\r\n  }\r\n\r\n  removeNode(parent, hash) {\r\n    const removed = this.moveNode(parent, hash, \"bin\");\r\n    this.onRemove();\r\n    return removed;\r\n  }\r\n\r\n  uninstallApp(hash) {\r\n    delete this.appNodes[hash];\r\n    this.saveData();\r\n  }\r\n\r\n  // clear trash bin\r\n\r\n  deepRemoveNode(hash) {\r\n    const metadata = this.dirNodes[\"bin\"].getChild(hash);\r\n    if (metadata.type === TYPES.DIR) {\r\n      this.deepRemoveDirectory(hash);\r\n    } else if (metadata.type === TYPES.FILE) {\r\n      this.deepRemoveFile(hash);\r\n    }\r\n  }\r\n\r\n  deepRemoveFile(hash) {\r\n    const file = this.fileNodes[hash];\r\n    const parentNode = this.getDirectory(file.getParent());\r\n    parentNode.removeChild(hash);\r\n    if (file.getExtra().onDrive) {\r\n      this.cleanUpDriveFile(file);\r\n    }\r\n    delete this.fileNodes[hash];\r\n    this.saveData();\r\n  }\r\n\r\n  cleanUpDriveFile = async (file) => {\r\n    await deleteDriveFile(file.getExtra().fileId);\r\n  };\r\n\r\n  deepRemoveDirectory(hash) {\r\n    const dir = this.dirNodes[hash];\r\n    const childNodes = dir.getChildren();\r\n    const parentNode = this.getDirectory(dir.getParent());\r\n    for (let key in childNodes) {\r\n      const child = childNodes[key];\r\n      if (child.type === TYPES.DIR) {\r\n        this.deepRemoveDirectory(child.hash);\r\n      } else if (child.type === TYPES.FILE) {\r\n        this.deepRemoveFile(child.hash);\r\n      }\r\n    }\r\n    parentNode.removeChild(hash);\r\n    delete this.dirNodes[hash];\r\n    this.saveData();\r\n  }\r\n\r\n  // list\r\n\r\n  retrieveDirectoryContent(hash) {\r\n    const dir = this.dirNodes[hash];\r\n    if (!dir) {\r\n      this.reportError(`'${hash}' is not a directory hash`);\r\n      return null;\r\n    }\r\n    const childNodes = dir.getChildren();\r\n    return childNodes;\r\n  }\r\n\r\n  retrieveApps() {\r\n    return this.appNodes;\r\n  }\r\n\r\n  getDirectorySize(hash) {\r\n    const childNodes = this.retrieveDirectoryContent(hash);\r\n    let size = 0;\r\n    for (let key in childNodes) {\r\n      if (childNodes[key].type === TYPES.FILE) {\r\n        size += childNodes[key].size;\r\n      } else {\r\n        size += this.getDirectorySize(childNodes[key].hash);\r\n      }\r\n    }\r\n    return size;\r\n  }\r\n\r\n  // move\r\n\r\n  moveNode(parent, hash, destination) {\r\n    if (parent !== hash && destination !== hash) {\r\n      const metadata = this.dirNodes[parent].getChild(hash);\r\n      if (metadata.type === TYPES.DIR) {\r\n        const child = this.dirNodes[hash];\r\n        child.changeParent(destination);\r\n        this.dirNodes[parent].removeChild(hash);\r\n        this.dirNodes[destination].addChild(hash, child.getMetaData());\r\n      } else {\r\n        const child = this.fileNodes[hash];\r\n        child.changeParent(destination);\r\n        this.dirNodes[parent].removeChild(hash);\r\n        this.dirNodes[destination].addChild(hash, child.getMetaData());\r\n      }\r\n      this.saveData();\r\n      return true;\r\n    } else {\r\n      this.reportError(\"Cannot move a directory into itself\");\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // install\r\n\r\n  installApp(hash, icon) {\r\n    const file = this.fileNodes[hash];\r\n    const app = new App(file.getName(), hash, null, file.getData(), icon);\r\n    this.appNodes[hash] = app;\r\n    this.saveData();\r\n    this.onInstall();\r\n  }\r\n\r\n  // app storage\r\n\r\n  getAppStorage(hash, key) {\r\n    const app = this.appNodes[hash];\r\n    const value = app.getStorage(key);\r\n    return value;\r\n  }\r\n\r\n  setAppStorage(hash, key, value) {\r\n    const app = this.appNodes[hash];\r\n    app.setStorage(key, value);\r\n    this.saveData();\r\n  }\r\n\r\n  // save and modify\r\n\r\n  changeFileName(hash, name) {\r\n    const file = this.fileNodes[hash];\r\n    const parent = file.getParent();\r\n    if (this.checkName(parent, name, hash) && this.checkFileName(name)) {\r\n      file.changeName(name);\r\n      const parent = this.dirNodes[file.getParent()];\r\n      parent.addChild(hash, file.getMetaData());\r\n      this.saveData();\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  changeDirectoryName(hash, name) {\r\n    const dir = this.dirNodes[hash];\r\n    const parent = dir.getParent();\r\n    if (this.checkName(parent, name, hash) && this.checkDirectoryName(name)) {\r\n      dir.changeName(name);\r\n      const parent = this.dirNodes[dir.getParent()];\r\n      parent.addChild(hash, dir.getMetaData());\r\n      this.saveData();\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  saveFile(hash, data) {\r\n    this.fileNodes[hash].saveData(data);\r\n    this.saveData();\r\n  }\r\n}\r\n\r\nexport default FileSystem;\r\n","import { successRes, errorRes } from \"../../utils.js\";\r\nimport FileSystem from \"../../segments/FileSystem\";\r\n\r\nexport const loadFileSystem = async (self) => {\r\n  try {\r\n    const response = await fetch(\r\n      self.props.host + \"/getFS/\" + self.props.userId\r\n    );\r\n    if (response.status !== 200) {\r\n      return errorRes(\r\n        \"Looks like there was a problem. Status Code: \" + response.status\r\n      );\r\n    }\r\n    const res = await response.json();\r\n    self.setState((state) => ({\r\n      ...state,\r\n      fileSystem: new FileSystem(\r\n        res.data,\r\n        [self.setDataChanged],\r\n        alert.bind(window)\r\n      ),\r\n    }));\r\n    self.props.setLoading(false);\r\n    return successRes(res);\r\n  } catch (err) {\r\n    return errorRes(\"Fetch Error\", err);\r\n  }\r\n};\r\n\r\nexport const syncFileSystem = async (self) => {\r\n  const fs = self.state.fileSystem;\r\n  if (fs) {\r\n    const data = fs.outputRawData();\r\n    console.log(data);\r\n    try {\r\n      const response = await fetch(\r\n        self.props.host + \"/setFS/\" + self.props.userId,\r\n        {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify(data),\r\n          credentials: \"include\",\r\n        }\r\n      );\r\n      if (response.status !== 200) {\r\n        return errorRes(\r\n          \"Looks like there was a problem. Status Code: \" + response.status\r\n        );\r\n      }\r\n      self.setState((state) => ({\r\n        ...state,\r\n        saved: true,\r\n      }));\r\n      const res = await response.text();\r\n      return successRes(res);\r\n    } catch (err) {\r\n      return errorRes(\"Fetch Error\", err);\r\n    }\r\n  }\r\n};\r\n","import { successRes, errorRes } from \"../../utils.js\";\r\n\r\nexport const updateUserInfo = async (info, self) => {\r\n  info = {\r\n    ...info,\r\n    userId: self.state.userId,\r\n  };\r\n\r\n  try {\r\n    const response = await fetch(self.host + \"/updateInfo\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(info),\r\n      credentials: \"include\",\r\n    });\r\n    if (response.status !== 200) {\r\n      console.log(\r\n        \"Looks like there was a problem. Status Code: \" + response.status\r\n      );\r\n      return;\r\n    }\r\n    const res = await response.json();\r\n    if (!res.error) {\r\n      self.setState((state) => ({\r\n        ...state,\r\n        userInfo: {\r\n          ...state.userInfo,\r\n          ...info,\r\n        },\r\n      }));\r\n      return successRes();\r\n    } else {\r\n      return errorRes(res.errMsg);\r\n    }\r\n  } catch (err) {\r\n    return errorRes(\"Fetch Error\", err);\r\n  }\r\n};\r\n","import { successRes, errorRes } from \"../../utils.js\";\r\nexport const getSystemData = async (self) => {\r\n  try {\r\n    const response = await fetch(\r\n      self.props.host + \"/getSD/\" + self.props.userId\r\n    );\r\n    if (response.status !== 200) {\r\n      return errorRes(\r\n        \"Looks like there was a problem. Status Code: \" + response.status\r\n      );\r\n    }\r\n    const res = await response.json();\r\n    self.setState((state) => ({\r\n      ...state,\r\n      systemData: res.data,\r\n    }));\r\n    return successRes(res);\r\n  } catch (err) {\r\n    return errorRes(\"Fetch Error\", err);\r\n  }\r\n};\r\n\r\nexport const setSystemData = async (data, self) => {\r\n  let sd = self.state.systemData;\r\n  sd = { ...sd, ...data };\r\n  try {\r\n    const response = await fetch(\r\n      self.props.host + \"/setSD/\" + self.props.userId,\r\n      {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(sd),\r\n        credentials: \"include\",\r\n      }\r\n    );\r\n    if (response.status !== 200) {\r\n      return errorRes(\r\n        \"Looks like there was a problem. Status Code: \" + response.status\r\n      );\r\n    }\r\n    const res = await response.json();\r\n    self.setState((state) => ({\r\n      ...state,\r\n      systemData: sd,\r\n    }));\r\n    return successRes(res);\r\n  } catch (err) {\r\n    return errorRes(\"Fetch Error\", err);\r\n  }\r\n};\r\n","import * as authHandler from \"./auth.jsx\";\r\nimport * as appHandler from \"./app.jsx\";\r\nimport * as fsHandler from \"./fs.jsx\";\r\nimport * as userHandler from \"./user.jsx\";\r\nimport * as sdHandler from \"./sd.jsx\";\r\n\r\nexport default {\r\n  ...authHandler,\r\n  ...appHandler,\r\n  ...fsHandler,\r\n  ...userHandler,\r\n  ...sdHandler,\r\n};\r\n","const WindowTypes = {\r\n  EXPLORER: 0,\r\n  MEDIA: 1,\r\n  FILE: 2,\r\n  RAW: 3,\r\n  APP: 4,\r\n};\r\n\r\nclass WindowManager {\r\n  constructor(windows, saveCallBack) {\r\n    this.explorers = [];\r\n    this.media = [];\r\n    this.files = [];\r\n    this.raw = [];\r\n    this.apps = [];\r\n    this.saveCallBack = saveCallBack;\r\n    this.processWindows(windows);\r\n  }\r\n\r\n  processWindows(windows) {\r\n    for (let window of windows) {\r\n      switch (window.type) {\r\n        case WindowTypes.EXPLORER:\r\n          this.explorers.push(window.meta);\r\n          break;\r\n        case WindowTypes.MEDIA:\r\n          this.media.push(window.meta);\r\n          break;\r\n        case WindowTypes.FILE:\r\n          this.files.push(window.meta);\r\n          break;\r\n        case WindowTypes.RAW:\r\n          this.files.push(window.meta);\r\n          break;\r\n        case WindowTypes.APP:\r\n          this.files.push(window.meta);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n  }\r\n\r\n  encodeWindows() {\r\n    const windows = [];\r\n    for (let explorer in this.explorers) {\r\n      windows.push({ type: WindowTypes.EXPLORER, meta: explorer });\r\n    }\r\n    for (let media in this.media) {\r\n      windows.push({ type: WindowTypes.MEDIA, meta: media });\r\n    }\r\n    for (let file in this.files) {\r\n      windows.push({ type: WindowTypes.FILE, meta: file });\r\n    }\r\n    for (let raw in this.raw) {\r\n      windows.push({ type: WindowTypes.RAW, meta: raw });\r\n    }\r\n    for (let app in this.apps) {\r\n      windows.push({ type: WindowTypes.APP, meta: app });\r\n    }\r\n    return windows;\r\n  }\r\n\r\n  getWindow(index, type) {\r\n    switch (type) {\r\n      case WindowTypes.EXPLORER:\r\n        return this.explorers[index];\r\n      case WindowTypes.MEDIA:\r\n        return this.media[index];\r\n      case WindowTypes.FILE:\r\n        return this.files[index];\r\n      case WindowTypes.RAW:\r\n        return this.raw[index];\r\n      case WindowTypes.APP:\r\n        return this.apps[index];\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n\r\n  addWindow(meta, type) {\r\n    switch (type) {\r\n      case WindowTypes.EXPLORER:\r\n        this.explorers.push(meta);\r\n        break;\r\n      case WindowTypes.MEDIA:\r\n        this.media.push(meta);\r\n        break;\r\n      case WindowTypes.FILE:\r\n        this.files.push(meta);\r\n        break;\r\n      case WindowTypes.RAW:\r\n        this.files.push(meta);\r\n        break;\r\n      case WindowTypes.APP:\r\n        this.files.push(meta);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    this.saveCallBack();\r\n  }\r\n\r\n  deleteWindow(index, type) {\r\n    switch (type) {\r\n      case WindowTypes.EXPLORER:\r\n        this.explorers.splice(index, 1);\r\n        break;\r\n      case WindowTypes.MEDIA:\r\n        this.media.splice(index, 1);\r\n        break;\r\n      case WindowTypes.FILE:\r\n        this.files.splice(index, 1);\r\n        break;\r\n      case WindowTypes.RAW:\r\n        this.files.splice(index, 1);\r\n        break;\r\n      case WindowTypes.APP:\r\n        this.files.splice(index, 1);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    this.saveCallBack();\r\n  }\r\n\r\n  popWindow(index, type) {\r\n    const meta = this.getWindow(index, type);\r\n    if (meta === null) {\r\n      return false;\r\n    }\r\n    this.deleteWindow(index, type);\r\n    this.addWindow(meta, type);\r\n    this.saveCallBack();\r\n  }\r\n}\r\n\r\nexport default WindowManager;\r\n","import { themeColors } from \"../../config\";\r\n\r\nexport const iconStyles = {\r\n  container: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    color: themeColors.contentTextColor,\r\n    padding: 10,\r\n  },\r\n  icon: {\r\n    display: \"flex\",\r\n    width: 50,\r\n    height: 50,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    borderRadius: \"50%\",\r\n    backgroundColor: themeColors.transparentBlack,\r\n    boxShadow: \"0 0 5px rgba(255,255,255,0.8)\",\r\n    margin: 5,\r\n  },\r\n  input: {\r\n    fontSize: 15,\r\n    width: 80,\r\n    borderRadius: 5,\r\n    flex: 1,\r\n    fontFamily: \"roboto\",\r\n    textShadow: \"0 0 5px white\",\r\n    padding: 2,\r\n    outline: \"none\",\r\n    border: \"none\",\r\n    backgroundColor: themeColors.transparentBlack,\r\n    color: themeColors.optionTextColor,\r\n  },\r\n  name: {\r\n    flex: 1,\r\n    fontSize: 15,\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    textAlign: \"center\",\r\n    fontFamily: \"roboto\",\r\n    textShadow: \"0 0 5px white\",\r\n    whiteSpace: \"nowrap\",\r\n  },\r\n};\r\n","import { useState } from \"react\";\r\nimport { iconStyles } from \"./style.js\";\r\nimport { lString } from \"../../utils.js\";\r\nconst AppIcon = ({\r\n  height,\r\n  width,\r\n  icon,\r\n  type,\r\n  name,\r\n  nameOnChange,\r\n  onClick,\r\n  onRightClick = () => {},\r\n  setNameOnChange,\r\n  saveName,\r\n  nameChangable = true,\r\n  draggable = false,\r\n  onDragStart,\r\n  onDragEnd,\r\n  scale = 1,\r\n}) => {\r\n  const [_name, changeName] = useState(name);\r\n  const handleInput = (e) => {\r\n    changeName(e.target.value);\r\n  };\r\n\r\n  const highlight = (e) => {\r\n    e.target.style.opacity = 0.5;\r\n  };\r\n\r\n  const unhighlight = (e) => {\r\n    e.target.style.opacity = 1;\r\n  };\r\n  return (\r\n    <div\r\n      style={{\r\n        ...iconStyles.container,\r\n        width,\r\n        height,\r\n        zoom: scale,\r\n      }}\r\n      draggable={draggable}\r\n      onDragStart={onDragStart}\r\n      onDragEnd={onDragEnd}\r\n    >\r\n      <div\r\n        style={iconStyles.icon}\r\n        onClick={onClick}\r\n        onContextMenu={onRightClick}\r\n        onMouseOver={highlight}\r\n        onMouseOut={unhighlight}\r\n      >\r\n        {icon}\r\n      </div>\r\n      {nameOnChange ? (\r\n        <input\r\n          style={iconStyles.input}\r\n          type={\"text\"}\r\n          value={_name}\r\n          autoFocus\r\n          onFocus={(e) => {\r\n            e.target.select();\r\n          }}\r\n          onChange={handleInput}\r\n          spellCheck={false}\r\n          onKeyDown={(e) => {\r\n            console.log(e.key);\r\n            if (e.key === \"Enter\") saveName(_name, type);\r\n            else if (e.key === \"Escape\") {\r\n              setNameOnChange(false);\r\n              changeName(name);\r\n            }\r\n          }}\r\n        />\r\n      ) : (\r\n        <div\r\n          style={{ ...iconStyles.name }}\r\n          onClick={() => {\r\n            if (nameChangable) setNameOnChange(true);\r\n          }}\r\n        >\r\n          {lString(name, 12, \"...\")}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AppIcon;\r\n","import { themeColors } from \"../../config.js\";\r\nexport const listStyles = {\r\n  container: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"flex-start\",\r\n    alignItems: \"stretch\",\r\n  },\r\n  entry: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"flex-start\",\r\n  },\r\n  input: {\r\n    fontSize: 15,\r\n    borderRadius: 5,\r\n    flex: 1,\r\n    fontFamily: \"roboto\",\r\n    textShadow: \"0 0 5px white\",\r\n    padding: 2,\r\n    outline: \"none\",\r\n    border: \"none\",\r\n    backgroundColor: themeColors.transparentBlack,\r\n    color: themeColors.optionTextColor,\r\n  },\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { listStyles } from \"./style.js\";\r\n\r\nconst Row = ({ index, entry, entryStyle, rowHeight }) => {\r\n  const [_value, changeValue] = useState(entry.value);\r\n\r\n  const handleInput = (e) => {\r\n    changeValue(e.target.value);\r\n  };\r\n\r\n  const highlight = (e) => {\r\n    e.target.style.opacity = 0.5;\r\n  };\r\n\r\n  const unhighlight = (e) => {\r\n    e.target.style.opacity = 1;\r\n  };\r\n\r\n  return (\r\n    <div\r\n      key={index}\r\n      style={{\r\n        ...listStyles.entry,\r\n        height: rowHeight,\r\n        ...entryStyle,\r\n      }}\r\n      onClick={entry.func}\r\n      onContextMenu={entry.contextFunc}\r\n      onMouseOver={highlight}\r\n      onMouseOut={unhighlight}\r\n    >\r\n      {entry.valueOnChange ? (\r\n        <input\r\n          key={index}\r\n          style={listStyles.input}\r\n          type={\"text\"}\r\n          value={_value}\r\n          autoFocus\r\n          onFocus={(e) => {\r\n            e.target.select();\r\n          }}\r\n          spellCheck={false}\r\n          onChange={handleInput}\r\n          onKeyDown={(e) => {\r\n            if (e.key === \"Enter\") entry.enterFunc(_value);\r\n            else if (e.key === \"Escape\") {\r\n              entry.cancelFunc();\r\n              changeValue(entry.value);\r\n            }\r\n          }}\r\n        />\r\n      ) : (\r\n        entry.content\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nclass EntryList extends React.Component {\r\n  render() {\r\n    const rows = this.props.entries.map((entry, index) => (\r\n      <Row\r\n        key={index}\r\n        entry={entry}\r\n        rowHeight={this.props.rowHeight}\r\n        entryStyle={this.props.entryStyle}\r\n        index={index}\r\n      />\r\n    ));\r\n    return (\r\n      <div\r\n        style={{\r\n          ...listStyles.container,\r\n          ...this.props.containerStyle,\r\n        }}\r\n      >\r\n        {rows}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EntryList;\r\n","import { themeColors } from \"../../config.js\";\r\nexport const menuStyle = {\r\n  container: {\r\n    position: \"fixed\",\r\n    fontFamily: \"roboto\",\r\n    backgroundColor: themeColors.optionColor,\r\n    color: themeColors.optionTextColor,\r\n    fontSize: 13,\r\n  },\r\n  option: {\r\n    padding: 5,\r\n  },\r\n};\r\n","import React from \"react\";\r\nimport EntryList from \"../EntryList\";\r\nimport { menuStyle } from \"./style.js\";\r\n\r\nconst PopUpMenu = ({ entries, top, left }) => {\r\n  return (\r\n    <EntryList\r\n      entries={entries}\r\n      rowHeight={20}\r\n      containerStyle={{\r\n        ...menuStyle.container,\r\n        top,\r\n        left,\r\n      }}\r\n      entryStyle={menuStyle.option}\r\n    />\r\n  );\r\n};\r\n\r\nexport default PopUpMenu;\r\n","export default {\r\n  button: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    cursor: \"pointer\",\r\n  },\r\n};\r\n","import styles from \"./styles.jsx\";\r\nconst TouchableOpacity = ({ children, onClick, style }) => {\r\n  return (\r\n    <div\r\n      onMouseOver={(e) => (e.target.style.opacity = 0.5)}\r\n      onMouseOut={(e) => (e.target.style.opacity = 1)}\r\n      style={{ ...styles.button, ...style }}\r\n      onClick={onClick}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TouchableOpacity;\r\n","import TouchableOpacity from \"../TouchableOpacity\";\r\nimport { themeColors } from \"../../config\";\r\nconst Button = ({ children, onClick, style }) => {\r\n  return (\r\n    <TouchableOpacity\r\n      onClick={onClick}\r\n      style={{\r\n        borderRadius: 10,\r\n        padding: 10,\r\n        backgroundColor: themeColors.contentColor,\r\n        color: themeColors.contentTextColor,\r\n        fontFamily: \"roboto\",\r\n        ...style,\r\n      }}\r\n    >\r\n      {children}\r\n    </TouchableOpacity>\r\n  );\r\n};\r\nexport default Button;\r\n","export default {\r\n  container: {\r\n    borderRadius: 20,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"flex-end\",\r\n    alignItems: \"stretch\",\r\n  },\r\n  textContainer: {\r\n    flex: 1,\r\n    fontFamily: \"roboto\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    padding: 10,\r\n    fontWeight: \"bold\",\r\n    textAlign: \"center\",\r\n  },\r\n  leftButton: {\r\n    borderTopLeftRadius: 0,\r\n    borderTopRightRadius: 0,\r\n    borderBottomLeftRadius: 20,\r\n    borderBottomRightRadius: 0,\r\n    border: \"1px solid #FFFFFF55\",\r\n    flex: 1,\r\n  },\r\n  rightButton: {\r\n    borderTopLeftRadius: 0,\r\n    borderTopRightRadius: 0,\r\n    borderBottomLeftRadius: 0,\r\n    borderBottomRightRadius: 20,\r\n    border: \"1px solid #FFFFFF55\",\r\n    flex: 1,\r\n  },\r\n};\r\n","import { themeColors } from \"../../config\";\r\nimport Button from \"../Button\";\r\nimport styles from \"../../styles\";\r\nimport ModalStyles from \"./style.js\";\r\nconst Modal = ({\r\n  width = 300,\r\n  height = 200,\r\n  leftText,\r\n  leftFunc,\r\n  rightText,\r\n  rightFunc,\r\n  children,\r\n}) => {\r\n  return (\r\n    <div\r\n      style={{\r\n        ...styles.fullScreenContainer,\r\n        backgroundColor: themeColors.transparentBlack,\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          ...ModalStyles.container,\r\n          width,\r\n          height,\r\n          backgroundColor: themeColors.transparentWhite,\r\n        }}\r\n      >\r\n        <div style={ModalStyles.textContainer}>{children}</div>\r\n        <div style={{ display: \"flex\" }}>\r\n          <Button style={ModalStyles.leftButton} onClick={leftFunc}>\r\n            {leftText}\r\n          </Button>\r\n          <Button style={ModalStyles.rightButton} onClick={rightFunc}>\r\n            {rightText}\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Modal;\r\n","import Modal from \"../../widgets/Modal\";\r\nimport { handleAuth, listenAuthState } from \"../../api/gapi\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst GoogleAuthModal = ({ setModalOn }) => {\r\n  useEffect(() => {\r\n    listenAuthState((signedIn) => {\r\n      console.log(signedIn);\r\n      setModalOn(!signedIn);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <Modal\r\n      leftText={\"Authorize\"}\r\n      leftFunc={handleAuth}\r\n      rightText={\"Cancel\"}\r\n      rightFunc={() => {\r\n        setModalOn(false);\r\n      }}\r\n    >\r\n      The file cannot be processed by WebOS. Would you like to authorize WebOS\r\n      to connect with your Google Drive and upload files of this type?\r\n    </Modal>\r\n  );\r\n};\r\nexport default GoogleAuthModal;\r\n","import { themeColors } from \"../../config\";\r\nexport const GUIStyle = {\r\n  section: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    flexDirection: \"column\",\r\n    backgroundColor: themeColors.transparentBlack,\r\n    borderRadius: 20,\r\n    margin: 10,\r\n    maxWidth: 800,\r\n    minWidth: 200,\r\n    transition: \"width 0.2s\",\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    color: themeColors.optionTextColor,\r\n    fontFamily: \"roboto\",\r\n    margin: 10,\r\n    textShadow: \"0 0 5px white\",\r\n  },\r\n  appBar: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    flexDirection: \"row\",\r\n    margin: 0,\r\n    alignSelf: \"stretch\",\r\n    justifyContent: \"flex-start\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n};\r\n","import React from \"react\";\r\nimport AppIcon from \"../AppIcon\";\r\nimport PopUpMenu from \"../PopUpMenu\";\r\nimport GoogleAuthModal from \"../GoogleAuthModal\";\r\nimport { GUIStyle } from \"./style.js\";\r\nimport { TYPES } from \"../../segments/FileSystem\";\r\nimport { themeColors, FileTypes } from \"../../config.js\";\r\nimport {\r\n  blobToBase64,\r\n  blobToArrayBuffer,\r\n  blobToTxt,\r\n  getFileType,\r\n} from \"../../utils.js\";\r\nimport {\r\n  FolderOpenTwoTone,\r\n  FileTextTwoTone,\r\n  FileImageTwoTone,\r\n  FileWordTwoTone,\r\n  FilePptTwoTone,\r\n  FileExcelTwoTone,\r\n  VideoCameraTwoTone,\r\n  FileMarkdownTwoTone,\r\n  ArrowLeftOutlined,\r\n  PlusOutlined,\r\n  CodeTwoTone,\r\n} from \"@ant-design/icons\";\r\nimport {\r\n  isSignedIn,\r\n  checkFolder,\r\n  createDriveFile,\r\n  getDriveFile,\r\n  listenAuthState,\r\n} from \"../../api/gapi\";\r\n\r\nclass FileExplorerGUI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      currentDirectory: null,\r\n      currentContent: {},\r\n      popUpOn: false,\r\n      popUpPosition: {},\r\n      popUpEntries: [],\r\n      googleModalOn: false,\r\n    };\r\n    this.changeCurrentDirectory = this.changeCurrentDirectory.bind(this);\r\n    this.reloadCurrentContent = this.reloadCurrentContent.bind(this);\r\n    this.createFile = this.createFile.bind(this);\r\n    this.createDirectory = this.createDirectory.bind(this);\r\n    this.setNameOnChange = this.setNameOnChange.bind(this);\r\n    this.setGoogleModalOn = this.setGoogleModalOn.bind(this);\r\n    this.saveName = this.saveName.bind(this);\r\n    this.setPopUp = this.setPopUp.bind(this);\r\n    this.closePopUp = this.closePopUp.bind(this);\r\n    this.handleAppClick = this.handleAppClick.bind(this);\r\n    this.handleAppContextMenu = this.handleAppContextMenu.bind(this);\r\n    this.handleAppDrag = this.handleAppDrag.bind(this);\r\n    this.handleDrop = this.handleDrop.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.fileSystem.addSaveCallBack(this.reloadCurrentContent);\r\n    if (this.props.root) this.changeCurrentDirectory(this.props.root);\r\n\r\n    if (this.props.root === \"bin\") {\r\n      this.props.fileSystem.setOnRemove(() =>\r\n        this.changeCurrentDirectory(this.props.root)\r\n      );\r\n    }\r\n  }\r\n\r\n  setGoogleModalOn(modalOn) {\r\n    this.setState((state) => ({\r\n      ...state,\r\n      googleModalOn: modalOn,\r\n    }));\r\n  }\r\n\r\n  changeCurrentDirectory(hash) {\r\n    const fileSystem = this.props.fileSystem;\r\n    const currentDirectory = fileSystem.getDirectory(hash);\r\n    let currentContent = currentDirectory.getChildren();\r\n    currentContent = { ...currentContent };\r\n    for (let key in currentContent) {\r\n      currentContent[key] = {\r\n        metadata: currentContent[key],\r\n        nameOnChange: false,\r\n      };\r\n    }\r\n\r\n    this.setState((state) => ({\r\n      ...state,\r\n      currentDirectory,\r\n      currentContent,\r\n    }));\r\n  }\r\n\r\n  reloadCurrentContent() {\r\n    let currentContent = this.state.currentDirectory.getChildren();\r\n    currentContent = { ...currentContent };\r\n    for (let key in currentContent) {\r\n      currentContent[key] = {\r\n        metadata: currentContent[key],\r\n        nameOnChange: false,\r\n      };\r\n    }\r\n    this.setState((state) => ({\r\n      ...state,\r\n      popUpOn: false,\r\n      currentContent,\r\n    }));\r\n  }\r\n\r\n  createFile() {\r\n    this.props.fileSystem.createNewFile(\r\n      this.state.currentDirectory.getHash(),\r\n      \"New File\",\r\n      \"\"\r\n    );\r\n    this.reloadCurrentContent();\r\n  }\r\n\r\n  createDirectory() {\r\n    this.props.fileSystem.createNewDirectory(\r\n      this.state.currentDirectory.getHash(),\r\n      \"New Folder\"\r\n    );\r\n    this.reloadCurrentContent();\r\n  }\r\n\r\n  deleteNode(hash) {\r\n    if (this.state.currentDirectory.isBin())\r\n      this.props.fileSystem.deepRemoveNode(hash);\r\n    else\r\n      this.props.fileSystem.removeNode(\r\n        this.state.currentDirectory.getHash(),\r\n        hash\r\n      );\r\n    this.reloadCurrentContent();\r\n  }\r\n\r\n  setNameOnChange(key, value) {\r\n    const currentContent = this.state.currentContent;\r\n    currentContent[key].nameOnChange = value;\r\n    this.setState((state) => ({\r\n      ...state,\r\n      currentContent,\r\n    }));\r\n  }\r\n\r\n  closePopUp(e) {\r\n    e.preventDefault();\r\n    if (e.type === \"click\")\r\n      window.removeEventListener(\"click\", this.closePopUp);\r\n    else window.removeEventListener(\"contextmenu\", this.closePopUp);\r\n    this.setState((state) => ({\r\n      ...state,\r\n      popUpOn: false,\r\n    }));\r\n  }\r\n\r\n  setPopUp(x, y, entries) {\r\n    this.setState((state) => ({\r\n      ...state,\r\n      popUpOn: true,\r\n      popUpPosition: { x, y },\r\n      popUpEntries: entries,\r\n    }));\r\n  }\r\n\r\n  saveName(hash, name, type) {\r\n    if (type === TYPES.FILE) {\r\n      this.props.fileSystem.changeFileName(hash, name);\r\n    } else {\r\n      this.props.fileSystem.changeDirectoryName(hash, name);\r\n    }\r\n    this.reloadCurrentContent();\r\n  }\r\n\r\n  handleAppClick(metadata) {\r\n    if (metadata.type === TYPES.DIR) this.changeCurrentDirectory(metadata.hash);\r\n    else {\r\n      switch (getFileType(metadata.ext)) {\r\n        case FileTypes.TXT:\r\n        case FileTypes.JS:\r\n        case FileTypes.XML:\r\n        case FileTypes.CSS:\r\n          this.props.addCurrentFile(metadata.hash);\r\n          break;\r\n        case FileTypes.IMG:\r\n        case FileTypes.VID:\r\n          this.props.addCurrentWindow(metadata.hash);\r\n          break;\r\n        case FileTypes.DOC:\r\n        case FileTypes.PPT:\r\n        case FileTypes.XLS:\r\n          this.props.addCurrentWindow(metadata.hash);\r\n          break;\r\n        default:\r\n          this.props.addCurrentFile(metadata.hash);\r\n          break;\r\n      }\r\n    }\r\n  }\r\n\r\n  handleAppDrag(e, hash, parent) {\r\n    e.dataTransfer.setData(\"hash\", hash);\r\n    e.dataTransfer.setData(\"parent\", parent);\r\n  }\r\n\r\n  handleDrop = async (e) => {\r\n    e.preventDefault();\r\n    const files = e.dataTransfer.files;\r\n    if (files.length > 0) {\r\n      for (let file of files) {\r\n        console.log(file);\r\n        const fileName = file.name.split(\".\")[0];\r\n        const ext = file.name.split(\".\")[1];\r\n        const fileType = getFileType(ext);\r\n        if (fileType === FileTypes.UNKNOWN) {\r\n          alert(\"Cannot recognize the target file\");\r\n        } else {\r\n          let data = null;\r\n          let extra = {};\r\n          if (\r\n            fileType === FileTypes.TXT ||\r\n            fileType === FileTypes.XML ||\r\n            fileType === FileTypes.CSS ||\r\n            fileType === FileTypes.JS\r\n          )\r\n            data = await blobToTxt(file);\r\n          else if (fileType === FileTypes.IMG || fileType === FileTypes.VID)\r\n            data = await blobToBase64(file);\r\n          else if (\r\n            fileType === FileTypes.DOC ||\r\n            fileType === FileTypes.XLS ||\r\n            fileType === FileTypes.PPT\r\n          ) {\r\n            const uploadDriveFunc = async () => {\r\n              const res = await checkFolder();\r\n              if (!res.error) {\r\n                const fileRes = await createDriveFile(res.folderId, file);\r\n                if (!fileRes.error) {\r\n                  const urlRes = await getDriveFile(fileRes.fileId);\r\n                  if (!urlRes.error) {\r\n                    data = urlRes.fileUrl;\r\n                    extra = {\r\n                      fileId: urlRes.fileId,\r\n                      onDrive: true,\r\n                    };\r\n                    console.log(extra);\r\n                  }\r\n                }\r\n              }\r\n            };\r\n            if (!isSignedIn()) {\r\n              this.setGoogleModalOn(true);\r\n              listenAuthState(async (signedIn) => {\r\n                if (signedIn) {\r\n                  await uploadDriveFunc();\r\n                  console.log(extra);\r\n                  this.props.fileSystem.createNewFile(\r\n                    this.state.currentDirectory.getHash(),\r\n                    fileName,\r\n                    data,\r\n                    ext,\r\n                    extra\r\n                  );\r\n                  this.reloadCurrentContent();\r\n                }\r\n              });\r\n              return;\r\n            } else {\r\n              await uploadDriveFunc();\r\n            }\r\n          } else {\r\n            data = await blobToTxt(file);\r\n          }\r\n\r\n          this.props.fileSystem.createNewFile(\r\n            this.state.currentDirectory.getHash(),\r\n            fileName,\r\n            data,\r\n            ext,\r\n            extra\r\n          );\r\n          this.reloadCurrentContent();\r\n        }\r\n      }\r\n    } else {\r\n      const hash = e.dataTransfer.getData(\"hash\");\r\n      const parent = e.dataTransfer.getData(\"parent\");\r\n      const destination = this.state.currentDirectory.getHash();\r\n      this.props.fileSystem.moveNode(parent, hash, destination);\r\n      this.reloadCurrentContent();\r\n    }\r\n  };\r\n\r\n  handleBinContextMenu(e, metadata) {\r\n    window.addEventListener(\"click\", this.closePopUp);\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.setPopUp(e.clientX, e.clientY, [\r\n      {\r\n        content: \"Deep Delete\",\r\n        func: () => this.deleteNode(metadata.hash),\r\n      },\r\n    ]);\r\n  }\r\n\r\n  handleExplorerContextMenu(e) {\r\n    window.addEventListener(\"click\", this.closePopUp);\r\n    e.preventDefault();\r\n    this.setPopUp(e.clientX, e.clientY, [\r\n      {\r\n        content: \"Open Terminal\",\r\n        func: () =>\r\n          this.props.addCurrentConsole(this.state.currentDirectory.getHash()),\r\n      },\r\n    ]);\r\n  }\r\n\r\n  handleAppContextMenu(e, metadata) {\r\n    window.addEventListener(\"click\", this.closePopUp);\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    if (metadata.type === TYPES.DIR) {\r\n      this.setPopUp(e.clientX, e.clientY, [\r\n        {\r\n          content: \"Delete\",\r\n          func: () => this.deleteNode(metadata.hash),\r\n        },\r\n        {\r\n          content: \"Rename\",\r\n          func: () => {\r\n            this.setNameOnChange(metadata.hash, true);\r\n          },\r\n        },\r\n        {\r\n          content: \"Open with code editor\",\r\n          func: () => {\r\n            this.props.setCodeEditorRoot(metadata.hash);\r\n          },\r\n        },\r\n        {\r\n          content: \"Open in new window\",\r\n          func: () => {\r\n            this.props.openWindow(metadata.hash);\r\n          },\r\n        },\r\n      ]);\r\n    } else if (metadata.type === TYPES.FILE) {\r\n      this.setPopUp(e.clientX, e.clientY, [\r\n        {\r\n          content: \"Delete\",\r\n          func: () => this.deleteNode(metadata.hash),\r\n        },\r\n        {\r\n          content: \"Rename\",\r\n          func: () => {\r\n            this.setNameOnChange(metadata.hash, true);\r\n          },\r\n        },\r\n        {\r\n          content: \"Open with code editor\",\r\n          func: () => {\r\n            this.props.setCodeEditorRoot(\r\n              this.props.fileSystem.getFile(metadata.hash).getParent()\r\n            );\r\n          },\r\n        },\r\n        {\r\n          content: \"Open as web app\",\r\n          func: () => {\r\n            this.props.addCurrentWindow(metadata.hash);\r\n          },\r\n        },\r\n        {\r\n          content: \"Install as web app\",\r\n          func: () => {\r\n            this.props.setInstallHash(metadata.hash);\r\n          },\r\n        },\r\n      ]);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let entries = [];\r\n    const currentDirectory = this.state.currentDirectory;\r\n    const currentContent = this.state.currentContent;\r\n    const scale = this.props.systemData.iconSize;\r\n\r\n    if (currentDirectory && currentContent !== {}) {\r\n      const parent = currentDirectory.getParent();\r\n      if (parent)\r\n        entries.push(\r\n          <AppIcon\r\n            key={\"back_btn\"}\r\n            icon={\r\n              <ArrowLeftOutlined\r\n                style={{ fontSize: 30, color: themeColors.red }}\r\n              />\r\n            }\r\n            name={\"Back\"}\r\n            type={null}\r\n            width={100}\r\n            height={110}\r\n            onClick={(e) => {\r\n              this.changeCurrentDirectory(parent);\r\n            }}\r\n            nameOnChange={false}\r\n            nameChangable={false}\r\n            scale={scale}\r\n          />\r\n        );\r\n\r\n      for (let key in currentContent) {\r\n        const metadata = currentContent[key].metadata;\r\n        entries.push(\r\n          <AppIcon\r\n            key={metadata.hash}\r\n            icon={\r\n              metadata.type === TYPES.DIR ? (\r\n                <FolderOpenTwoTone\r\n                  style={{ fontSize: 30 }}\r\n                  twoToneColor={themeColors.yellow}\r\n                />\r\n              ) : getFileType(metadata.ext) === FileTypes.IMG ? (\r\n                <FileImageTwoTone\r\n                  style={{ fontSize: 30 }}\r\n                  twoToneColor={themeColors.yellow}\r\n                />\r\n              ) : getFileType(metadata.ext) === FileTypes.VID ? (\r\n                <VideoCameraTwoTone\r\n                  style={{ fontSize: 30 }}\r\n                  twoToneColor={themeColors.yellow}\r\n                />\r\n              ) : getFileType(metadata.ext) === FileTypes.XML ? (\r\n                <FileMarkdownTwoTone\r\n                  style={{ fontSize: 30 }}\r\n                  twoToneColor={themeColors.yellow}\r\n                />\r\n              ) : getFileType(metadata.ext) === FileTypes.JS ? (\r\n                <CodeTwoTone\r\n                  style={{ fontSize: 30 }}\r\n                  twoToneColor={themeColors.yellow}\r\n                />\r\n              ) : getFileType(metadata.ext) === FileTypes.DOC ? (\r\n                <FileWordTwoTone\r\n                  style={{ fontSize: 30 }}\r\n                  twoToneColor={themeColors.yellow}\r\n                />\r\n              ) : getFileType(metadata.ext) === FileTypes.PPT ? (\r\n                <FilePptTwoTone\r\n                  style={{ fontSize: 30 }}\r\n                  twoToneColor={themeColors.yellow}\r\n                />\r\n              ) : getFileType(metadata.ext) === FileTypes.XLS ? (\r\n                <FileExcelTwoTone\r\n                  style={{ fontSize: 30 }}\r\n                  twoToneColor={themeColors.yellow}\r\n                />\r\n              ) : (\r\n                <FileTextTwoTone\r\n                  style={{ fontSize: 30 }}\r\n                  twoToneColor={themeColors.yellow}\r\n                />\r\n              )\r\n            }\r\n            name={metadata.name}\r\n            type={metadata.type}\r\n            width={100}\r\n            height={110}\r\n            onClick={(e) => {\r\n              if (currentDirectory.getHash() === \"bin\")\r\n                alert(\"Cannot open nodes inside the recycle bin!\");\r\n              else this.handleAppClick(metadata);\r\n            }}\r\n            onRightClick={(e) => {\r\n              if (currentDirectory.getHash() === \"bin\")\r\n                this.handleBinContextMenu(e, metadata);\r\n              else this.handleAppContextMenu(e, metadata);\r\n            }}\r\n            draggable={true}\r\n            onDragStart={(e) =>\r\n              this.handleAppDrag(e, metadata.hash, currentDirectory.getHash())\r\n            }\r\n            onDragEnd={(e) => {\r\n              if (e.dataTransfer.dragEffect === \"none\") {\r\n                console.log(\"no effect\");\r\n              } else {\r\n                this.reloadCurrentContent();\r\n              }\r\n            }}\r\n            nameOnChange={currentContent[key].nameOnChange}\r\n            setNameOnChange={(value) => this.setNameOnChange(key, value)}\r\n            saveName={(value, type) => this.saveName(key, value, type)}\r\n            scale={scale}\r\n          />\r\n        );\r\n      }\r\n      if (currentDirectory.getHash() !== \"bin\")\r\n        entries.push(\r\n          <AppIcon\r\n            key={\"create_btn\"}\r\n            icon={\r\n              <PlusOutlined\r\n                style={{ fontSize: 30, color: themeColors.green }}\r\n              />\r\n            }\r\n            name={\"Create\"}\r\n            width={100}\r\n            height={110}\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              window.addEventListener(\"click\", this.closePopUp);\r\n              this.setPopUp(e.clientX, e.clientY, [\r\n                { content: \"Create File\", func: this.createFile },\r\n                { content: \"Create Folder\", func: this.createDirectory },\r\n              ]);\r\n            }}\r\n            nameChangable={false}\r\n            nameOnChange={false}\r\n            scale={scale}\r\n          />\r\n        );\r\n    }\r\n\r\n    return (\r\n      <div\r\n        style={{\r\n          ...GUIStyle.section,\r\n          width:\r\n            Math.floor(\r\n              (this.props.dims.width * 0.9) / (100 * scale ? scale : 1)\r\n            ) * (100 * scale ? scale : 1),\r\n          ...this.props.style,\r\n        }}\r\n        onDragOver={(e) => {\r\n          e.preventDefault();\r\n        }}\r\n        onDrop={(e) => this.handleDrop(e)}\r\n        onContextMenu={(e) => this.handleExplorerContextMenu(e)}\r\n      >\r\n        {this.state.googleModalOn && (\r\n          <GoogleAuthModal setModalOn={this.setGoogleModalOn} />\r\n        )}\r\n        {currentDirectory ? (\r\n          currentDirectory.getHash() === \"root\" ? (\r\n            <div style={GUIStyle.title}>{\"File Explorer\"}</div>\r\n          ) : currentDirectory.getHash() === \"bin\" ? (\r\n            <div style={GUIStyle.title}>{\"Recycle Bin\"}</div>\r\n          ) : (\r\n            <div style={GUIStyle.title}>{currentDirectory.getName()}</div>\r\n          )\r\n        ) : (\r\n          <></>\r\n        )}\r\n        <div style={GUIStyle.appBar}>\r\n          {this.state.popUpOn && (\r\n            <PopUpMenu\r\n              top={this.state.popUpPosition.y}\r\n              left={this.state.popUpPosition.x}\r\n              entries={this.state.popUpEntries}\r\n            />\r\n          )}\r\n          {entries}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FileExplorerGUI;\r\n","import { themeColors } from \"../../config.js\";\r\nexport const windowStyle = {\r\n  panel: {\r\n    position: \"absolute\",\r\n    top: 0,\r\n    right: 0,\r\n    left: 0,\r\n    height: 25,\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    justifyContent: \"flex-end\",\r\n    alignItems: \"center\",\r\n    backgroundColor: themeColors.optionColor,\r\n    borderTopLeftRadius: 5,\r\n    borderTopRightRadius: 5,\r\n  },\r\n  title: {\r\n    flex: 1,\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    paddingLeft: 10,\r\n    color: themeColors.optionTextColor,\r\n    fontFamily: \"roboto\",\r\n    whiteSpace: \"nowrap\",\r\n    cursor: \"grab\",\r\n    overflow: \"hidden\",\r\n  },\r\n  controlBtn: {\r\n    margin: 2,\r\n    height: 16,\r\n    width: 16,\r\n    borderRadius: 8,\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    cursor: \"pointer\",\r\n  },\r\n  content: {\r\n    position: \"absolute\",\r\n    top: 25,\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n    display: \"flex\",\r\n    flex: 1,\r\n    borderBottomLeftRadius: 5,\r\n    borderBottomRightRadius: 5,\r\n    flexDirection: \"column\",\r\n    justifyContent: \"flex-start\",\r\n    alignItems: \"flex-start\",\r\n    overflow: \"auto\",\r\n  },\r\n};\r\n","import { useEffect, useRef, useCallback } from \"react\";\r\n\r\nconst Draggable = ({\r\n  children,\r\n  id,\r\n  style,\r\n  draggable,\r\n  headerRef,\r\n  changePosition,\r\n  onClick = () => {},\r\n  onFinishDrag = () => {},\r\n}) => {\r\n  const left = useRef(0);\r\n  const top = useRef(0);\r\n  const _window = useRef();\r\n\r\n  const dragElement = useCallback((e) => {\r\n    const ele = _window.current;\r\n    e = e || window.event;\r\n    e.preventDefault();\r\n    const currentX = Math.max(0, Math.min(e.clientX, window.innerWidth));\r\n    const currentY = Math.max(0, Math.min(e.clientY, window.innerHeight));\r\n    const diffLeft = left.current - currentX;\r\n    const diffTop = top.current - currentY;\r\n    left.current = currentX;\r\n    top.current = currentY;\r\n    ele.style.top =\r\n      Math.max(0, Math.min(ele.offsetTop - diffTop, window.innerHeight - 25)) +\r\n      \"px\";\r\n    ele.style.left =\r\n      Math.max(\r\n        0,\r\n        Math.min(ele.offsetLeft - diffLeft, window.innerWidth - 120)\r\n      ) + \"px\";\r\n  }, []);\r\n\r\n  const touchDragElement = useCallback((e) => {\r\n    const ele = _window.current;\r\n    e = e || window.event;\r\n    const currentX = Math.max(\r\n      0,\r\n      Math.min(e.touches[0].clientX, window.innerWidth)\r\n    );\r\n    const currentY = Math.max(\r\n      0,\r\n      Math.min(e.touches[0].clientY, window.innerHeight)\r\n    );\r\n    const diffLeft = left.current - currentX;\r\n    const diffTop = top.current - currentY;\r\n    left.current = currentX;\r\n    top.current = currentY;\r\n    ele.style.top =\r\n      Math.max(0, Math.min(ele.offsetTop - diffTop, window.innerHeight - 25)) +\r\n      \"px\";\r\n    ele.style.left =\r\n      Math.max(\r\n        0,\r\n        Math.min(ele.offsetLeft - diffLeft, window.innerWidth - 120)\r\n      ) + \"px\";\r\n  }, []);\r\n\r\n  const closeDragElement = useCallback((e) => {\r\n    const ele = _window.current;\r\n    headerRef.current.style.cursor = \"grab\";\r\n    _window.current.style.transition = \"top 0.1s, left 0.1s\";\r\n    changePosition(ele.style.left, ele.style.top);\r\n    window.removeEventListener(\"mouseup\", closeDragElement);\r\n    window.removeEventListener(\"mousemove\", dragElement);\r\n    const iframes = document.getElementsByTagName(\"iframe\");\r\n    for (let f of iframes) {\r\n      f.style.pointerEvents = \"auto\";\r\n    }\r\n    onFinishDrag(ele.style.left, ele.style.top);\r\n  }, []);\r\n\r\n  const closeTouchDragElement = useCallback((e) => {\r\n    const ele = _window.current;\r\n    headerRef.current.style.cursor = \"grab\";\r\n    _window.current.style.transition = \"top 0.1s, left 0.1s\";\r\n    changePosition(ele.style.left, ele.style.top);\r\n    window.removeEventListener(\"touchend\", closeTouchDragElement);\r\n    window.removeEventListener(\"touchmove\", touchDragElement);\r\n    const iframes = document.getElementsByTagName(\"iframe\");\r\n    for (let f of iframes) {\r\n      f.style.pointerEvents = \"auto\";\r\n    }\r\n    onFinishDrag(ele.style.left, ele.style.top);\r\n  }, []);\r\n\r\n  const dragMouseDown = useCallback((e) => {\r\n    e = e || window.event;\r\n    e.preventDefault();\r\n    left.current = e.clientX;\r\n    top.current = e.clientY;\r\n    headerRef.current.style.cursor = \"grabbing\";\r\n    _window.current.style.transition = \"none\";\r\n    window.addEventListener(\"mouseup\", closeDragElement);\r\n    window.addEventListener(\"mousemove\", dragElement);\r\n    const iframes = document.getElementsByTagName(\"iframe\");\r\n    for (let f of iframes) {\r\n      f.style.pointerEvents = \"none\";\r\n    }\r\n  }, []);\r\n\r\n  const dragTouchStart = useCallback((e) => {\r\n    e = e || window.event;\r\n    e.preventDefault();\r\n    left.current = e.touches[0].clientX;\r\n    top.current = e.touches[0].clientY;\r\n    headerRef.current.style.cursor = \"grabbing\";\r\n    _window.current.style.transition = \"none\";\r\n    window.addEventListener(\"touchend\", closeTouchDragElement);\r\n    window.addEventListener(\"touchmove\", touchDragElement);\r\n    const iframes = document.getElementsByTagName(\"iframe\");\r\n    for (let f of iframes) {\r\n      f.style.pointerEvents = \"none\";\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (draggable) {\r\n      if (headerRef.current) {\r\n        headerRef.current.addEventListener(\"mousedown\", dragMouseDown);\r\n        headerRef.current.addEventListener(\"touchstart\", dragTouchStart);\r\n      }\r\n    } else {\r\n      headerRef.current.removeEventListener(\"mousedown\", dragMouseDown);\r\n      headerRef.current.removeEventListener(\"touchstart\", dragTouchStart);\r\n      window.removeEventListener(\"mouseup\", closeDragElement);\r\n      window.removeEventListener(\"mousemove\", dragElement);\r\n      window.removeEventListener(\"touchend\", closeTouchDragElement);\r\n      window.removeEventListener(\"touchmove\", touchDragElement);\r\n      _window.current.style.top = 0;\r\n      _window.current.style.left = 0;\r\n    }\r\n    return () => {\r\n      if (headerRef.current) {\r\n        headerRef.current.removeEventListener(\"mousedown\", dragMouseDown);\r\n        headerRef.current.removeEventListener(\"touchstart\", dragTouchStart);\r\n      }\r\n    };\r\n  }, [draggable]);\r\n\r\n  return (\r\n    <div\r\n      id={id + \"_window\"}\r\n      ref={(ref) => {\r\n        _window.current = ref;\r\n      }}\r\n      style={style}\r\n      onClick={onClick}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Draggable;\r\n","import { themeColors } from \"../../config.js\";\r\nexport const resizeableStyle = {\r\n  frame: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"flex-start\",\r\n    alignItems: \"stretch\",\r\n    position: \"absolute\",\r\n    backgroundColor: themeColors.backgroundTheme,\r\n    boxShadow: \"0 0 10px rgba(0,0,0,0.5)\",\r\n  },\r\n  resizerR: {\r\n    position: \"absolute\",\r\n    cursor: \"col-resize\",\r\n    height: \"100%\",\r\n    right: -5,\r\n    top: 0,\r\n    width: \"5px\",\r\n  },\r\n  resizerB: {\r\n    position: \"absolute\",\r\n    cursor: \"row-resize\",\r\n    height: \"5px\",\r\n    left: 0,\r\n    bottom: -5,\r\n    width: \"100%\",\r\n  },\r\n};\r\n","import { useRef, useCallback, useEffect } from \"react\";\r\nimport { resizeableStyle } from \"./style.js\";\r\n\r\nconst Resizeable = ({\r\n  children,\r\n  resizeable,\r\n  screenMode,\r\n  onResize,\r\n  style,\r\n  initWidth,\r\n  initHeight,\r\n  minWidth,\r\n  minHeight,\r\n  onFinishResize = () => {},\r\n}) => {\r\n  const width = useRef(initWidth);\r\n  const height = useRef(initHeight);\r\n  const x = useRef(0);\r\n  const y = useRef(0);\r\n  const _frame = useRef();\r\n  const resizerB = useRef();\r\n  const resizerR = useRef();\r\n\r\n  useEffect(() => {\r\n    if (screenMode === 0) {\r\n      onResize(0, 0);\r\n      setTimeout(() => onFinishResize(0, 0), 100);\r\n    } else if (screenMode === 1) {\r\n      onResize(width.current, height.current);\r\n      setTimeout(() => onFinishResize(width.current, height.current), 100);\r\n    } else if (screenMode === 2) {\r\n      onResize(window.innerWidth, window.innerHeight);\r\n      setTimeout(\r\n        () => onFinishResize(window.innerWidth, window.innerHeight),\r\n        100\r\n      );\r\n    }\r\n  }, [screenMode]);\r\n\r\n  useEffect(() => {\r\n    if (resizeable) {\r\n      if (resizerB.current && resizerR.current) {\r\n        resizerB.current.addEventListener(\"mousedown\", resizeMouseDown);\r\n        resizerR.current.addEventListener(\"mousedown\", resizeMouseDown);\r\n        resizerB.current.addEventListener(\"touchstart\", resizeTouchStart);\r\n        resizerR.current.addEventListener(\"touchstart\", resizeTouchStart);\r\n      }\r\n    } else {\r\n      resizerB.current.removeEventListener(\"mousedown\", resizeMouseDown);\r\n      resizerR.current.removeEventListener(\"mousedown\", resizeMouseDown);\r\n      resizerB.current.removeEventListener(\"touchstart\", resizeTouchStart);\r\n      resizerR.current.removeEventListener(\"touchstart\", resizeTouchStart);\r\n      window.removeEventListener(\"mousemove\", resizeElement);\r\n      window.removeEventListener(\"mouseup\", closeResizeElement);\r\n      window.removeEventListener(\"touchmove\", touchResizeElement);\r\n      window.removeEventListener(\"touchend\", closeResizeElement);\r\n    }\r\n  }, [resizeable]);\r\n\r\n  const resizeElement = useCallback((e) => {\r\n    e = e || window.event;\r\n    e.preventDefault();\r\n    const dx = e.clientX - x.current;\r\n    const dy = e.clientY - y.current;\r\n    const newWidth = Math.max(\r\n      minWidth,\r\n      Math.min(width.current + dx, window.innerWidth)\r\n    );\r\n    const newHeight = Math.max(\r\n      minHeight,\r\n      Math.min(height.current + dy, window.innerWidth)\r\n    );\r\n    _frame.current.style.width = `${newWidth}px`;\r\n    _frame.current.style.height = `${newHeight}px`;\r\n    onResize(newWidth, newHeight);\r\n  }, []);\r\n\r\n  const touchResizeElement = useCallback((e) => {\r\n    e = e || window.event;\r\n    const dx = e.touches[0].clientX - x.current;\r\n    const dy = e.touches[0].clientY - y.current;\r\n    const newWidth = Math.max(\r\n      minWidth,\r\n      Math.min(width.current + dx, window.innerWidth)\r\n    );\r\n    const newHeight = Math.max(\r\n      minHeight,\r\n      Math.min(height.current + dy, window.innerWidth)\r\n    );\r\n    _frame.current.style.width = `${newWidth}px`;\r\n    _frame.current.style.height = `${newHeight}px`;\r\n    onResize(newWidth, newHeight);\r\n  }, []);\r\n\r\n  const closeResizeElement = useCallback((e) => {\r\n    e = e || window.event;\r\n    width.current = Number(_frame.current.style.width.replace(/\\D./g, \"\"));\r\n    height.current = Number(_frame.current.style.height.replace(/\\D./g, \"\"));\r\n    _frame.current.style.transition = \"width 0.1s, height 0.1s\";\r\n    window.removeEventListener(\"mousemove\", resizeElement);\r\n    window.removeEventListener(\"mouseup\", closeResizeElement);\r\n    const iframes = document.getElementsByTagName(\"iframe\");\r\n    for (let f of iframes) {\r\n      f.style.pointerEvents = \"auto\";\r\n    }\r\n    onFinishResize(width.current, height.current);\r\n  }, []);\r\n\r\n  const closeTouchResizeElement = useCallback((e) => {\r\n    e = e || window.event;\r\n    width.current = Number(_frame.current.style.width.replace(/\\D./g, \"\"));\r\n    height.current = Number(_frame.current.style.height.replace(/\\D./g, \"\"));\r\n    _frame.current.style.transition = \"width 0.1s, height 0.1s\";\r\n    window.removeEventListener(\"touchmove\", touchResizeElement);\r\n    window.removeEventListener(\"touchend\", closeTouchResizeElement);\r\n    const iframes = document.getElementsByTagName(\"iframe\");\r\n    for (let f of iframes) {\r\n      f.style.pointerEvents = \"auto\";\r\n    }\r\n    onFinishResize(width.current, height.current);\r\n  }, []);\r\n\r\n  const resizeMouseDown = useCallback((e) => {\r\n    e = e || window.event;\r\n    x.current = e.clientX;\r\n    y.current = e.clientY;\r\n    _frame.current.style.transition = \"none\";\r\n    const dims = window.getComputedStyle(_frame.current);\r\n    width.current = parseInt(dims.width, 10);\r\n    height.current = parseInt(dims.height, 10);\r\n    window.addEventListener(\"mousemove\", resizeElement);\r\n    window.addEventListener(\"mouseup\", closeResizeElement);\r\n    const iframes = document.getElementsByTagName(\"iframe\");\r\n    for (let f of iframes) {\r\n      f.style.pointerEvents = \"none\";\r\n    }\r\n  }, []);\r\n\r\n  const resizeTouchStart = useCallback((e) => {\r\n    e = e || window.event;\r\n    x.current = e.touches[0].clientX;\r\n    y.current = e.touches[0].clientY;\r\n    _frame.current.style.transition = \"none\";\r\n    const dims = window.getComputedStyle(_frame.current);\r\n    width.current = parseInt(dims.width, 10);\r\n    height.current = parseInt(dims.height, 10);\r\n    window.addEventListener(\"touchmove\", touchResizeElement);\r\n    window.addEventListener(\"touchend\", closeTouchResizeElement);\r\n    const iframes = document.getElementsByTagName(\"iframe\");\r\n    for (let f of iframes) {\r\n      f.style.pointerEvents = \"none\";\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      ref={_frame}\r\n      style={{\r\n        ...resizeableStyle.frame,\r\n        width:\r\n          screenMode === 0\r\n            ? 120\r\n            : screenMode === 2\r\n            ? window.innerWidth\r\n            : width.current,\r\n        height:\r\n          screenMode === 0\r\n            ? 0\r\n            : screenMode === 2\r\n            ? window.innerHeight\r\n            : height.current,\r\n        transition: \"width 0.1s, height 0.1s\",\r\n        ...style,\r\n      }}\r\n    >\r\n      {children}\r\n      <div ref={resizerB} style={resizeableStyle.resizerB}></div>\r\n      <div ref={resizerR} style={resizeableStyle.resizerR}></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Resizeable;\r\n","import { useState, useRef } from \"react\";\r\nimport { windowStyle } from \"./style.js\";\r\nimport { MinusOutlined, PlusOutlined, CloseOutlined } from \"@ant-design/icons\";\r\nimport { themeColors } from \"../../config.js\";\r\nimport Draggable from \"../Draggable\";\r\nimport Resizeable from \"../Resizeable\";\r\nimport { lString } from \"../../utils.js\";\r\n\r\nconst Window = ({\r\n  id,\r\n  top,\r\n  left,\r\n  name,\r\n  children,\r\n  width = 400,\r\n  height = 400,\r\n  minWidth = 200,\r\n  minHeight = 200,\r\n  onClick = () => {},\r\n  onCancel = () => {},\r\n  onResize = () => {},\r\n  onFinishResize = () => {},\r\n  onFinishDrag = () => {},\r\n}) => {\r\n  const [screenMode, changeScreenMode] = useState(1);\r\n  const [posY, changeY] = useState(top);\r\n  const [posX, changeX] = useState(left);\r\n\r\n  const headerRef = useRef();\r\n\r\n  const highlight = (e) => {\r\n    e.target.style.opacity = 0.5;\r\n  };\r\n  const unhighlight = (e) => {\r\n    e.target.style.opacity = 1;\r\n  };\r\n  const changeMode = (diff) => {\r\n    changeScreenMode(Math.max(0, Math.min(2, screenMode + diff)));\r\n  };\r\n  const changePosition = (x, y) => {\r\n    changeX(x);\r\n    changeY(y);\r\n  };\r\n\r\n  const panel = (\r\n    <div style={windowStyle.panel}>\r\n      <div style={windowStyle.title} ref={headerRef}>\r\n        {screenMode === 0\r\n          ? lString(name, 8, \"...\")\r\n          : screenMode === 1\r\n          ? lString(name, 25, \"...\")\r\n          : lString(name, 50, \"...\")}\r\n      </div>\r\n      {screenMode === 0 ? (\r\n        <></>\r\n      ) : (\r\n        <div\r\n          style={{\r\n            ...windowStyle.controlBtn,\r\n            backgroundColor: themeColors.green,\r\n          }}\r\n          onClick={() => changeMode(-1)}\r\n          onMouseOver={highlight}\r\n          onMouseOut={unhighlight}\r\n        >\r\n          <MinusOutlined\r\n            style={{ fontSize: 10, color: themeColors.transparentBlack }}\r\n          />\r\n        </div>\r\n      )}\r\n      {screenMode === 2 ? (\r\n        <></>\r\n      ) : (\r\n        <div\r\n          style={{\r\n            ...windowStyle.controlBtn,\r\n            backgroundColor: themeColors.yellow,\r\n          }}\r\n          onClick={() => changeMode(1)}\r\n          onMouseOver={highlight}\r\n          onMouseOut={unhighlight}\r\n        >\r\n          <PlusOutlined\r\n            style={{ fontSize: 10, color: themeColors.transparentBlack }}\r\n          />\r\n        </div>\r\n      )}\r\n      <div\r\n        style={{\r\n          ...windowStyle.controlBtn,\r\n          backgroundColor: themeColors.red,\r\n        }}\r\n        onClick={onCancel}\r\n        onMouseOver={highlight}\r\n        onMouseOut={unhighlight}\r\n      >\r\n        <CloseOutlined\r\n          style={{ fontSize: 10, color: themeColors.transparentBlack }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Draggable\r\n      id={id}\r\n      draggable={screenMode === 1 || screenMode === 0}\r\n      headerRef={headerRef}\r\n      changePosition={changePosition}\r\n      onClick={onClick}\r\n      onFinishDrag={onFinishDrag}\r\n      style={\r\n        screenMode === 2\r\n          ? {\r\n              position: \"fixed\",\r\n              top: 0,\r\n              left: 0,\r\n              right: 0,\r\n              bottom: 0,\r\n              backgroundColor: themeColors.windowBackground,\r\n              zIndex: 11,\r\n              transition: \"top 0.1s, left 0.1s\",\r\n            }\r\n          : {\r\n              position: \"fixed\",\r\n              top: posY,\r\n              left: posX,\r\n              backgroundColor: themeColors.windowBackground,\r\n              zIndex: 11,\r\n              transition: \"top 0.1s, left 0.1s\",\r\n            }\r\n      }\r\n    >\r\n      <Resizeable\r\n        resizeable={screenMode !== 0}\r\n        screenMode={screenMode}\r\n        onResize={onResize}\r\n        onFinishResize={onFinishResize}\r\n        initWidth={width}\r\n        initHeight={height}\r\n        minWidth={minWidth}\r\n        minHeight={minHeight}\r\n        style={{\r\n          border: screenMode === 1 ? \"1px solid white\" : \"none\",\r\n          borderRadius: screenMode === 1 ? 5 : 0,\r\n        }}\r\n      >\r\n        {panel}\r\n        <div\r\n          style={{\r\n            ...windowStyle.content,\r\n            display: screenMode === 0 ? \"none\" : \"flex\",\r\n          }}\r\n        >\r\n          {children}\r\n        </div>\r\n      </Resizeable>\r\n    </Draggable>\r\n  );\r\n};\r\n\r\nexport default Window;\r\n","import React from \"react\";\r\nimport styles from \"../../styles\";\r\nimport FileExplorerGUI from \"../FileExplorerGUI\";\r\nimport Window from \"../Window\";\r\n\r\nclass WindowedFileExplorer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      width: null,\r\n      height: null,\r\n    };\r\n    this.resizeWindow = this.resizeWindow.bind(this);\r\n  }\r\n\r\n  resizeWindow(width, height) {\r\n    this.setState((state) => ({\r\n      ...state,\r\n      width,\r\n      height,\r\n    }));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Window\r\n        id={this.props.id}\r\n        top={0}\r\n        left={0}\r\n        name={\"File Explorer\"}\r\n        onClick={this.props.onFocus}\r\n        onCancel={this.props.closeWindow}\r\n        onResize={this.resizeWindow}\r\n      >\r\n        <div style={{ ...styles.column, alignSelf: \"stretch\" }}>\r\n          <FileExplorerGUI\r\n            fileSystem={this.props.fileSystem}\r\n            setCodeEditorRoot={this.props.setCodeEditorRoot}\r\n            setInstallHash={this.props.setInstallHash}\r\n            root={this.props.root}\r\n            dims={{ width: this.state.width, height: this.state.height }}\r\n            openWindow={this.props.openWindow}\r\n            addCurrentFile={this.props.addCurrentFile}\r\n            addCurrentWindow={this.props.addCurrentWindow}\r\n            closeCurrentWindow={this.props.closeCurrentWindow}\r\n            closeCurrentFile={this.props.closeCurrentFile}\r\n            saveCurrentFile={this.props.saveCurrentFile}\r\n            systemData={this.props.systemData}\r\n          />\r\n        </div>\r\n      </Window>\r\n    );\r\n  }\r\n}\r\n\r\nexport default WindowedFileExplorer;\r\n","import { themeColors } from \"../../config\";\r\nexport const sysAppExplorerStyles = {\r\n  section: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    flexDirection: \"column\",\r\n    backgroundColor: themeColors.transparentBlack,\r\n    borderRadius: 20,\r\n    margin: 10,\r\n    maxWidth: 800,\r\n    transition: \"width 0.2s\",\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    color: themeColors.optionTextColor,\r\n    fontFamily: \"roboto\",\r\n    margin: 10,\r\n    textShadow: \"0 0 5px white\",\r\n  },\r\n  appBar: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    flexDirection: \"row\",\r\n    margin: 0,\r\n    alignSelf: \"stretch\",\r\n    justifyContent: \"flex-start\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n};\r\n","import React, { useState } from \"react\";\r\nimport styles from \"../../styles\";\r\nimport AppIcon from \"../../components/AppIcon\";\r\nimport { DeleteOutlined } from \"@ant-design/icons\";\r\nimport WindowedFileExplorer from \"../../components/WindowedFileExplorer\";\r\nimport { themeColors } from \"../../config.js\";\r\n\r\nconst TrashBin = (props) => {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  if (open) {\r\n    return (\r\n      <div>\r\n        <WindowedFileExplorer\r\n          fileSystem={props.fileSystem}\r\n          id={\"bin\"}\r\n          name={\"Recycle Bin\"}\r\n          root={\"bin\"}\r\n          closeWindow={() => setOpen(!open)}\r\n          systemData={props.systemData}\r\n        />\r\n        <AppIcon\r\n          key={\"trash_bin\"}\r\n          icon={\r\n            <DeleteOutlined\r\n              style={{ fontSize: 30, color: themeColors.yellow }}\r\n            />\r\n          }\r\n          name={\"Recycle Bin\"}\r\n          width={100}\r\n          height={110}\r\n          onClick={() => setOpen(!open)}\r\n          nameOnChange={false}\r\n          nameChangable={false}\r\n          scale={props.scale}\r\n        />\r\n      </div>\r\n    );\r\n  } else {\r\n    return (\r\n      <AppIcon\r\n        key={\"trash_bin\"}\r\n        icon={\r\n          <DeleteOutlined style={{ fontSize: 30, color: themeColors.yellow }} />\r\n        }\r\n        name={\"Recycle Bin\"}\r\n        width={100}\r\n        height={110}\r\n        onClick={() => setOpen(!open)}\r\n        nameOnChange={false}\r\n        nameChangable={false}\r\n        scale={props.scale}\r\n      />\r\n    );\r\n  }\r\n};\r\n\r\nexport default TrashBin;\r\n","import AppIcon from \"../../components/AppIcon\";\r\nimport { AppstoreOutlined } from \"@ant-design/icons\";\r\nimport { themeColors } from \"../../config.js\";\r\n\r\nconst AppViewer = ({ toggleAppExplorer, scale }) => {\r\n  return (\r\n    <AppIcon\r\n      key={\"app_viewer\"}\r\n      icon={\r\n        <AppstoreOutlined style={{ fontSize: 30, color: themeColors.yellow }} />\r\n      }\r\n      name={\"Applications\"}\r\n      width={100}\r\n      height={110}\r\n      onClick={toggleAppExplorer}\r\n      nameOnChange={false}\r\n      nameChangable={false}\r\n      scale={scale}\r\n    />\r\n  );\r\n};\r\n\r\nexport default AppViewer;\r\n","import { themeColors } from \"../../config\";\r\nimport TouchableOpacity from \"../../widgets/TouchableOpacity\";\r\nconst SelectBar = ({ radius, length, index, selectIndex }) => {\r\n  const dots = [];\r\n  for (let i = 0; i < length; i++) {\r\n    dots.push(\r\n      <TouchableOpacity\r\n        key={i}\r\n        style={{\r\n          width: radius * 2,\r\n          height: radius * 2,\r\n          borderRadius: radius,\r\n          margin: radius,\r\n          backgroundColor:\r\n            index === i\r\n              ? themeColors.transparentBlack\r\n              : themeColors.transparentWhite,\r\n        }}\r\n        onClick={() => selectIndex(i)}\r\n      ></TouchableOpacity>\r\n    );\r\n  }\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        margin: 20,\r\n      }}\r\n    >\r\n      {dots}\r\n    </div>\r\n  );\r\n};\r\nexport default SelectBar;\r\n","import { themeColors } from \"../../config\";\r\nconst styles = {\r\n  manuBar: {\r\n    alignSelf: \"stretch\",\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    height: 50,\r\n    backgroundColor: themeColors.transparentBlack,\r\n  },\r\n  component: {\r\n    flex: 1,\r\n    alignSelf: \"stretch\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    position: \"relative\",\r\n    fontFamily: \"orbitron\",\r\n    fontSize: 15,\r\n    overflow: \"hidden\",\r\n  },\r\n  optionBtn: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    alignSelf: \"stretch\",\r\n    flex: 1,\r\n    borderRadius: 0,\r\n    fontSize: 12,\r\n    backgroundColor: themeColors.optionColor,\r\n    color: themeColors.optionTextColor,\r\n  },\r\n  full: {\r\n    display: \"flex\",\r\n    position: \"absolute\",\r\n    flexDirection: \"column\",\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    overflow: \"auto\",\r\n  },\r\n  alarmRow: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\",\r\n    alignSelf: \"stretch\",\r\n    backgroundColor: themeColors.optionColor,\r\n    color: themeColors.optionTextColor,\r\n    border: \"1px solid rgba(255,255,255,0.5)\",\r\n  },\r\n  alarmText: {\r\n    fontSize: 25,\r\n    margin: 10,\r\n  },\r\n  alarmBtn: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n  },\r\n};\r\nexport default styles;\r\n","import Window from \"../../components/Window\";\r\nimport Button from \"../../widgets/Button\";\r\n\r\nimport SelectBar from \"../../components/SelectBar\";\r\nimport {\r\n  ClockCircleOutlined,\r\n  FieldTimeOutlined,\r\n  BellOutlined,\r\n  BellFilled,\r\n  PlusOutlined,\r\n  CaretRightOutlined,\r\n  RollbackOutlined,\r\n  PauseOutlined,\r\n  DeleteOutlined,\r\n} from \"@ant-design/icons\";\r\nimport styles from \"./styles.jsx\";\r\nimport \"react-clock/dist/Clock.css\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { formatDate } from \"../../utils.js\";\r\nimport { themeColors } from \"../../config.js\";\r\nimport { TimePicker } from \"antd\";\r\nimport moment from \"moment\";\r\n\r\nconst ClockModes = {\r\n  CLOCK: 0,\r\n  TIMER: 1,\r\n  ALARM: 2,\r\n};\r\n\r\nexport const OptionBtn = ({ text, icon, onClick }) => {\r\n  return (\r\n    <Button style={styles.optionBtn} onClick={onClick}>\r\n      {icon}\r\n      {text}\r\n    </Button>\r\n  );\r\n};\r\n\r\nconst ClockComp = ({ clockIndex, setClockIndex, clocks, time, refresh }) => {\r\n  const timeString =\r\n    formatDate(time).hour +\r\n    \":\" +\r\n    formatDate(time).minute +\r\n    \":\" +\r\n    formatDate(time).second;\r\n  useEffect(refresh, []);\r\n  return (\r\n    <div style={{ ...styles.full, minHeight: 300 }}>\r\n      {clocks[clockIndex]}\r\n      <SelectBar\r\n        index={clockIndex}\r\n        length={clocks.length}\r\n        selectIndex={setClockIndex}\r\n        radius={5}\r\n      />\r\n      <div\r\n        style={{\r\n          color: themeColors.optionTextColor,\r\n          padding: 10,\r\n          fontWeight: \"bold\",\r\n        }}\r\n      >\r\n        {timeString}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TimerComp = ({\r\n  timer,\r\n  startDate,\r\n  timerVal,\r\n  setStartDate,\r\n  setTimerVal,\r\n}) => {\r\n  const getTimerString = (delta) => {\r\n    const hours = Math.floor((delta / (1000 * 60 * 60)) % 24);\r\n    const mins = Math.floor((delta / 1000 / 60) % 60);\r\n    const secs = Math.floor((delta / 1000) % 60);\r\n    const msecs = Math.floor((delta % 1000) / 10);\r\n    return (\r\n      (hours < 10 ? \"0\" + hours : hours) +\r\n      \":\" +\r\n      (mins < 10 ? \"0\" + mins : mins) +\r\n      \":\" +\r\n      (secs < 10 ? \"0\" + secs : secs) +\r\n      \":\" +\r\n      (msecs < 10 ? \"0\" + msecs : msecs)\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div style={styles.full}>\r\n      <div\r\n        style={{\r\n          color: themeColors.optionTextColor,\r\n          padding: 10,\r\n          fontWeight: \"bold\",\r\n          fontSize: 20,\r\n          width: 150,\r\n        }}\r\n      >\r\n        {getTimerString(timerVal)}\r\n      </div>\r\n      <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n        <Button\r\n          style={{ margin: 5, backgroundColor: themeColors.red }}\r\n          onClick={() => {\r\n            if (startDate === null) {\r\n              const newDate = new Date();\r\n              setStartDate(newDate);\r\n              if (!timer.current)\r\n                timer.current = setInterval(() => {\r\n                  const delta = new Date() - newDate + timerVal;\r\n                  setTimerVal(delta);\r\n                }, 16);\r\n            } else {\r\n              setStartDate(null);\r\n              clearInterval(timer.current);\r\n              timer.current = null;\r\n            }\r\n          }}\r\n        >\r\n          {startDate === null ? <CaretRightOutlined /> : <PauseOutlined />}\r\n        </Button>\r\n        <Button\r\n          style={{ margin: 5 }}\r\n          onClick={() => {\r\n            setStartDate(null);\r\n            clearInterval(timer.current);\r\n            timer.current = null;\r\n            setTimerVal(0);\r\n          }}\r\n        >\r\n          <RollbackOutlined />\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst AlarmComp = ({ systemData, updateSystemData }) => {\r\n  const [time, setTime] = useState(null);\r\n  const alarmObj = systemData\r\n    ? systemData.alarm\r\n      ? systemData.alarm\r\n      : { alarmList: [] }\r\n    : { alarmList: [] };\r\n  const alarmList = alarmObj ? alarmObj.alarmList : [];\r\n  const alarmEntries = alarmList.map((alarm, index) => {\r\n    return (\r\n      <div\r\n        key={index}\r\n        style={{ ...styles.alarmRow, opacity: alarm.disabled ? 0.5 : 1 }}\r\n      >\r\n        <div style={styles.alarmText}>{moment(alarm.time).format(\"HH:mm\")}</div>\r\n        <div style={styles.alarmBtn}>\r\n          <Button\r\n            style={{ margin: 5 }}\r\n            onClick={() => {\r\n              toggleAlarmDisabled(index);\r\n            }}\r\n          >\r\n            {alarm.disabled ? <BellOutlined /> : <BellFilled />}\r\n          </Button>\r\n          <Button\r\n            style={{ margin: 5, backgroundColor: themeColors.red }}\r\n            onClick={() => {\r\n              deleteAlarm(index);\r\n            }}\r\n          >\r\n            <DeleteOutlined />\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  });\r\n  const toggleAlarmDisabled = (index) => {\r\n    const newAlarmList = [...alarmObj.alarmList];\r\n    newAlarmList[index].disabled = !newAlarmList[index].disabled;\r\n    updateSystemData({\r\n      alarm: {\r\n        ...alarmObj,\r\n        alarmList: newAlarmList,\r\n      },\r\n    });\r\n  };\r\n  const deleteAlarm = (index) => {\r\n    const newAlarmList = [...alarmObj.alarmList];\r\n    newAlarmList.splice(index, 1);\r\n    updateSystemData({\r\n      alarm: {\r\n        ...alarmObj,\r\n        alarmList: newAlarmList,\r\n      },\r\n    });\r\n  };\r\n  const addAlarm = () => {\r\n    const newAlarmList = [...alarmObj.alarmList];\r\n    newAlarmList.push({ time: new Date(time), disabled: false });\r\n    updateSystemData({\r\n      alarm: {\r\n        ...alarmObj,\r\n        alarmList: newAlarmList,\r\n      },\r\n    });\r\n  };\r\n  return (\r\n    <div style={{ ...styles.full, justifyContent: \"flex-start\" }}>\r\n      {alarmEntries}\r\n      <div style={{ ...styles.alarmRow, justifyContent: \"center\" }}>\r\n        <TimePicker\r\n          value={time}\r\n          onChange={setTime}\r\n          format={\"HH:mm\"}\r\n          size={\"small\"}\r\n        />\r\n        <Button\r\n          style={{ margin: 10, backgroundColor: themeColors.green }}\r\n          onClick={addAlarm}\r\n        >\r\n          <PlusOutlined />\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ClockApp = ({\r\n  setOpen,\r\n  timer,\r\n  timerVal,\r\n  setTimerVal,\r\n  startDate,\r\n  setStartDate,\r\n  systemData,\r\n  updateSystemData,\r\n  time,\r\n  clockIndex,\r\n  setClockIndex,\r\n  clocks,\r\n  refresh,\r\n}) => {\r\n  const [clockMode, setClockMode] = useState(ClockModes.CLOCK);\r\n  const component =\r\n    clockMode === ClockModes.CLOCK ? (\r\n      <ClockComp\r\n        systemData={systemData}\r\n        updateSystemData={updateSystemData}\r\n        clockIndex={clockIndex}\r\n        setClockIndex={setClockIndex}\r\n        clocks={clocks}\r\n        time={time}\r\n        refresh={refresh}\r\n      />\r\n    ) : clockMode === ClockModes.TIMER ? (\r\n      <TimerComp\r\n        timer={timer}\r\n        timerVal={timerVal}\r\n        setTimerVal={setTimerVal}\r\n        startDate={startDate}\r\n        setStartDate={setStartDate}\r\n      />\r\n    ) : (\r\n      <AlarmComp systemData={systemData} updateSystemData={updateSystemData} />\r\n    );\r\n  return (\r\n    <Window\r\n      id={\"clock\"}\r\n      top={0}\r\n      left={0}\r\n      name={\"Clock\"}\r\n      onCancel={() => setOpen(false)}\r\n    >\r\n      <div style={styles.component}>{component}</div>\r\n      <div style={styles.manuBar}>\r\n        <OptionBtn\r\n          text=\"clock\"\r\n          onClick={() => setClockMode(ClockModes.CLOCK)}\r\n          icon={<ClockCircleOutlined style={{ fontSize: 20, margin: 5 }} />}\r\n        />\r\n        <OptionBtn\r\n          text=\"timer\"\r\n          onClick={() => setClockMode(ClockModes.TIMER)}\r\n          icon={<FieldTimeOutlined style={{ fontSize: 20, margin: 5 }} />}\r\n        />\r\n        <OptionBtn\r\n          text=\"alarm\"\r\n          onClick={() => setClockMode(ClockModes.ALARM)}\r\n          icon={<BellOutlined style={{ fontSize: 20, margin: 5 }} />}\r\n        />\r\n      </div>\r\n    </Window>\r\n  );\r\n};\r\n\r\nexport default ClockApp;\r\n","import AppIcon from \"../../components/AppIcon\";\r\nimport ClockApp from \"./clock.jsx\";\r\nimport RClock from \"react-clock\";\r\nimport { useState, useEffect, useRef } from \"react\";\r\n\r\nconst Clock = ({ systemData, updateSystemData, scale }) => {\r\n  const [isOpen, setOpen] = useState(false);\r\n  const [time, setTime] = useState(new Date());\r\n  const [startDate, setStartDate] = useState(null);\r\n  const [timerVal, setTimerVal] = useState(0);\r\n  const timer = useRef();\r\n  const clockObj = systemData\r\n    ? systemData.clock\r\n      ? systemData.clock\r\n      : { index: 1 }\r\n    : { index: 0 };\r\n  const clockIndex = clockObj.index;\r\n  const setClockIndex = (index) => {\r\n    updateSystemData({\r\n      clock: {\r\n        index,\r\n      },\r\n    });\r\n  };\r\n  const refresh = () => {\r\n    const minuteHands = document.getElementsByClassName(\r\n      \"react-clock__minute-hand__body\"\r\n    );\r\n    const hourHands = document.getElementsByClassName(\r\n      \"react-clock__hour-hand__body\"\r\n    );\r\n    const secHands = document.getElementsByClassName(\r\n      \"react-clock__second-hand__body\"\r\n    );\r\n    const clockFaces = document.getElementsByClassName(\"react-clock__face\");\r\n    for (let i = 0; i < minuteHands.length; i++) {\r\n      minuteHands[i].style.background = clockStyles[clockIndex].minuteHandColor;\r\n    }\r\n    for (let i = 0; i < hourHands.length; i++) {\r\n      hourHands[i].style.background = clockStyles[clockIndex].hourHandColor;\r\n    }\r\n    for (let i = 0; i < secHands.length; i++) {\r\n      secHands[i].style.background = clockStyles[clockIndex].secondHandColor;\r\n    }\r\n    for (let i = 0; i < clockFaces.length; i++) {\r\n      clockFaces[i].style.background = clockStyles[clockIndex].clockFaceColor;\r\n      clockFaces[i].style.color = clockStyles[clockIndex].textColor;\r\n      clockFaces[i].style.border = \"none\";\r\n    }\r\n  };\r\n  useEffect(refresh, [clockIndex]);\r\n  const clocks = [\r\n    <RClock\r\n      value={time}\r\n      hourHandOppositeLength={1}\r\n      minuteHandOppositeLength={1}\r\n      secondHandOppositeLength={1}\r\n      renderNumbers={false}\r\n      renderMinuteMarks={false}\r\n      renderHourMarks={false}\r\n    />,\r\n    <RClock\r\n      value={time}\r\n      renderNumbers={true}\r\n      hourHandOppositeLength={10}\r\n      minuteHandOppositeLength={10}\r\n      renderMinuteMarks={false}\r\n      hourMarksLength={3}\r\n      hourMarksWidth={2}\r\n    />,\r\n    <RClock\r\n      value={time}\r\n      hourHandLength={30}\r\n      minuteHandLength={60}\r\n      secondHandLength={80}\r\n      hourHandOppositeLength={1}\r\n      minuteHandOppositeLength={1}\r\n      secondHandOppositeLength={1}\r\n      renderNumbers={true}\r\n      renderMinuteMarks={false}\r\n      renderHourMarks={true}\r\n      hourMarksLength={0}\r\n    />,\r\n    <RClock\r\n      value={time}\r\n      renderNumbers={false}\r\n      renderMinuteMarks={true}\r\n      renderHourMarks={true}\r\n      hourMarksWidth={3}\r\n      minuteMarksWidth={2}\r\n    />,\r\n    <RClock\r\n      value={time}\r\n      renderNumbers={true}\r\n      renderMinuteMarks={true}\r\n      renderHourMarks={true}\r\n      hourMarksLength={0}\r\n      minuteMarksLength={0}\r\n    />,\r\n  ];\r\n  const clockStyles = [\r\n    {\r\n      minuteHandColor: \"black\",\r\n      hourHandColor: \"black\",\r\n      clockFaceColor: \"white\",\r\n      secondHandColor: \"red\",\r\n      textColor: \"white\",\r\n    },\r\n    {\r\n      minuteHandColor: \"white\",\r\n      hourHandColor: \"white\",\r\n      clockFaceColor: \"red\",\r\n      secondHandColor: \"yellow\",\r\n      textColor: \"white\",\r\n    },\r\n\r\n    {\r\n      minuteHandColor: \"red\",\r\n      hourHandColor: \"red\",\r\n      clockFaceColor: \"black\",\r\n      secondHandColor: \"red\",\r\n      textColor: \"red\",\r\n    },\r\n    {\r\n      minuteHandColor: \"black\",\r\n      hourHandColor: \"black\",\r\n      clockFaceColor: \"linear-gradient(to right, #fc5c7d, #6a82fb)\",\r\n      secondHandColor: \"white\",\r\n      textColor: \"black\",\r\n    },\r\n    {\r\n      minuteHandColor: \"black\",\r\n      hourHandColor: \"black\",\r\n      clockFaceColor: \"linear-gradient(to right, #40e0d0, #ff8c00, #ff0080)\",\r\n      secondHandColor: \"white\",\r\n      textColor: \"black\",\r\n    },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    const alarmObj = systemData ? systemData.alarm : { alarmList: [] };\r\n    const alarmList = alarmObj ? alarmObj.alarmList : [];\r\n    const interval = setInterval(() => {\r\n      const now = new Date();\r\n      for (let alarm of alarmList) {\r\n        const alarmTime = new Date(alarm.time);\r\n        if (\r\n          !alarm.disabled &&\r\n          alarmTime.getHours() === now.getHours() &&\r\n          alarmTime.getMinutes() === now.getMinutes()\r\n        ) {\r\n          window.alert(\"Alarm\");\r\n          return;\r\n        }\r\n      }\r\n    }, 1000);\r\n    return () => {\r\n      clearInterval(interval);\r\n    };\r\n  }, [systemData]);\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      setTime(new Date());\r\n    }, 1000);\r\n    return () => {\r\n      clearInterval(interval);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      {isOpen && (\r\n        <ClockApp\r\n          time={time}\r\n          setOpen={setOpen}\r\n          startDate={startDate}\r\n          setStartDate={setStartDate}\r\n          timerVal={timerVal}\r\n          setTimerVal={setTimerVal}\r\n          timer={timer}\r\n          systemData={systemData}\r\n          updateSystemData={updateSystemData}\r\n          clockIndex={clockIndex}\r\n          setClockIndex={setClockIndex}\r\n          clocks={clocks}\r\n          refresh={refresh}\r\n        />\r\n      )}\r\n      <AppIcon\r\n        key={\"clock\"}\r\n        scale={scale}\r\n        icon={\r\n          <RClock\r\n            value={time}\r\n            size={50}\r\n            hourHandWidth={2}\r\n            minuteHandWidth={1}\r\n            secondHandWidth={0.7}\r\n            secondHandLength={80}\r\n            renderNumbers={false}\r\n            renderSecondHand={true}\r\n            renderMinuteMarks={false}\r\n            renderHourMarks={false}\r\n          />\r\n        }\r\n        name={\"Clock\"}\r\n        width={100}\r\n        height={110}\r\n        onClick={() => setOpen(!isOpen)}\r\n        nameOnChange={false}\r\n        nameChangable={false}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Clock;\r\n","import { themeColors } from \"../../config.js\";\r\nexport default {\r\n  noteRow: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\",\r\n    alignSelf: \"stretch\",\r\n    backgroundColor: themeColors.optionColor,\r\n    color: themeColors.optionTextColor,\r\n    border: \"1px solid rgba(255,255,255,0.5)\",\r\n  },\r\n  component: {\r\n    flex: 1,\r\n    alignSelf: \"stretch\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    position: \"relative\",\r\n    fontFamily: \"roboto\",\r\n    fontSize: 15,\r\n    overflow: \"hidden\",\r\n  },\r\n  full: {\r\n    display: \"flex\",\r\n    position: \"absolute\",\r\n    flexDirection: \"column\",\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    overflow: \"auto\",\r\n  },\r\n  title: {\r\n    margin: 5,\r\n    fontWeight: \"bold\",\r\n  },\r\n  date: {\r\n    fontSize: 10,\r\n    margin: 5,\r\n  },\r\n  titleCol: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"flex-start\",\r\n  },\r\n  controlBtn: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n  },\r\n  noteContent: {\r\n    flex: 1,\r\n    alignSelf: \"stretch\",\r\n    margin: 5,\r\n    color: themeColors.optionTextColor,\r\n    outline: \"none\",\r\n    overflow: \"auto\",\r\n  },\r\n  noteMenu: {\r\n    height: 25,\r\n    width: \"100%\",\r\n    backgroundColor: themeColors.optionColor,\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  menuButton: {\r\n    width: 25,\r\n    height: 25,\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    borderWidth: \"1px\",\r\n    borderStyle: \"solid\",\r\n    borderColor: themeColors.borderColor,\r\n    backgroundColor: themeColors.optionColor,\r\n    color: themeColors.optionTextColor,\r\n  },\r\n};\r\n","const TextInput = ({ onChange, value, style, placeholder }) => {\r\n  return (\r\n    <input\r\n      style={{\r\n        outline: \"none\",\r\n        margin: \"0\",\r\n        shadow: \"none\",\r\n        border: \"none\",\r\n        overflowX: \"hidden\",\r\n        paddingLeft: 5,\r\n        fontSize: 12,\r\n        ...style,\r\n      }}\r\n      value={value}\r\n      onChange={(e) => onChange(e.target.value)}\r\n      placeholder={placeholder}\r\n    />\r\n  );\r\n};\r\n\r\nexport default TextInput;\r\n","import Window from \"../../components/Window\";\r\nimport styles from \"./styles.jsx\";\r\nimport Button from \"../../widgets/Button\";\r\nimport TextInput from \"../../widgets/TextInput\";\r\nimport TouchableOpacity from \"../../widgets/TouchableOpacity\";\r\nimport { DatePicker } from \"antd\";\r\nimport { useState, useRef, useEffect, useCallback } from \"react\";\r\nimport { themeColors } from \"../../config\";\r\nimport {\r\n  CheckOutlined,\r\n  DeleteOutlined,\r\n  SaveOutlined,\r\n  PlusOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { formatDate } from \"../../utils.js\";\r\n\r\nconst Note = ({ note, index, onCancel, saveNote, setNoteSize, setNotePos }) => {\r\n  const [saved, setSaved] = useState(true);\r\n  const textBox = useRef();\r\n  useEffect(() => {\r\n    if (textBox.current) {\r\n      textBox.current.innerText = note.content;\r\n    }\r\n  }, []);\r\n  const handleSaveNote = () => {\r\n    setSaved(true);\r\n    saveNote(textBox.current.innerText, index);\r\n  };\r\n  return (\r\n    <Window\r\n      id={\"note-\" + note.id}\r\n      top={note.pos.y}\r\n      left={note.pos.x}\r\n      name={note.title + (saved ? \" \" : \" \")}\r\n      onCancel={onCancel}\r\n      minWidth={120}\r\n      minHeight={50}\r\n      height={note.size.h}\r\n      width={note.size.w}\r\n      onFinishResize={(w, h) => {\r\n        setNoteSize({ w, h }, index);\r\n      }}\r\n      onFinishDrag={(x, y) => {\r\n        setNotePos({ x, y }, index);\r\n      }}\r\n    >\r\n      <div style={styles.noteMenu}>\r\n        <TouchableOpacity style={styles.menuButton} onClick={handleSaveNote}>\r\n          <SaveOutlined />\r\n        </TouchableOpacity>\r\n      </div>\r\n      <div\r\n        ref={(ref) => (textBox.current = ref)}\r\n        style={styles.noteContent}\r\n        contentEditable\r\n        onInput={() => setSaved(false)}\r\n      ></div>\r\n    </Window>\r\n  );\r\n};\r\n\r\nconst NoteRow = ({\r\n  note,\r\n  index,\r\n  toggleNoteActive,\r\n  toggleNoteOpen,\r\n  deleteNote,\r\n}) => {\r\n  const dateObj = formatDate(new Date(note.date));\r\n  return (\r\n    <div style={{ ...styles.noteRow, opacity: note.active ? 1 : 0.5 }}>\r\n      <TouchableOpacity\r\n        style={styles.titleCol}\r\n        onClick={() => toggleNoteOpen(index)}\r\n      >\r\n        <div style={styles.title}>{note.title}</div>\r\n        <div style={styles.date}>\r\n          {dateObj.year +\r\n            \"-\" +\r\n            dateObj.month +\r\n            \"-\" +\r\n            dateObj.day +\r\n            \" \" +\r\n            dateObj.hour +\r\n            \":\" +\r\n            dateObj.minute}\r\n        </div>\r\n      </TouchableOpacity>\r\n      <div style={styles.controlBtn}>\r\n        <Button\r\n          style={{ margin: 5 }}\r\n          onClick={() => {\r\n            toggleNoteActive(index);\r\n          }}\r\n        >\r\n          <CheckOutlined\r\n            style={{\r\n              color: note.active\r\n                ? themeColors.transparentBlack\r\n                : themeColors.green,\r\n            }}\r\n          />\r\n        </Button>\r\n        <Button\r\n          style={{ margin: 5, backgroundColor: themeColors.red }}\r\n          onClick={() => {\r\n            deleteNote(index);\r\n          }}\r\n        >\r\n          <DeleteOutlined />\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst NotesApp = ({ setOpen, systemData, updateSystemData }) => {\r\n  const noteObj = systemData ? systemData.notes : { notes: [] };\r\n  const notes = noteObj ? noteObj.notes : [];\r\n  const [date, setDate] = useState();\r\n  const [title, setTitle] = useState(\"\");\r\n  const noteRef = useRef(notes);\r\n\r\n  const setNotes = (notes) => {\r\n    updateSystemData({\r\n      notes: {\r\n        notes: JSON.parse(JSON.stringify(notes)),\r\n      },\r\n    });\r\n    noteRef.current = notes;\r\n  };\r\n\r\n  const addNote = () => {\r\n    const newNotes = JSON.parse(JSON.stringify(notes));\r\n    newNotes.push({\r\n      title,\r\n      content: \"\",\r\n      active: true,\r\n      open: false,\r\n      pos: { x: 0, y: 0 },\r\n      size: { w: 200, h: 200 },\r\n      date: new Date(date),\r\n    });\r\n    setNotes(newNotes);\r\n  };\r\n\r\n  const toggleNoteActive = (index) => {\r\n    const newNotes = [...noteRef.current];\r\n    newNotes[index].active = !newNotes[index].active;\r\n    setNotes(newNotes);\r\n  };\r\n  const toggleNoteOpen = (index) => {\r\n    const newNotes = [...noteRef.current];\r\n    newNotes[index].open = !newNotes[index].open;\r\n    setNotes(newNotes);\r\n  };\r\n  const deleteNote = (index) => {\r\n    const newNotes = [...noteRef.current];\r\n    newNotes.splice(index, 1);\r\n    setNotes(newNotes);\r\n  };\r\n  const saveNote = (note, index) => {\r\n    const newNotes = [...noteRef.current];\r\n    newNotes[index].content = note;\r\n    setNotes(newNotes);\r\n  };\r\n\r\n  const setNoteSize = (size, index) => {\r\n    const newNotes = [...noteRef.current];\r\n    newNotes[index].size = size;\r\n    setNotes(newNotes);\r\n  };\r\n\r\n  const setNotePos = (pos, index) => {\r\n    const newNotes = [...noteRef.current];\r\n    newNotes[index].pos = pos;\r\n    console.log(newNotes);\r\n    setNotes(newNotes);\r\n  };\r\n\r\n  const noteWindows = [];\r\n  const noteList = [];\r\n  notes.map((note, index) => {\r\n    noteList.push(\r\n      <NoteRow\r\n        key={note.title}\r\n        index={index}\r\n        note={note}\r\n        toggleNoteActive={toggleNoteActive}\r\n        toggleNoteOpen={toggleNoteOpen}\r\n        deleteNote={deleteNote}\r\n      />\r\n    );\r\n    if (note.open)\r\n      noteWindows.push(\r\n        <Note\r\n          key={note.title}\r\n          index={index}\r\n          saveNote={saveNote}\r\n          setNoteSize={setNoteSize}\r\n          setNotePos={setNotePos}\r\n          note={note}\r\n          onCancel={() => toggleNoteOpen(index)}\r\n        />\r\n      );\r\n  });\r\n  return (\r\n    <div>\r\n      <Window\r\n        id={\"notes\"}\r\n        top={0}\r\n        left={0}\r\n        name={\"Notes\"}\r\n        onCancel={() => setOpen(false)}\r\n      >\r\n        <div style={styles.component}>\r\n          <div style={{ ...styles.full, justifyContent: \"flex-start\" }}>\r\n            {noteList}\r\n            <div style={styles.noteRow}>\r\n              <TextInput\r\n                value={title}\r\n                onChange={setTitle}\r\n                placeholder={\"title\"}\r\n                style={{\r\n                  color: themeColors.optionColor,\r\n                  border: \"1px solid white\",\r\n                  borderRadius: 2,\r\n                  margin: 5,\r\n                  fontSize: 14,\r\n                }}\r\n              />\r\n              <div style={{ margin: 5 }}>\r\n                <DatePicker\r\n                  value={date}\r\n                  onOk={setDate}\r\n                  onChange={setDate}\r\n                  showTime={{ format: \"HH:mm\" }}\r\n                  format=\"YYYY-MM-DD HH:mm\"\r\n                  size={\"small\"}\r\n                  placeholder={\"date\"}\r\n                />\r\n              </div>\r\n\r\n              <Button\r\n                style={{ margin: 10, backgroundColor: themeColors.green }}\r\n                onClick={addNote}\r\n              >\r\n                <PlusOutlined />\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Window>\r\n      {noteWindows}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotesApp;\r\n","import React, { useState } from \"react\";\r\nimport AppIcon from \"../../components/AppIcon\";\r\nimport NotesApp from \"./notes.jsx\";\r\nimport { CarryOutOutlined } from \"@ant-design/icons\";\r\nimport { themeColors } from \"../../config.js\";\r\n\r\nconst Notes = ({ systemData, updateSystemData, scale }) => {\r\n  const [isOpen, setOpen] = useState(false);\r\n  return (\r\n    <div>\r\n      {isOpen && (\r\n        <NotesApp\r\n          setOpen={setOpen}\r\n          systemData={systemData}\r\n          updateSystemData={updateSystemData}\r\n        />\r\n      )}\r\n      <AppIcon\r\n        key={\"notes\"}\r\n        scale={scale}\r\n        icon={\r\n          <CarryOutOutlined\r\n            style={{ fontSize: 30, color: themeColors.yellow }}\r\n          />\r\n        }\r\n        name={\"Notes\"}\r\n        width={100}\r\n        height={110}\r\n        onClick={() => setOpen(!isOpen)}\r\n        nameOnChange={false}\r\n        nameChangable={false}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Notes;\r\n","import { themeColors } from \"../../config.js\";\r\n\r\nexport default {\r\n  frame: {\r\n    position: \"absolute\",\r\n    top: 0,\r\n    left: 0,\r\n    bottom: 0,\r\n    right: 0,\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"stretch\",\r\n    alignSelf: \"stretch\",\r\n  },\r\n  sideBar: {\r\n    width: 100,\r\n    background: themeColors.optionColor,\r\n    justifyContent: \"flex-start\",\r\n    alignItems: \"stretch\",\r\n    overflow: \"auto\",\r\n  },\r\n  sideBarEntry: {\r\n    height: 30,\r\n    width: 100,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    color: themeColors.optionTextColor,\r\n    borderWidth: 1,\r\n    borderStyle: \"solid\",\r\n    borderColor: themeColors.transparentWhite,\r\n  },\r\n  page: {\r\n    flex: 1,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"flex-start\",\r\n    backgroundColor: themeColors.transparentBlack,\r\n    color: themeColors.optionTextColor,\r\n    padding: 20,\r\n    alignItems: \"center\",\r\n    overflow: \"auto\",\r\n  },\r\n  section: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"stretch\",\r\n    width: \"80%\",\r\n    maxWidth: 400,\r\n  },\r\n  title: {\r\n    fontWeight: \"bold\",\r\n    fontSize: 18,\r\n    margin: 10,\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n  row: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    margin: 5,\r\n  },\r\n  picture: {\r\n    width: 100,\r\n    height: 50,\r\n    borderWidth: 2,\r\n    borderStyle: \"solid\",\r\n  },\r\n};\r\n","import { useState } from \"react\";\r\nimport Window from \"../../components/Window\";\r\nimport TouchableOpacity from \"../../widgets/TouchableOpacity\";\r\nimport styles from \"./styles.jsx\";\r\nimport { getSize, getIP } from \"../../utils\";\r\nimport { isSignedIn, handleAuth, handleSignOut } from \"../../api/gapi\";\r\nimport ToggleButton from \"react-toggle-button\";\r\nimport { Select } from \"antd\";\r\n\r\nconst GeneralInfo = ({ fileSystem, userInfo, localMode }) => {\r\n  const [gSignedIn, setGSignedIn] = useState(isSignedIn());\r\n\r\n  return (\r\n    <div style={styles.page}>\r\n      <div style={styles.section}>\r\n        <div style={styles.title}>File System</div>\r\n        <div style={styles.row}>\r\n          <p>File System Size</p> <p>{getSize(fileSystem.getRawSize())}</p>\r\n        </div>\r\n        <div style={styles.row}>\r\n          <p>Data Size</p> <p>{getSize(fileSystem.getDirectorySize(\"root\"))}</p>\r\n        </div>\r\n        <div style={styles.row}>\r\n          <p>Trash Data Size</p>\r\n          <p>{getSize(fileSystem.getDirectorySize(\"bin\"))}</p>\r\n        </div>\r\n        <div style={styles.row}>\r\n          <p>Directories</p> <p>{fileSystem.getNumDirs()}</p>\r\n        </div>\r\n        <div style={styles.row}>\r\n          <p>Files</p> <p>{fileSystem.getNumFiles()}</p>\r\n        </div>\r\n        <div style={styles.row}>\r\n          <p>Apps</p> <p>{fileSystem.getNumApps()}</p>\r\n        </div>\r\n      </div>\r\n      <div style={styles.section}>\r\n        <div style={styles.title}>User State</div>\r\n        <div style={styles.row}>\r\n          <p>Local Mode</p> <p>{String(localMode)}</p>\r\n        </div>\r\n        <div style={styles.row}>\r\n          <p>Google Drive Connected</p>{\" \"}\r\n          <ToggleButton\r\n            thumbStyle={{\r\n              boxShadow: \"0px 0px 2px white\",\r\n            }}\r\n            colors={{\r\n              active: {\r\n                base: \"#32CD32\",\r\n                hover: \"#228B22\",\r\n              },\r\n              inactive: {\r\n                base: \"rgb(65,66,68)\",\r\n                hover: \"rgb(95,96,98)\",\r\n              },\r\n            }}\r\n            inactiveLabel={\"\"}\r\n            activeLabel={\"\"}\r\n            value={gSignedIn}\r\n            onToggle={(signedIn) => {\r\n              if (signedIn) {\r\n                handleSignOut();\r\n                setGSignedIn(!gSignedIn);\r\n              } else {\r\n                handleAuth();\r\n                setGSignedIn(!gSignedIn);\r\n              }\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst NetworkInfo = () => {\r\n  const [ip, setIp] = useState(\"N/A\");\r\n  useState(async () => {\r\n    const res = await getIP();\r\n    setIp(res);\r\n  }, []);\r\n  return (\r\n    <div style={styles.page}>\r\n      <div style={styles.section}>\r\n        <div style={styles.title}>Network</div>\r\n        <div style={styles.row}>\r\n          <p>Est. Link Speed</p>\r\n          <p>\r\n            {navigator.connection\r\n              ? navigator.connection.downlink + \" Mbs\"\r\n              : \"N/A\"}\r\n          </p>\r\n        </div>\r\n        <div style={styles.row}>\r\n          <p>Client IP</p>\r\n          <p>{ip}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst DisplayInfo = ({ systemData, updateSystemData, backgrounds }) => {\r\n  const backgroundThumbs = [];\r\n  const setBackgroundIndex = (index) => {\r\n    updateSystemData({ backgroundIndex: index });\r\n  };\r\n  const setIconSize = (size) => {\r\n    updateSystemData({ iconSize: size });\r\n  };\r\n  const setRollingInterval = (inv) => {\r\n    updateSystemData({ rollingInterval: inv });\r\n  };\r\n  backgrounds.map((back, index) =>\r\n    backgroundThumbs.push(\r\n      <TouchableOpacity\r\n        style={{\r\n          ...styles.picture,\r\n          backgroundSize: \"cover\",\r\n          backgroundImage: `url(${back})`,\r\n          borderColor: systemData.backgroundIndex === index ? \"white\" : \"black\",\r\n        }}\r\n        key={index}\r\n        onClick={() => setBackgroundIndex(index)}\r\n      />\r\n    )\r\n  );\r\n  return (\r\n    <div style={styles.page}>\r\n      <div style={styles.section}>\r\n        <div style={styles.title}>Background</div>\r\n        <div style={styles.row}>{backgroundThumbs}</div>\r\n        <div style={styles.row}>\r\n          <p>Rolling</p>\r\n          <ToggleButton\r\n            thumbStyle={{\r\n              boxShadow: \"0px 0px 2px white\",\r\n            }}\r\n            colors={{\r\n              active: {\r\n                base: \"#32CD32\",\r\n                hover: \"#228B22\",\r\n              },\r\n              inactive: {\r\n                base: \"rgb(65,66,68)\",\r\n                hover: \"rgb(95,96,98)\",\r\n              },\r\n            }}\r\n            inactiveLabel={\"\"}\r\n            activeLabel={\"\"}\r\n            value={systemData.rollingBackground}\r\n            onToggle={(rolling) => {\r\n              updateSystemData({\r\n                rollingBackground: !rolling,\r\n              });\r\n            }}\r\n          />\r\n        </div>\r\n        <div style={styles.row}>\r\n          <p>Interval</p>\r\n          <Select\r\n            disabled={!systemData.rollingBackground}\r\n            defaultValue={\r\n              systemData.rollingInterval ? systemData.rollingInterval : 30\r\n            }\r\n            style={{ width: 100 }}\r\n            size=\"small\"\r\n            onChange={setRollingInterval}\r\n          >\r\n            <Select.Option value={15}>15s</Select.Option>\r\n            <Select.Option value={30}>30s</Select.Option>\r\n            <Select.Option value={60}>60s</Select.Option>\r\n            <Select.Option value={120}>120s</Select.Option>\r\n          </Select>\r\n        </div>\r\n      </div>\r\n      <div style={styles.section}>\r\n        <div style={styles.title}>Icons</div>\r\n        <div style={styles.row}>\r\n          <p>Scaling</p>\r\n          <Select\r\n            defaultValue={systemData.iconSize ? systemData.iconSize : 1}\r\n            style={{ width: 100 }}\r\n            size=\"small\"\r\n            onChange={setIconSize}\r\n          >\r\n            <Select.Option value={0.5}>50%</Select.Option>\r\n            <Select.Option value={0.75}>75%</Select.Option>\r\n            <Select.Option value={1}>100%</Select.Option>\r\n            <Select.Option value={1.5}>150%</Select.Option>\r\n          </Select>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst menuMap = {\r\n  General: (props) => <GeneralInfo {...props} />,\r\n  Network: (props) => <NetworkInfo {...props} />,\r\n  Display: (props) => <DisplayInfo {...props} />,\r\n};\r\n\r\nconst SettingApp = ({\r\n  onCancel,\r\n  fileSystem,\r\n  userInfo,\r\n  localMode,\r\n  backgrounds,\r\n  systemData,\r\n  updateSystemData,\r\n}) => {\r\n  const [currentPage, setCurrentPage] = useState(\"General\");\r\n  const menuEntries = [];\r\n  Object.keys(menuMap).map((key) =>\r\n    menuEntries.push(\r\n      <TouchableOpacity\r\n        style={styles.sideBarEntry}\r\n        onClick={() => setCurrentPage(key)}\r\n        key={key}\r\n      >\r\n        {key}\r\n      </TouchableOpacity>\r\n    )\r\n  );\r\n  const Page = menuMap[currentPage];\r\n  return (\r\n    <Window\r\n      top={0}\r\n      left={0}\r\n      id={\"setting\"}\r\n      name={\"Setting\"}\r\n      width={500}\r\n      minWidth={500}\r\n      height={500}\r\n      minHeight={300}\r\n      onCancel={onCancel}\r\n    >\r\n      <div style={styles.frame}>\r\n        <div style={styles.sideBar}>{menuEntries}</div>\r\n        {\r\n          <Page\r\n            fileSystem={fileSystem}\r\n            userInfo={userInfo}\r\n            localMode={localMode}\r\n            systemData={systemData}\r\n            updateSystemData={updateSystemData}\r\n            backgrounds={backgrounds}\r\n          />\r\n        }\r\n      </div>\r\n    </Window>\r\n  );\r\n};\r\n\r\nexport default SettingApp;\r\n","import React, { useState } from \"react\";\r\nimport AppIcon from \"../../components/AppIcon\";\r\nimport SettingApp from \"./setting.jsx\";\r\nimport { SettingOutlined } from \"@ant-design/icons\";\r\nimport { themeColors } from \"../../config.js\";\r\n\r\nconst Setting = ({\r\n  fileSystem,\r\n  userInfo,\r\n  localMode,\r\n  systemData,\r\n  updateSystemData,\r\n  backgrounds,\r\n  scale,\r\n}) => {\r\n  const [isOpen, setOpen] = useState(false);\r\n  return (\r\n    <div>\r\n      {isOpen && (\r\n        <SettingApp\r\n          fileSystem={fileSystem}\r\n          userInfo={userInfo}\r\n          localMode={localMode}\r\n          systemData={systemData}\r\n          updateSystemData={updateSystemData}\r\n          backgrounds={backgrounds}\r\n          onCancel={() => setOpen(!isOpen)}\r\n        />\r\n      )}\r\n      <AppIcon\r\n        key={\"setting\"}\r\n        icon={\r\n          <SettingOutlined\r\n            style={{ fontSize: 30, color: themeColors.yellow }}\r\n          />\r\n        }\r\n        name={\"Setting\"}\r\n        width={100}\r\n        height={110}\r\n        onClick={() => setOpen(!isOpen)}\r\n        nameOnChange={false}\r\n        nameChangable={false}\r\n        scale={scale}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Setting;\r\n","import React from \"react\";\r\nimport { sysAppExplorerStyles } from \"./style.js\";\r\nimport TrashBin from \"../../systemApplications/TrashBin\";\r\nimport AppViewer from \"../../systemApplications/AppViewer\";\r\nimport Clock from \"../../systemApplications/Clock\";\r\nimport Notes from \"../../systemApplications/Notes\";\r\nimport Setting from \"../../systemApplications/Setting\";\r\n\r\nclass SysAppExplorerGUI extends React.Component {\r\n  render() {\r\n    const scale = this.props.systemData.iconSize;\r\n    return (\r\n      <div\r\n        style={{\r\n          ...sysAppExplorerStyles.section,\r\n          width:\r\n            Math.floor(\r\n              (this.props.dims.width * 0.9) / (100 * scale ? scale : 1)\r\n            ) * (100 * scale ? scale : 1),\r\n        }}\r\n      >\r\n        <div style={sysAppExplorerStyles.title}>{\"Utilities\"}</div>\r\n        <div style={sysAppExplorerStyles.appBar}>\r\n          <TrashBin\r\n            fileSystem={this.props.fileSystem}\r\n            systemData={this.props.systemData}\r\n            scale={scale}\r\n          />\r\n          <AppViewer\r\n            toggleAppExplorer={this.props.appFuncs.toggleAppExplorer}\r\n            scale={scale}\r\n          />\r\n          <Notes\r\n            systemData={this.props.systemData}\r\n            updateSystemData={this.props.updateSystemData}\r\n            scale={scale}\r\n          />\r\n          <Setting\r\n            fileSystem={this.props.fileSystem}\r\n            systemData={this.props.systemData}\r\n            userInfo={this.props.userInfo}\r\n            localMode={this.props.localMode}\r\n            backgrounds={this.props.backgrounds}\r\n            updateSystemData={this.props.updateSystemData}\r\n            scale={scale}\r\n          />\r\n          <Clock\r\n            systemData={this.props.systemData}\r\n            updateSystemData={this.props.updateSystemData}\r\n            scale={scale}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SysAppExplorerGUI;\r\n","import { themeColors } from \"../../config.js\";\r\nexport const IDEStyles = {\r\n  tabRow: {\r\n    display: \"flex\",\r\n    alignSelf: \"stretch\",\r\n    flexDirection: \"row\",\r\n    flexShrink: 0,\r\n    justifyContent: \"flex-start\",\r\n    alignItems: \"stretch\",\r\n    overflowX: \"auto\",\r\n    height: 20,\r\n    fontFamily: \"roboto\",\r\n    fontSize: 13,\r\n    backgroundColor: themeColors.optionColor,\r\n    color: themeColors.optionTextColor,\r\n  },\r\n  tabCell: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\",\r\n    backgroundColor: themeColors.optionColor,\r\n    color: themeColors.optionTextColor,\r\n    borderWidth: \"1px\",\r\n    borderStyle: \"solid\",\r\n    borderColor: themeColors.borderColor,\r\n    width: 100,\r\n    padding: 5,\r\n    overflow: \"hidden\",\r\n    whiteSpace: \"nowrap\",\r\n  },\r\n};\r\n","import { themeColors } from \"../../config.js\";\r\n\r\nexport const editorStyles = {\r\n  frame: {\r\n    justifyContent: \"center\",\r\n    alignItems: \"stretch\",\r\n    overflow: \"hidden\",\r\n    borderWidth: 2,\r\n    borderColor: \"white\",\r\n    borderStyle: \"solid\",\r\n  },\r\n  menuBar: {\r\n    display: \"flex\",\r\n    height: 30,\r\n    flexDirection: \"row\",\r\n    justifyContent: \"flex-start\",\r\n    alignItems: \"stretch\",\r\n    fontFamily: \"roboto\",\r\n    fontSize: 12,\r\n  },\r\n  dropDown: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"stretch\",\r\n    width: 100,\r\n    height: 30,\r\n    borderWidth: \"1px\",\r\n    borderStyle: \"solid\",\r\n    borderColor: themeColors.borderColor,\r\n  },\r\n  cursorInfo: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"stretch\",\r\n    justifyContent: \"center\",\r\n    width: 100,\r\n    height: 30,\r\n    padding: 10,\r\n    borderWidth: \"1px\",\r\n    borderStyle: \"solid\",\r\n    borderColor: themeColors.borderColor,\r\n    background: themeColors.optionColor,\r\n    color: themeColors.optionTextColor,\r\n  },\r\n  title: {\r\n    display: \"flex\",\r\n    flex: 1,\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    padding: 10,\r\n    borderWidth: \"1px\",\r\n    borderStyle: \"solid\",\r\n    fontSize: 14,\r\n    borderColor: themeColors.borderColor,\r\n    background: themeColors.titleColor,\r\n    color: themeColors.titleTextColor,\r\n  },\r\n  menuButton: {\r\n    width: 30,\r\n    height: 30,\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    borderWidth: \"1px\",\r\n    borderStyle: \"solid\",\r\n    borderColor: themeColors.borderColor,\r\n    backgroundColor: themeColors.optionColor,\r\n    color: themeColors.optionTextColor,\r\n  },\r\n  inputBox: {\r\n    outline: \"none\",\r\n    margin: \"0\",\r\n    shadow: \"none\",\r\n    overflowX: \"hidden\",\r\n    paddingLeft: 5,\r\n    fontSize: 12,\r\n    fontFamily: \"roboto\",\r\n    borderWidth: \"1px\",\r\n    borderStyle: \"solid\",\r\n    borderColor: themeColors.borderColor,\r\n    backgroundColor: themeColors.optionColor,\r\n    color: themeColors.optionTextColor,\r\n  },\r\n};\r\n","import React from \"react\";\r\nimport styles from \"../../styles\";\r\nimport { editorStyles } from \"./style.js\";\r\nimport { Controlled as CodeMirror } from \"react-codemirror2\";\r\nimport Dropdown from \"react-dropdown\";\r\nimport \"react-dropdown/style.css\";\r\nimport \"./style.css\";\r\nimport { DisplayModes } from \"../IDE\";\r\nrequire(\"codemirror/mode/xml/xml\");\r\nrequire(\"codemirror/mode/javascript/javascript\");\r\nrequire(\"codemirror/mode/css/css\");\r\nrequire(\"codemirror/mode/jsx/jsx\");\r\n\r\nclass CodeEditor extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.MODES = {\r\n      JS: { value: \"javascript\", label: \"JavaScript\" },\r\n      JSX: { value: \"jsx\", label: \"JSX\" },\r\n      HTML: { value: \"xml\", label: \"HTML\" },\r\n      CSS: { value: \"css\", label: \"CSS\" },\r\n      NULL: { value: \"null\", label: \"Plain\" },\r\n    };\r\n    this.state = {\r\n      line: 0,\r\n      col: 0,\r\n      mode: this.MODES.HTML.value,\r\n      cmd: \"\",\r\n    };\r\n    this.onCursorActivity = this.onCursorActivity.bind(this);\r\n    this.dropDownSelect = this.dropDownSelect.bind(this);\r\n    this.changeCmd = this.changeCmd.bind(this);\r\n    this.executeCmd = this.executeCmd.bind(this);\r\n    this.highlight = this.highlight.bind(this);\r\n    this.unhighlight = this.unhighlight.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const editor = document.getElementsByClassName(\r\n      this.props.id + \"_codebox\"\r\n    )[0];\r\n    editor.style.flex = 1;\r\n    const frame = editor.children[0];\r\n    frame.style.height = String(this.props.height - 30) + \"px\";\r\n    editor.addEventListener(\"keydown\", (e) => {\r\n      if (e.ctrlKey) {\r\n        if (e.which === 83) {\r\n          e.preventDefault();\r\n          this.props.saveFile();\r\n        }\r\n        return false;\r\n      }\r\n    });\r\n  }\r\n\r\n  onCursorActivity = (editor) => {\r\n    const cursorPos = editor.getCursor();\r\n    this.setState((state) => ({\r\n      ...state,\r\n      line: cursorPos.line,\r\n      col: cursorPos.ch,\r\n    }));\r\n  };\r\n\r\n  dropDownSelect = (sel) => {\r\n    this.setState((state) => ({\r\n      ...state,\r\n      mode: sel.value,\r\n    }));\r\n  };\r\n\r\n  changeCmd = (e) => {\r\n    this.setState((state) => ({\r\n      ...state,\r\n      cmd: e.target.value,\r\n    }));\r\n  };\r\n\r\n  executeCmd(e) {\r\n    if (e.key === \"Enter\") console.log(this.state.cmd);\r\n  }\r\n\r\n  highlight(e) {\r\n    e.target.style.opacity = 0.8;\r\n  }\r\n\r\n  unhighlight(e) {\r\n    e.target.style.opacity = 1;\r\n  }\r\n\r\n  render() {\r\n    const dropDownOptions = Object.keys(this.MODES).map(\r\n      (key) => this.MODES[key]\r\n    );\r\n    return (\r\n      <div\r\n        style={{\r\n          ...styles.column,\r\n          width: this.props.width,\r\n          height: this.props.height,\r\n          ...editorStyles.frame,\r\n        }}\r\n      >\r\n        {this.props.width > 300 && (\r\n          <div style={editorStyles.menuBar}>\r\n            <div style={editorStyles.cursorInfo}>\r\n              <div>{\"Ln \" + this.state.line + \", Col \" + this.state.col}</div>\r\n            </div>\r\n            <div style={editorStyles.title}>\r\n              {this.props.title + (this.props.saved ? \" \" : \" \")}\r\n            </div>\r\n            <div style={editorStyles.dropDown}>\r\n              <Dropdown\r\n                options={dropDownOptions}\r\n                onChange={this.dropDownSelect}\r\n                value={this.state.mode}\r\n                placeholder={\"Language\"}\r\n              />\r\n            </div>\r\n          </div>\r\n        )}\r\n        <CodeMirror\r\n          className={this.props.id + \"_codebox\"}\r\n          value={this.props.value}\r\n          options={{\r\n            mode: this.state.mode,\r\n            theme: \"material\",\r\n            lineNumbers: true,\r\n            autoRefresh: true,\r\n          }}\r\n          editorDidMount={(editor) => {\r\n            this.instance = editor;\r\n            setTimeout(() => this.instance.refresh(), 0);\r\n          }}\r\n          onBeforeChange={this.props.onBeforeChange}\r\n          onChange={this.props.onChange}\r\n          onCursorActivity={this.onCursorActivity}\r\n        />\r\n        <div style={editorStyles.menuBar}>\r\n          <input\r\n            style={{\r\n              ...editorStyles.inputBox,\r\n              width: this.props.width - 120,\r\n            }}\r\n            value={this.state.cmd}\r\n            onChange={this.changeCmd}\r\n            onKeyDown={this.executeCmd}\r\n            placeholder={\"Enter Command\"}\r\n          />\r\n          <div\r\n            style={{ ...editorStyles.menuButton, width: 70 }}\r\n            onClick={() => this.props.changeDisplayMode(DisplayModes.PREVIEW)}\r\n            onMouseOver={this.highlight}\r\n            onMouseOut={this.unhighlight}\r\n          >\r\n            Preview\r\n          </div>\r\n          <div\r\n            style={{ ...editorStyles.menuButton, width: 70 }}\r\n            onClick={() => this.props.changeDisplayMode(DisplayModes.CONSOLE)}\r\n            onMouseOver={this.highlight}\r\n            onMouseOut={this.unhighlight}\r\n          >\r\n            Console\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CodeEditor;\r\n","import { themeColors } from \"../../config.js\";\r\n\r\nexport const explorerStyles = {\r\n  container: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"flex-start\",\r\n    alignItems: \"stretch\",\r\n    borderWidth: \"2px\",\r\n    borderStyle: \"solid\",\r\n    borderColor: \"white\",\r\n  },\r\n  menuBar: {\r\n    display: \"flex\",\r\n    height: 30,\r\n    flexDirection: \"row\",\r\n    justifyContent: \"flex-start\",\r\n    alignItems: \"stretch\",\r\n    fontFamily: \"roboto\",\r\n    fontSize: 12,\r\n  },\r\n  title: {\r\n    flex: 1,\r\n    width: 60,\r\n    display: \"flex\",\r\n    padding: 5,\r\n    justifyContent: \"flex-start\",\r\n    alignItems: \"center\",\r\n    borderWidth: \"1px\",\r\n    borderStyle: \"solid\",\r\n    overflow: \"hidden\",\r\n    fontSize: 14,\r\n    borderColor: themeColors.borderColor,\r\n    backgroundColor: themeColors.titleColor,\r\n    color: themeColors.titleTextColor,\r\n  },\r\n  menuButton: {\r\n    width: 30,\r\n    height: 30,\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    borderWidth: \"1px\",\r\n    borderStyle: \"solid\",\r\n    borderColor: themeColors.borderColor,\r\n    backgroundColor: themeColors.optionColor,\r\n    color: themeColors.optionTextColor,\r\n  },\r\n  inputBox: {\r\n    outline: \"none\",\r\n    margin: \"0\",\r\n    shadow: \"none\",\r\n    overflowX: \"hidden\",\r\n    paddingLeft: 5,\r\n    fontSize: 12,\r\n    fontFamily: \"roboto\",\r\n    borderWidth: \"1px\",\r\n    borderStyle: \"solid\",\r\n    borderColor: themeColors.borderColor,\r\n    backgroundColor: themeColors.optionColor,\r\n    color: themeColors.optionTextColor,\r\n  },\r\n  entry: {\r\n    padding: 5,\r\n    borderWidth: \"1px\",\r\n    borderStyle: \"solid\",\r\n    borderColor: themeColors.borderColor,\r\n    justifyContent: \"flex-start\",\r\n    alignItems: \"flex-start\",\r\n  },\r\n  frame: {\r\n    flex: 1,\r\n    backgroundColor: themeColors.contentColor,\r\n    color: themeColors.contentTextColor,\r\n    fontFamily: \"roboto\",\r\n    fontSize: 12,\r\n  },\r\n};\r\n","import React from \"react\";\r\nimport EntryList from \"../EntryList\";\r\nimport { explorerStyles } from \"./style.js\";\r\nimport { TYPES } from \"../../segments/FileSystem\";\r\nimport PopUpMenu from \"../PopUpMenu\";\r\nimport {\r\n  FileAddOutlined,\r\n  FolderAddOutlined,\r\n  RollbackOutlined,\r\n  FolderOpenOutlined,\r\n  FileTextOutlined,\r\n} from \"@ant-design/icons\";\r\n\r\nclass FileExplorer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      currentDirectory: null,\r\n      currentContent: {},\r\n      inputValue: \"\",\r\n      popUpOn: false,\r\n      popUpPosition: {},\r\n      popUpEntries: [],\r\n    };\r\n\r\n    this.changeInputValue = this.changeInputValue.bind(this);\r\n    this.createDirectory = this.createDirectory.bind(this);\r\n    this.createFile = this.createFile.bind(this);\r\n    this.highlight = this.highlight.bind(this);\r\n    this.unhighlight = this.unhighlight.bind(this);\r\n    this.changeCurrentDirectory = this.changeCurrentDirectory.bind(this);\r\n    this.setNameOnChange = this.setNameOnChange.bind(this);\r\n    this.saveName = this.saveName.bind(this);\r\n    this.setPopUp = this.setPopUp.bind(this);\r\n    this.closePopUp = this.closePopUp.bind(this);\r\n    this.deleteNode = this.deleteNode.bind(this);\r\n    this.reloadCurrentContent = this.reloadCurrentContent.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.fileSystem.addSaveCallBack(this.reloadCurrentContent);\r\n    if (this.props.currentDirectoryHash)\r\n      this.changeCurrentDirectory(this.props.currentDirectoryHash);\r\n\r\n    if (this.props.currentDirectoryHash === \"bin\") {\r\n      this.props.fileSystem.setOnRemove(() =>\r\n        this.changeCurrentDirectory(this.props.currentDirectoryHash)\r\n      );\r\n    }\r\n  }\r\n\r\n  reloadCurrentContent() {\r\n    let currentContent = this.state.currentDirectory.getChildren();\r\n    currentContent = { ...currentContent };\r\n    for (let key in currentContent) {\r\n      currentContent[key] = {\r\n        metadata: currentContent[key],\r\n        nameOnChange: false,\r\n      };\r\n    }\r\n    this.setState((state) => ({\r\n      ...state,\r\n      popUpOn: false,\r\n      currentContent,\r\n    }));\r\n  }\r\n\r\n  changeCurrentDirectory(hash) {\r\n    const fileSystem = this.props.fileSystem;\r\n    const currentDirectory = fileSystem.getDirectory(hash);\r\n    let currentContent = currentDirectory.getChildren();\r\n    currentContent = { ...currentContent };\r\n    for (let key in currentContent) {\r\n      currentContent[key] = {\r\n        metadata: currentContent[key],\r\n        nameOnChange: false,\r\n      };\r\n    }\r\n\r\n    this.setState((state) => ({\r\n      ...state,\r\n      currentDirectory,\r\n      currentContent,\r\n    }));\r\n  }\r\n\r\n  highlight(e) {\r\n    e.target.style.opacity = 0.8;\r\n  }\r\n\r\n  unhighlight(e) {\r\n    e.target.style.opacity = 1;\r\n  }\r\n\r\n  changeInputValue(e) {\r\n    this.setState((state) => ({\r\n      ...state,\r\n      inputValue: e.target.value,\r\n    }));\r\n  }\r\n\r\n  createFile() {\r\n    const fileSystem = this.props.fileSystem;\r\n    const parent = this.state.currentDirectory.getHash();\r\n    let hash = null;\r\n    if (this.state.inputValue !== \"\") {\r\n      hash = fileSystem.createNewFile(parent, this.state.inputValue, \"\");\r\n    } else {\r\n      hash = fileSystem.createNewFile(parent, \"New File\", \"\");\r\n    }\r\n    if (hash !== null) {\r\n      this.reloadCurrentContent();\r\n    } else {\r\n      window.alert(\"File Name already in use\");\r\n    }\r\n  }\r\n\r\n  createDirectory() {\r\n    const fileSystem = this.props.fileSystem;\r\n    const parent = this.state.currentDirectory.getHash();\r\n    let hash = null;\r\n    if (this.state.inputValue !== \"\") {\r\n      hash = fileSystem.createNewDirectory(parent, this.state.inputValue);\r\n    } else {\r\n      hash = fileSystem.createNewDirectory(parent, \"New Folder\");\r\n    }\r\n    if (hash !== null) {\r\n      this.reloadCurrentContent();\r\n    } else {\r\n      window.alert(\"File Name already in use\");\r\n    }\r\n  }\r\n\r\n  deleteNode(hash) {\r\n    if (this.state.currentDirectory.isBin())\r\n      this.props.fileSystem.deepRemoveNode(hash);\r\n    else\r\n      this.props.fileSystem.removeNode(\r\n        this.state.currentDirectory.getHash(),\r\n        hash\r\n      );\r\n    this.reloadCurrentContent();\r\n  }\r\n\r\n  setNameOnChange(key, value) {\r\n    const currentContent = this.state.currentContent;\r\n    currentContent[key].nameOnChange = value;\r\n    this.setState((state) => ({\r\n      ...state,\r\n      currentContent,\r\n    }));\r\n  }\r\n\r\n  saveName(hash, name, type) {\r\n    if (name === \"\") {\r\n      alert(\"the file name cannot be empty!\");\r\n      return;\r\n    } else if (name.length >= 25) {\r\n      alert(\"the file name exceeded the length limit!\");\r\n      return;\r\n    } else if (type === TYPES.FILE) {\r\n      this.props.fileSystem.changeFileName(hash, name);\r\n    } else {\r\n      this.props.fileSystem.changeDirectoryName(hash, name);\r\n    }\r\n    const currentContent = this.state.currentContent;\r\n    currentContent[hash].metadata.name = name;\r\n    currentContent[hash].nameOnChange = false;\r\n    this.setState((state) => ({\r\n      ...state,\r\n      currentContent,\r\n    }));\r\n  }\r\n\r\n  closePopUp(e) {\r\n    e.preventDefault();\r\n    if (e.type === \"click\")\r\n      window.removeEventListener(\"click\", this.closePopUp);\r\n    else window.removeEventListener(\"contextmenu\", this.closePopUp);\r\n    this.setState((state) => ({\r\n      ...state,\r\n      popUpOn: false,\r\n    }));\r\n  }\r\n\r\n  setPopUp(x, y, entries) {\r\n    this.setState((state) => ({\r\n      ...state,\r\n      popUpOn: true,\r\n      popUpPosition: { x, y },\r\n      popUpEntries: entries,\r\n    }));\r\n  }\r\n\r\n  handleContextMenu(e, metadata) {\r\n    window.addEventListener(\"click\", this.closePopUp);\r\n    e.preventDefault();\r\n    this.setPopUp(e.clientX, e.clientY, [\r\n      {\r\n        content: \"Delete\",\r\n        func: () => this.deleteNode(metadata.hash),\r\n      },\r\n      {\r\n        content: \"Rename\",\r\n        func: () => {\r\n          this.setNameOnChange(metadata.hash, true);\r\n        },\r\n      },\r\n    ]);\r\n  }\r\n\r\n  render() {\r\n    let entries = [];\r\n    const currentDirectory = this.state.currentDirectory;\r\n    const currentContent = this.state.currentContent;\r\n\r\n    if (currentDirectory && currentContent !== {}) {\r\n      for (let key in currentContent) {\r\n        const metadata = currentContent[key].metadata;\r\n        if (metadata.type === TYPES.DIR) {\r\n          entries.push({\r\n            content: (\r\n              <div>\r\n                <FolderOpenOutlined /> {metadata.name}\r\n              </div>\r\n            ),\r\n            value: metadata.name,\r\n            valueOnChange: currentContent[key].nameOnChange,\r\n            func: () => {\r\n              this.changeCurrentDirectory(metadata.hash);\r\n            },\r\n            contextFunc: (e) => {\r\n              this.handleContextMenu(e, metadata);\r\n            },\r\n            enterFunc: (name) => {\r\n              this.saveName(metadata.hash, name, metadata.type);\r\n            },\r\n            cancelFunc: () => {\r\n              this.setNameOnChange(key, false);\r\n            },\r\n          });\r\n        } else {\r\n          entries.push({\r\n            content: (\r\n              <div>\r\n                <FileTextOutlined /> {metadata.name}\r\n              </div>\r\n            ),\r\n            value: metadata.name,\r\n            valueOnChange: currentContent[key].nameOnChange,\r\n            func: () => {\r\n              this.props.openFile(this.props.fileSystem.getFile(metadata.hash));\r\n            },\r\n            contextFunc: (e) => {\r\n              this.handleContextMenu(e, metadata);\r\n            },\r\n            enterFunc: (name) => {\r\n              this.saveName(metadata.hash, name, metadata.type);\r\n            },\r\n            cancelFunc: () => {\r\n              this.setNameOnChange(key, false);\r\n            },\r\n          });\r\n        }\r\n      }\r\n    }\r\n    return (\r\n      <div\r\n        style={{\r\n          height: this.props.height,\r\n          width: this.props.width,\r\n          ...explorerStyles.container,\r\n        }}\r\n      >\r\n        {this.state.popUpOn && (\r\n          <PopUpMenu\r\n            top={this.state.popUpPosition.y}\r\n            left={this.state.popUpPosition.x}\r\n            entries={this.state.popUpEntries}\r\n          />\r\n        )}\r\n        <div style={explorerStyles.menuBar}>\r\n          <div style={explorerStyles.title}>\r\n            {currentDirectory ? currentDirectory.getName() : \"\"}\r\n          </div>\r\n          <div\r\n            style={explorerStyles.menuButton}\r\n            onClick={() => {\r\n              if (currentDirectory.getParent())\r\n                this.changeCurrentDirectory(currentDirectory.getParent());\r\n            }}\r\n            onMouseOver={this.highlight}\r\n            onMouseOut={this.unhighlight}\r\n          >\r\n            <RollbackOutlined />\r\n          </div>\r\n        </div>\r\n        <EntryList\r\n          entries={entries}\r\n          rowHeight={this.props.rowHeight}\r\n          containerStyle={explorerStyles.frame}\r\n          entryStyle={explorerStyles.entry}\r\n        />\r\n        <div style={explorerStyles.menuBar}>\r\n          <input\r\n            style={{\r\n              ...explorerStyles.inputBox,\r\n              width: this.props.width - 60,\r\n            }}\r\n            value={this.state.inputValue}\r\n            onChange={this.changeInputValue}\r\n            placeholder={\"Enter Name\"}\r\n          />\r\n          <div\r\n            style={explorerStyles.menuButton}\r\n            onClick={this.createFile}\r\n            onMouseOver={this.highlight}\r\n            onMouseOut={this.unhighlight}\r\n          >\r\n            <FileAddOutlined />\r\n          </div>\r\n          <div\r\n            style={explorerStyles.menuButton}\r\n            onClick={this.createDirectory}\r\n            onMouseOver={this.highlight}\r\n            onMouseOut={this.unhighlight}\r\n          >\r\n            <FolderAddOutlined />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FileExplorer;\r\n","import { themeColors } from \"../../config\";\r\nexport const WebViewStyles = {\r\n  frame: {\r\n    backgroundColor: themeColors.transparentWhite,\r\n    border: \"2px solid white\",\r\n  },\r\n};\r\n","import { themeColors } from \"../../config.js\";\r\nimport { WebViewStyles } from \"./style.js\";\r\nconst WebView = ({ id, width, height, data, blur }) => {\r\n  const isUrl = (str) => {\r\n    let url;\r\n    try {\r\n      url = new URL(str);\r\n    } catch (_) {\r\n      return false;\r\n    }\r\n    return (\r\n      url.protocol === \"http:\" ||\r\n      url.protocol === \"https:\" ||\r\n      url.protocol === \"file:\" ||\r\n      url.protocol === \"data:\"\r\n    );\r\n  };\r\n\r\n  const isHTML = (str) => {\r\n    return /<\\/?[a-z][\\s\\S]*>/i.test(str);\r\n  };\r\n\r\n  const isBase64 = (str) => {\r\n    if (str === \"\" || str.trim() === \"\") {\r\n      return false;\r\n    }\r\n    try {\r\n      return btoa(atob(str)) === str;\r\n    } catch (e) {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  if (blur) {\r\n    return (\r\n      <div\r\n        id={id}\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          backgroundColor: themeColors.transparentBlack,\r\n          width,\r\n          height,\r\n          border: \"2px dotted white\",\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            fontSize: 25,\r\n            fontFamily: \"roboto\",\r\n            color: themeColors.transparentWhite,\r\n          }}\r\n        >\r\n          Resizing...\r\n        </div>\r\n      </div>\r\n    );\r\n  } else if (isUrl(data) || isBase64(data)) {\r\n    return (\r\n      <iframe\r\n        id={id}\r\n        title={\"webview\"}\r\n        style={WebViewStyles.frame}\r\n        width={width}\r\n        height={height}\r\n        src={data}\r\n        data-cookieconsent=\"marketing\"\r\n      />\r\n    );\r\n  } else if (isHTML(data)) {\r\n    return (\r\n      <iframe\r\n        id={id}\r\n        title={\"webview\"}\r\n        style={WebViewStyles.frame}\r\n        width={width}\r\n        height={height}\r\n        srcDoc={data}\r\n      />\r\n    );\r\n  }\r\n  return <div style={{ ...WebViewStyles.frame, width, height }}>{data}</div>;\r\n};\r\n\r\nexport default WebView;\r\n","import { useRef, useCallback, useEffect } from \"react\";\r\nimport { themeColors } from \"../../config\";\r\n\r\nconst ResizeBar = ({\r\n  leftWidth,\r\n  resizeable,\r\n  onResize,\r\n  onFinishResize = () => {},\r\n}) => {\r\n  const x = useRef(0);\r\n  const width = useRef(leftWidth);\r\n  const resizer = useRef();\r\n\r\n  useEffect(() => {\r\n    if (resizeable) {\r\n      if (resizer.current) {\r\n        resizer.current.addEventListener(\"mousedown\", resizeMouseDown);\r\n        resizer.current.addEventListener(\"touchstart\", resizeTouchStart);\r\n      }\r\n    } else {\r\n      resizer.current.removeEventListener(\"mousedown\", resizeMouseDown);\r\n      resizer.current.removeEventListener(\"touchstart\", resizeTouchStart);\r\n      window.removeEventListener(\"mousemove\", resizeElement);\r\n      window.removeEventListener(\"mouseup\", closeResizeElement);\r\n      window.removeEventListener(\"touchmove\", touchResizeElement);\r\n      window.removeEventListener(\"touchend\", closeTouchResizeElement);\r\n    }\r\n  }, [resizeable]);\r\n\r\n  const resizeElement = useCallback((e) => {\r\n    e = e || window.event;\r\n    e.preventDefault();\r\n    const dx = e.clientX - x.current;\r\n    onResize(width.current + dx);\r\n  }, []);\r\n\r\n  const touchResizeElement = useCallback((e) => {\r\n    e = e || window.event;\r\n    const dx = e.touches[0].clientX - x.current;\r\n    onResize(width.current + dx);\r\n  }, []);\r\n\r\n  const closeResizeElement = useCallback((e) => {\r\n    e = e || window.event;\r\n    width.current = width.current + e.clientX - x.current;\r\n    window.removeEventListener(\"mousemove\", resizeElement);\r\n    window.removeEventListener(\"mouseup\", closeResizeElement);\r\n    const iframes = document.getElementsByTagName(\"iframe\");\r\n    for (let f of iframes) {\r\n      f.style.pointerEvents = \"auto\";\r\n    }\r\n    onFinishResize();\r\n  }, []);\r\n\r\n  const closeTouchResizeElement = useCallback((e) => {\r\n    e = e || window.event;\r\n    width.current = width.current + e.changedTouches[0].clientX - x.current;\r\n    window.removeEventListener(\"touchmove\", touchResizeElement);\r\n    window.removeEventListener(\"touchend\", closeTouchResizeElement);\r\n    const iframes = document.getElementsByTagName(\"iframe\");\r\n    for (let f of iframes) {\r\n      f.style.pointerEvents = \"auto\";\r\n    }\r\n    onFinishResize();\r\n  }, []);\r\n\r\n  const resizeMouseDown = useCallback((e) => {\r\n    e = e || window.event;\r\n    x.current = e.clientX;\r\n    window.addEventListener(\"mousemove\", resizeElement);\r\n    window.addEventListener(\"mouseup\", closeResizeElement);\r\n    const iframes = document.getElementsByTagName(\"iframe\");\r\n    for (let f of iframes) {\r\n      f.style.pointerEvents = \"none\";\r\n    }\r\n  }, []);\r\n\r\n  const resizeTouchStart = useCallback((e) => {\r\n    e = e || window.event;\r\n    x.current = e.touches[0].clientX;\r\n    window.addEventListener(\"touchmove\", touchResizeElement);\r\n    window.addEventListener(\"touchend\", closeTouchResizeElement);\r\n    const iframes = document.getElementsByTagName(\"iframe\");\r\n    for (let f of iframes) {\r\n      f.style.pointerEvents = \"none\";\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      ref={resizer}\r\n      style={{\r\n        width: 3,\r\n        height: \"100%\",\r\n        cursor: \"col-resize\",\r\n        backgroundColor: themeColors.transparentWhite,\r\n      }}\r\n    ></div>\r\n  );\r\n};\r\n\r\nexport default ResizeBar;\r\n","export const inputStyles = {\r\n  window: {\r\n    overflowY: \"auto\",\r\n    justifyContent: \"stretch\",\r\n    alignItems: \"flex-start\",\r\n  },\r\n  frame: {\r\n    display: \"flex\",\r\n    flex: 1,\r\n    flexDirection: \"column\",\r\n    justifyContent: \"flex-start\",\r\n    alignItems: \"stretch\",\r\n    padding: \"0px\",\r\n    border: \"2px solid white\",\r\n  },\r\n  lineInput: {\r\n    outline: \"none\",\r\n    border: \"none\",\r\n    width: \"100%\",\r\n    margin: \"0\",\r\n    shadow: \"none\",\r\n  },\r\n  lineBar: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"flex-start\",\r\n    alignItems: \"stretch\",\r\n    border: \"2px solid white\",\r\n  },\r\n  lineNumber: {\r\n    display: \"flex\",\r\n    justifyContent: \"flex-end\",\r\n    alignItems: \"center\",\r\n    paddingRight: 5,\r\n    background: \"black\",\r\n    color: \"white\",\r\n  },\r\n};\r\n","import React from \"react\";\r\nimport styles from \"../../styles\";\r\nimport { inputStyles } from \"./style.js\";\r\nimport { UUID } from \"../../utils.js\";\r\n\r\nconst Line = ({ index, id, value, style, onKeyDown, onChange, modifiable }) => {\r\n  if (modifiable)\r\n    return (\r\n      <div\r\n        contentEditable={true}\r\n        className={id + \"_line\"}\r\n        data-index={index}\r\n        type=\"text\"\r\n        spellCheck={false}\r\n        style={{ ...inputStyles.lineInput, ...style }}\r\n        onKeyDown={onKeyDown}\r\n        onInput={onChange}\r\n      />\r\n    );\r\n  else\r\n    return (\r\n      <div\r\n        className={id + \"_line\"}\r\n        data-index={index}\r\n        type=\"text\"\r\n        spellCheck={false}\r\n        style={{ ...inputStyles.lineInput, ...style }}\r\n      >\r\n        {value}\r\n      </div>\r\n    );\r\n};\r\n\r\nclass ConsoleEditor extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      lineNumber: 0,\r\n      lines: [{ value: \"\" }],\r\n    };\r\n    this.id = UUID();\r\n    this.lineOnChange = this.lineOnChange.bind(this);\r\n    this.lineOnKeyDown = this.lineOnKeyDown.bind(this);\r\n    this.setFocus = this.setFocus.bind(this);\r\n    this.consoleOptions = {\r\n      cls: () => {\r\n        this.setState((state) => ({\r\n          ...state,\r\n          lineNumber: 0,\r\n          lines: [{ value: \"\" }],\r\n        }));\r\n      },\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (Array.isArray(this.props.lines) && this.props.lines.length > 0)\r\n      this.setState((state) => ({\r\n        ...state,\r\n        lines: this.props.lines,\r\n      }));\r\n  }\r\n\r\n  lineOnChange(e) {\r\n    const value = e.target.innerText;\r\n    const lines = this.state.lines;\r\n    const index = Number(e.target.dataset.index);\r\n    lines[index].value = value;\r\n    this.setState((state) => ({\r\n      ...state,\r\n      lines,\r\n      lineNumber: lines.length - 1,\r\n    }));\r\n  }\r\n\r\n  setFocus(index) {\r\n    const lines = document.getElementsByClassName(this.id + \"_line\");\r\n    setTimeout(() => lines[index].focus(), 0);\r\n  }\r\n\r\n  lineOnKeyDown(e) {\r\n    const key = e.key;\r\n    const target = e.target;\r\n    const lines = this.state.lines;\r\n    const value = target.innerText;\r\n    const outputHead = \"<<< \";\r\n    if (key === \"Enter\") {\r\n      e.preventDefault();\r\n      if (value in this.consoleOptions) {\r\n        this.consoleOptions[value]();\r\n        return;\r\n      }\r\n      const result = this.props.evalFunc(value);\r\n      if (result.length !== 0) {\r\n        for (let res of result) {\r\n          lines.push({\r\n            value: outputHead + res,\r\n          });\r\n        }\r\n        lines.push({ value: \"\" });\r\n      } else {\r\n        lines.push({ value: \"\" });\r\n      }\r\n      this.setState(\r\n        (state) => ({\r\n          ...state,\r\n          lines,\r\n          lineNumber: lines.length - 1,\r\n        }),\r\n        () => {\r\n          this.setFocus(lines.length - 1);\r\n        }\r\n      );\r\n    } else if (key === \"ArrowUp\") {\r\n      e.preventDefault();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const lines = this.state.lines;\r\n    const inputLines = lines.map((line, index) => {\r\n      if (index === this.state.lineNumber) {\r\n        return (\r\n          <Line\r\n            index={index}\r\n            key={index}\r\n            id={this.id}\r\n            value={line.value}\r\n            modifiable={true}\r\n            style={{\r\n              background: \"black\",\r\n              minHeight: 20,\r\n              fontSize: 15,\r\n              fontFamily: \"roboto\",\r\n              color: \"lightgreen\",\r\n              paddingLeft: 5,\r\n            }}\r\n            onKeyDown={this.lineOnKeyDown}\r\n            onChange={this.lineOnChange}\r\n          />\r\n        );\r\n      } else {\r\n        return (\r\n          <Line\r\n            index={index}\r\n            key={index}\r\n            id={this.id}\r\n            value={line.value}\r\n            modifiable={false}\r\n            style={{\r\n              background: \"black\",\r\n              minHeight: 20,\r\n              fontSize: 15,\r\n              fontFamily: \"roboto\",\r\n              color: \"green\",\r\n              paddingLeft: 5,\r\n            }}\r\n            onKeyDown={this.lineOnKeyDown}\r\n            onChange={this.lineOnChange}\r\n          />\r\n        );\r\n      }\r\n    });\r\n    return (\r\n      <div\r\n        style={{\r\n          ...styles.row,\r\n          ...inputStyles.window,\r\n          height: this.props.height,\r\n          width: this.props.width,\r\n          background: \"grey\",\r\n          overflowY: \"auto\",\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            ...inputStyles.frame,\r\n            background: \"grey\",\r\n          }}\r\n        >\r\n          {inputLines}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ConsoleEditor;\r\n","import React from \"react\";\r\nimport styles from \"../../styles\";\r\nimport { IDEStyles } from \"./style.js\";\r\nimport CodeEditor from \"../CodeEditor\";\r\nimport FileExplorer from \"../FileExplorer\";\r\nimport Window from \"../Window\";\r\nimport { CloseOutlined } from \"@ant-design/icons\";\r\nimport WebView from \"../WebView\";\r\nimport ResizeBar from \"../ResizeBar\";\r\nimport { evaluate, lString } from \"../../utils.js\";\r\nimport ConsoleEditor from \"../ConsoleEditor\";\r\n\r\nexport const DisplayModes = {\r\n  NONE: 0,\r\n  PREVIEW: 1,\r\n  CONSOLE: 2,\r\n};\r\n\r\nclass IDE extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      currentFiles: [],\r\n      currentIndex: 0,\r\n      displayMode: DisplayModes.NONE,\r\n      dimensions: {\r\n        width: 650,\r\n        height: 430,\r\n        minWidth: 650,\r\n        minHeight: 430,\r\n        codeEditorWidth: 400,\r\n      },\r\n      resizing: false,\r\n      tempAppData: {},\r\n    };\r\n    this.openFile = this.openFile.bind(this);\r\n    this.saveFile = this.saveFile.bind(this);\r\n    this.onBeforeChange = this.onBeforeChange.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n    this.setFileIndex = this.setFileIndex.bind(this);\r\n    this.changeDisplayMode = this.changeDisplayMode.bind(this);\r\n    this.setDimensions = this.setDimensions.bind(this);\r\n    this.highlight = this.highlight.bind(this);\r\n    this.unhighlight = this.unhighlight.bind(this);\r\n    this.logMessage = this.logMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"message\", this.logMessage);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"message\", this.logMessage);\r\n  }\r\n\r\n  logMessage(e) {\r\n    const message = e.data;\r\n    const hash = \"ide\";\r\n    const frame = document.getElementById(hash + \"_appView\");\r\n    if (message.type === \"exec\") {\r\n      console.log(\"EXEC\", hash, message.command);\r\n    } else if (message.type === \"post\") {\r\n      console.log(\"POST\", hash, message.key, message.value);\r\n      this.setState((state) => ({\r\n        ...state,\r\n        appData: {\r\n          ...state.appData,\r\n          [message.key]: message.value,\r\n        },\r\n      }));\r\n    } else if (message.type === \"get\") {\r\n      const value = this.state.appData[message.key];\r\n      frame.contentWindow.postMessage({ ...message, response: value });\r\n      console.log(value);\r\n    }\r\n  }\r\n\r\n  openFile(file) {\r\n    for (let entry of this.state.currentFiles) {\r\n      if (entry.file.getHash() === file.getHash()) return;\r\n    }\r\n    this.setState((state) => ({\r\n      ...state,\r\n      currentFiles: [\r\n        ...state.currentFiles,\r\n        { file, value: file.getData(), saved: true },\r\n      ],\r\n    }));\r\n  }\r\n\r\n  saveFile(index) {\r\n    this.props.fileSystem.saveFile(\r\n      this.state.currentFiles[index].file.getHash(),\r\n      this.state.currentFiles[index].value\r\n    );\r\n    this.setState((state) => {\r\n      const files = this.state.currentFiles;\r\n      files[index].saved = true;\r\n      return {\r\n        ...state,\r\n        currentFiles: files,\r\n      };\r\n    });\r\n  }\r\n\r\n  closeFile(index) {\r\n    const files = this.state.currentFiles;\r\n    if (files[index].saved) {\r\n      files.splice(index, 1);\r\n      this.setState((state) => ({\r\n        ...state,\r\n        currentFiles: files,\r\n      }));\r\n    } else {\r\n      const res = window.confirm(\"Do you want to save your changes?\");\r\n      if (res) {\r\n        this.props.fileSystem.saveFile(\r\n          this.state.currentFiles[index].file.getHash(),\r\n          this.state.currentFiles[index].value\r\n        );\r\n      }\r\n      this.setState((state) => {\r\n        files.splice(index, 1);\r\n        return {\r\n          ...state,\r\n          currentFiles: files,\r\n        };\r\n      });\r\n    }\r\n  }\r\n\r\n  onBeforeChange = (editor, data, value, index) => {\r\n    this.setState((state) => {\r\n      const files = this.state.currentFiles;\r\n      files[index].value = value;\r\n      files[index].saved = false;\r\n      return {\r\n        ...state,\r\n        currentFiles: files,\r\n      };\r\n    });\r\n  };\r\n\r\n  onChange = () => {};\r\n\r\n  setFileIndex = (index) => {\r\n    this.setState((state) => ({\r\n      ...state,\r\n      currentIndex: index,\r\n    }));\r\n  };\r\n\r\n  changeDisplayMode = (mode) => {\r\n    this.setState((state) => ({\r\n      ...state,\r\n      displayMode: mode,\r\n    }));\r\n  };\r\n\r\n  setDimensions = (width, height) => {\r\n    this.setState((state) => ({\r\n      ...state,\r\n      dimensions: {\r\n        ...state.dimensions,\r\n        width,\r\n        height,\r\n      },\r\n    }));\r\n  };\r\n\r\n  resizeCodeEditor = (width) => {\r\n    this.setState((state) => ({\r\n      ...state,\r\n      dimensions: {\r\n        ...state.dimensions,\r\n        codeEditorWidth: width,\r\n      },\r\n      resizing: true,\r\n    }));\r\n  };\r\n\r\n  highlight(e) {\r\n    e.target.style.opacity = 0.8;\r\n  }\r\n\r\n  unhighlight(e) {\r\n    e.target.style.opacity = 1;\r\n  }\r\n\r\n  render() {\r\n    const ind = this.state.currentIndex;\r\n    const currentFiles = this.state.currentFiles;\r\n    const displayMode = this.state.displayMode;\r\n    const tabs = (\r\n      <div style={IDEStyles.tabRow}>\r\n        {currentFiles.map((entry, index) => (\r\n          <div\r\n            key={index}\r\n            style={IDEStyles.tabCell}\r\n            onClick={() => this.setFileIndex(index)}\r\n            onMouseOver={this.highlight}\r\n            onMouseOut={this.unhighlight}\r\n          >\r\n            {lString(entry.file.getName(), 10, \"...\") +\r\n              (entry.saved ? \" \" : \" \")}\r\n            <div onClick={() => this.closeFile(index)}>\r\n              <CloseOutlined />\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n    return (\r\n      <Window\r\n        id={\"code_editor_window\"}\r\n        name={\"JS Code\"}\r\n        top={0}\r\n        left={0}\r\n        onCancel={this.props.closeWindow}\r\n        onResize={this.setDimensions}\r\n      >\r\n        {tabs}\r\n        <div\r\n          style={{\r\n            ...styles.row,\r\n            flex: 1,\r\n            minHeight: 0,\r\n          }}\r\n        >\r\n          <FileExplorer\r\n            fileSystem={this.props.fileSystem}\r\n            currentDirectoryHash={this.props.currentHash}\r\n            width={250}\r\n            height={\"100%\"}\r\n            openFile={this.openFile}\r\n          />\r\n          {currentFiles[ind] && (\r\n            <CodeEditor\r\n              value={currentFiles[ind].value}\r\n              width={this.state.dimensions.codeEditorWidth}\r\n              height={\"100%\"}\r\n              title={currentFiles[ind].file.getName()}\r\n              id={currentFiles[ind].file.getHash()}\r\n              saved={currentFiles[ind].saved}\r\n              onBeforeChange={(editor, data, value) =>\r\n                this.onBeforeChange(editor, data, value, ind)\r\n              }\r\n              onChange={(editor, data, value) =>\r\n                this.onChange(editor, data, value, ind)\r\n              }\r\n              saveFile={() => this.saveFile(ind)}\r\n              changeDisplayMode={this.changeDisplayMode}\r\n            />\r\n          )}\r\n          {currentFiles[ind] && (\r\n            <ResizeBar\r\n              resizeable\r\n              leftWidth={this.state.dimensions.codeEditorWidth}\r\n              onResize={this.resizeCodeEditor}\r\n              onFinishResize={this.finishResize}\r\n            />\r\n          )}\r\n          {displayMode === DisplayModes.PREVIEW ? (\r\n            currentFiles[ind] && (\r\n              <WebView\r\n                id={\"ide_appView\"}\r\n                width={Math.max(\r\n                  this.state.dimensions.width -\r\n                    250 -\r\n                    3 -\r\n                    this.state.dimensions.codeEditorWidth,\r\n                  300\r\n                )}\r\n                height={\"100%\"}\r\n                data={currentFiles[ind].value}\r\n              />\r\n            )\r\n          ) : displayMode === DisplayModes.CONSOLE ? (\r\n            currentFiles[ind] && (\r\n              <ConsoleEditor\r\n                width={Math.max(\r\n                  this.state.dimensions.width -\r\n                    250 -\r\n                    5 -\r\n                    this.state.dimensions.codeEditorWidth,\r\n                  300\r\n                )}\r\n                height={\"100%\"}\r\n                fileSystem={this.props.fileSystem}\r\n                lines={[{ value: \"\" }]}\r\n                evalFunc={this.props.systemAPI.executeCommand}\r\n              />\r\n            )\r\n          ) : (\r\n            <></>\r\n          )}\r\n        </div>\r\n      </Window>\r\n    );\r\n  }\r\n}\r\n\r\nexport default IDE;\r\n","import { themeColors } from \"../../config\";\r\n\r\nexport const uploaderStyles = {\r\n  frame: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    alignSelf: \"stretch\",\r\n    padding: 10,\r\n  },\r\n  fileSelector: {\r\n    position: \"relative\",\r\n    borderRadius: \"50%\",\r\n    overflow: \"hidden\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n  previewImage: {\r\n    position: \"absolute\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    borderRadius: \"50%\",\r\n    zIndex: 5,\r\n    backgroundColor: themeColors.optionColor,\r\n    pointerEvents: \"none\",\r\n    border: \"1px solid gray\",\r\n  },\r\n};\r\n","import { uploaderStyles } from \"./style.js\";\r\n\r\nconst blobToBase64 = (blob) => {\r\n  const reader = new FileReader();\r\n  reader.readAsDataURL(blob);\r\n  return new Promise((resolve) => {\r\n    reader.onloadend = () => {\r\n      resolve(reader.result);\r\n    };\r\n  });\r\n};\r\n\r\nconst ImageUploader = ({\r\n  frameStyle,\r\n  imageUrl,\r\n  setImageUrl,\r\n  previewWidth = 50,\r\n  previewHeight = 50,\r\n  editable = true,\r\n}) => {\r\n  return (\r\n    <div style={{ ...uploaderStyles.frame, ...frameStyle }}>\r\n      <div\r\n        style={{\r\n          ...uploaderStyles.fileSelector,\r\n          width: previewWidth,\r\n          height: previewHeight,\r\n        }}\r\n      >\r\n        {imageUrl ? (\r\n          <img\r\n            alt={\"no preview\"}\r\n            src={imageUrl}\r\n            style={uploaderStyles.previewImage}\r\n          />\r\n        ) : (\r\n          <div style={uploaderStyles.previewImage}></div>\r\n        )}\r\n        {editable && (\r\n          <input\r\n            style={{\r\n              width: \"100%\",\r\n              height: \"100%\",\r\n              position: \"absolute\",\r\n            }}\r\n            onChange={async (e) => {\r\n              if (e.target.files.length > 0)\r\n                setImageUrl(await blobToBase64(e.target.files[0]));\r\n            }}\r\n            type=\"file\"\r\n            id=\"img\"\r\n            name=\"img\"\r\n            accept=\".jpg, .png, .svg\"\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default ImageUploader;\r\n","import { themeColors } from \"../../config.js\";\r\nexport const modalStyles = {\r\n  frame: {\r\n    flex: 1,\r\n    display: \"flex\",\r\n    alignSelf: \"stretch\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"flex-start\",\r\n    alignItems: \"flex-start\",\r\n    fontFamily: \"roboto\",\r\n    fontSize: 15,\r\n    color: themeColors.transparentWhite,\r\n    backgroundColor: themeColors.transparentBlack,\r\n  },\r\n  fileSelector: {\r\n    display: \"hidden\",\r\n  },\r\n  info: {\r\n    display: \"flex\",\r\n    alignSelf: \"stretch\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    fontSize: 12,\r\n    padding: 3,\r\n  },\r\n  label: {\r\n    display: \"flex\",\r\n    alignSelf: \"stretch\",\r\n    justifyContent: \"center\",\r\n    fontSize: 16,\r\n    fontWeight: \"bold\",\r\n    padding: 20,\r\n  },\r\n  input: {\r\n    fontSize: 12,\r\n    width: 80,\r\n    height: 16,\r\n    borderRadius: 5,\r\n    fontFamily: \"roboto\",\r\n    textShadow: \"0 0 5px white\",\r\n    padding: 2,\r\n    outline: \"none\",\r\n    border: \"none\",\r\n    backgroundColor: themeColors.optionColor,\r\n    color: themeColors.transparentWhite,\r\n    marginLeft: 5,\r\n  },\r\n  button: {\r\n    margin: 10,\r\n    padding: 10,\r\n    borderRadius: 10,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    backgroundColor: themeColors.transparentBlack,\r\n    alignSelf: \"center\",\r\n  },\r\n};\r\n","import Window from \"../Window\";\r\nimport ImageUploader from \"../ImageUploader\";\r\nimport { useState } from \"react\";\r\nimport { modalStyles } from \"./style.js\";\r\nimport { getSize } from \"../../utils\";\r\n\r\nconst InstallModal = ({\r\n  userId,\r\n  name,\r\n  fileSystem,\r\n  hash,\r\n  handleInstallApp,\r\n  closeInstaller,\r\n  localMode,\r\n}) => {\r\n  const fileNode = fileSystem.getFile(hash);\r\n  const fileSize = fileNode.getSize();\r\n  const fileName = fileNode.getName();\r\n  const [iconUrl, setIconUrl] = useState();\r\n  const [appName, changeAppName] = useState(\"\");\r\n  const [authorName, changeAuthorName] = useState(\"\");\r\n  const [shareApp, setShareApp] = useState(false);\r\n  const highlight = (e) => {\r\n    e.target.style.opacity = 0.5;\r\n  };\r\n  const unhighlight = (e) => {\r\n    e.target.style.opacity = 1;\r\n  };\r\n  return (\r\n    <Window id={hash} name={name} top={0} left={0} onCancel={closeInstaller}>\r\n      <div style={modalStyles.frame}>\r\n        <div style={modalStyles.label}>Source File Information</div>\r\n        <div style={modalStyles.info}>File Name: {fileName}</div>\r\n        <div style={modalStyles.info}>File Size: {getSize(fileSize)}</div>\r\n\r\n        <div style={modalStyles.label}>App Information</div>\r\n        <div style={modalStyles.info}>\r\n          App Name:{\" \"}\r\n          <input\r\n            type=\"text\"\r\n            value={appName}\r\n            onChange={(e) => changeAppName(e.target.value)}\r\n            style={modalStyles.input}\r\n          />\r\n        </div>\r\n        {shareApp && (\r\n          <div style={modalStyles.info}>\r\n            Author Nickname:{\" \"}\r\n            <input\r\n              type=\"text\"\r\n              value={authorName}\r\n              onChange={(e) => changeAuthorName(e.target.value)}\r\n              style={modalStyles.input}\r\n            />\r\n          </div>\r\n        )}\r\n        <div style={modalStyles.info}>\r\n          App Icon:\r\n          <ImageUploader imageUrl={iconUrl} setImageUrl={setIconUrl} />\r\n        </div>\r\n        {!localMode && (\r\n          <div style={modalStyles.info}>\r\n            <input\r\n              type=\"checkbox\"\r\n              id=\"share\"\r\n              name=\"share\"\r\n              onChange={(e) => {\r\n                setShareApp(e.target.checked);\r\n              }}\r\n            />\r\n            <label htmlFor=\"share\">Share to App Store</label>\r\n          </div>\r\n        )}\r\n\r\n        <div\r\n          style={modalStyles.button}\r\n          onMouseOver={highlight}\r\n          onMouseOut={unhighlight}\r\n          onClick={async () => {\r\n            const res = await handleInstallApp({\r\n              userId,\r\n              hash,\r\n              shareApp,\r\n              appName,\r\n              authorName,\r\n              fileSize,\r\n              iconUrl,\r\n            });\r\n            if (res.error) {\r\n              alert(res.errMsg);\r\n            } else {\r\n              closeInstaller();\r\n            }\r\n          }}\r\n        >\r\n          Submit Application\r\n        </div>\r\n      </div>\r\n    </Window>\r\n  );\r\n};\r\n\r\nexport default InstallModal;\r\n","import { themeColors } from \"../../config.js\";\r\nexport const menuStyles = {\r\n  bar: {\r\n    position: \"absolute\",\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    height: 50,\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    backgroundColor: themeColors.transparentBlack,\r\n    fontFamily: \"roboto\",\r\n  },\r\n  logOutBtn: {\r\n    padding: 5,\r\n    borderRadius: 5,\r\n    margin: 10,\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    backgroundColor: themeColors.transparentWhite,\r\n  },\r\n};\r\n","import { themeColors } from \"../../config.js\";\r\nexport const searchBarStyles = {\r\n  frame: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n  input: {\r\n    fontSize: 15,\r\n    borderRadius: 5,\r\n    fontFamily: \"roboto\",\r\n    textShadow: \"0 0 5px white\",\r\n    padding: 2,\r\n    outline: \"none\",\r\n    border: \"none\",\r\n    backgroundColor: themeColors.transparentWhite,\r\n  },\r\n  searchIcon: {\r\n    color: themeColors.transparentWhite,\r\n  },\r\n  searchBtn: {\r\n    padding: 5,\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { searchBarStyles } from \"./style.js\";\r\nimport { SearchOutlined } from \"@ant-design/icons\";\r\n\r\nconst SearchBar = ({ height, width, fontSize }) => {\r\n  const [value, changeValue] = useState(\"\");\r\n  const highlight = (e) => {\r\n    e.target.style.opacity = 0.5;\r\n  };\r\n\r\n  const unhighlight = (e) => {\r\n    e.target.style.opacity = 1;\r\n  };\r\n  return (\r\n    <div style={searchBarStyles.frame}>\r\n      <input\r\n        type=\"text\"\r\n        value={value}\r\n        onInput={(e) => {\r\n          changeValue(e.target.value);\r\n        }}\r\n        onClick={(e) => {\r\n          console.log(document.activeElement);\r\n          console.log(document.hasFocus());\r\n          console.log(window.gapi);\r\n        }}\r\n        style={{ ...searchBarStyles.input, height, width, fontSize }}\r\n      />\r\n      <div\r\n        style={searchBarStyles.searchBtn}\r\n        onMouseOver={highlight}\r\n        onMouseOut={unhighlight}\r\n      >\r\n        <SearchOutlined style={{ ...searchBarStyles.searchIcon, fontSize }} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n","import React from \"react\";\r\nimport { menuStyles } from \"./style.js\";\r\nimport SearchBar from \"../SearchBar\";\r\nimport ImageUploader from \"../ImageUploader\";\r\n\r\nconst MenuBar = ({ disconnect, userInfo, updateUserInfo }) => {\r\n  const highlight = (e) => {\r\n    e.target.style.opacity = 0.5;\r\n  };\r\n\r\n  const unhighlight = (e) => {\r\n    e.target.style.opacity = 1;\r\n  };\r\n\r\n  return (\r\n    <div style={menuStyles.bar}>\r\n      <ImageUploader\r\n        previewWidth={40}\r\n        previewHeight={40}\r\n        imageUrl={userInfo.profileUrl}\r\n        setImageUrl={async (url) => {\r\n          const msg = await updateUserInfo({ profileUrl: url });\r\n        }}\r\n      />\r\n      <SearchBar width={200} />\r\n      <div\r\n        style={menuStyles.logOutBtn}\r\n        onClick={async () => await disconnect()}\r\n        onMouseOver={highlight}\r\n        onMouseOut={unhighlight}\r\n      >\r\n        Disconnect\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MenuBar;\r\n","import { themeColors } from \"../../config\";\r\n\r\nexport const appExplorerStyles = {\r\n  frame: {\r\n    backgroundColor: themeColors.transparentWhite,\r\n    position: \"absolute\",\r\n    bottom: 0,\r\n    justifyContent: \"center\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    overflow: \"hidden\",\r\n    transition: \"width 0.2s, height 0.2s, opacity 0.1s\",\r\n    zIndex: 9,\r\n  },\r\n\r\n  container: {\r\n    width: \"80%\",\r\n    height: \"80%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"flex-start\",\r\n    alignItems: \"center\",\r\n    backgroundColor: themeColors.transparentBlack,\r\n    borderRadius: 20,\r\n    margin: 50,\r\n  },\r\n\r\n  appContainer: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    flexWrap: \"wrap\",\r\n    justifyContent: \"flex-start\",\r\n    alignItems: \"flex-start\",\r\n    maxWidth: 800,\r\n    transition: \"width 0.2s\",\r\n  },\r\n  icon: {\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n    borderRadius: \"50%\",\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    color: themeColors.optionTextColor,\r\n    fontFamily: \"roboto\",\r\n    margin: 10,\r\n    textShadow: \"0 0 5px white\",\r\n  },\r\n  exitBtn: {\r\n    position: \"absolute\",\r\n    bottom: 10,\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 25,\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    backgroundColor: themeColors.transparentBlack,\r\n  },\r\n};\r\n","import React from \"react\";\r\nimport { appExplorerStyles } from \"./style.js\";\r\nimport { CloseOutlined } from \"@ant-design/icons\";\r\nimport AppIcon from \"../AppIcon\";\r\nimport PopUpMenu from \"../PopUpMenu\";\r\n\r\nclass AppExplorerGUI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      applications: {},\r\n      popUpOn: false,\r\n      popUpPosition: {},\r\n      popUpEntries: [],\r\n    };\r\n    this.closePopUp = this.closePopUp.bind(this);\r\n    this.setPopUp = this.setPopUp.bind(this);\r\n    this.handleUninstallApp = this.handleUninstallApp.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState((state) => ({\r\n      ...state,\r\n      applications: this.props.fileSystem.retrieveApps(),\r\n    }));\r\n  }\r\n\r\n  handleUninstallApp(hash) {\r\n    const applications = this.state.applications;\r\n    delete applications[hash];\r\n    this.setState((state) => ({\r\n      ...state,\r\n      applications,\r\n    }));\r\n    this.props.fileSystem.uninstallApp(hash);\r\n  }\r\n\r\n  closePopUp(e) {\r\n    e.preventDefault();\r\n    if (e.type === \"click\")\r\n      window.removeEventListener(\"click\", this.closePopUp);\r\n    else window.removeEventListener(\"contextmenu\", this.closePopUp);\r\n    this.setState((state) => ({\r\n      ...state,\r\n      popUpOn: false,\r\n    }));\r\n  }\r\n\r\n  setPopUp(x, y, entries) {\r\n    this.setState((state) => ({\r\n      ...state,\r\n      popUpOn: true,\r\n      popUpPosition: { x, y },\r\n      popUpEntries: entries,\r\n    }));\r\n  }\r\n\r\n  render() {\r\n    const apps = this.state.applications;\r\n    const appArr = [];\r\n    const scale = this.props.systemData.iconSize;\r\n\r\n    for (let key in apps) {\r\n      const app = apps[key];\r\n      const metadata = app.getMetaData();\r\n      appArr.push(\r\n        <AppIcon\r\n          key={metadata.hash}\r\n          icon={\r\n            metadata.icon ? (\r\n              <img\r\n                alt={\"\"}\r\n                style={appExplorerStyles.icon}\r\n                src={metadata.icon}\r\n              />\r\n            ) : (\r\n              <div style={appExplorerStyles.icon}></div>\r\n            )\r\n          }\r\n          name={metadata.name}\r\n          nameChangable={false}\r\n          width={100}\r\n          height={110}\r\n          onClick={(e) => {\r\n            this.props.addCurrentApp(app);\r\n          }}\r\n          onRightClick={(e) => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            window.addEventListener(\"click\", this.closePopUp);\r\n            this.setPopUp(e.clientX, e.clientY, [\r\n              {\r\n                content: \"Inspect Raw\",\r\n                func: () => this.props.addCurrentRaw(metadata.hash),\r\n              },\r\n              {\r\n                content: \"Uninstall\",\r\n                func: () => this.handleUninstallApp(metadata.hash),\r\n              },\r\n            ]);\r\n          }}\r\n          nameOnChange={false}\r\n          scale={scale}\r\n        />\r\n      );\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <div\r\n          style={{\r\n            width: \"100%\",\r\n            height: this.props.explorerOn ? \"100%\" : \"0%\",\r\n            opacity: this.props.explorerOn ? 1 : 0,\r\n            ...appExplorerStyles.frame,\r\n          }}\r\n        >\r\n          <div style={appExplorerStyles.container}>\r\n            <div style={appExplorerStyles.title}>Applications</div>\r\n            <div\r\n              style={{\r\n                ...appExplorerStyles.appContainer,\r\n                width:\r\n                  Math.floor((this.props.dims.width * 0.8) / (100 * scale)) *\r\n                    (100 * scale) +\r\n                  \"px\",\r\n              }}\r\n            >\r\n              {appArr}\r\n            </div>\r\n          </div>\r\n          <div\r\n            style={appExplorerStyles.exitBtn}\r\n            onClick={this.props.toggleAppExplorer}\r\n          >\r\n            <CloseOutlined style={{ color: \"white\", fontSize: 24 }} />\r\n          </div>\r\n          {this.state.popUpOn && (\r\n            <PopUpMenu\r\n              top={this.state.popUpPosition.y}\r\n              left={this.state.popUpPosition.x}\r\n              entries={this.state.popUpEntries}\r\n            />\r\n          )}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AppExplorerGUI;\r\n","export const inputStyles = {\r\n  window: {\r\n    overflowY: \"auto\",\r\n    justifyContent: \"stretch\",\r\n    alignItems: \"flex-start\",\r\n  },\r\n  frame: {\r\n    display: \"flex\",\r\n    flex: 1,\r\n    flexDirection: \"column\",\r\n    justifyContent: \"flex-start\",\r\n    alignItems: \"stretch\",\r\n    padding: \"0px\",\r\n    outline: \"none\",\r\n  },\r\n  lineInput: {\r\n    outline: \"none\",\r\n    border: \"none\",\r\n    width: \"100%\",\r\n    margin: \"0\",\r\n    shadow: \"none\",\r\n  },\r\n  lineBar: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"flex-start\",\r\n    alignItems: \"stretch\",\r\n    borderWidth: \"0px\",\r\n    paddingRight: 5,\r\n    width: 50,\r\n    borderStyle: \"solid\",\r\n    borderColor: \"white\",\r\n  },\r\n  lineNumber: {\r\n    display: \"flex\",\r\n    justifyContent: \"flex-end\",\r\n    alignItems: \"center\",\r\n    paddingRight: 5,\r\n    background: \"black\",\r\n    color: \"white\",\r\n  },\r\n  bottomBar: {\r\n    height: 30,\r\n    display: \"flex\",\r\n    justifyContent: \"flex-start\",\r\n    alignItems: \"center\",\r\n  },\r\n};\r\n","import React from \"react\";\r\nimport styles from \"../../styles\";\r\nimport { inputStyles } from \"./style.js\";\r\nimport Window from \"../Window\";\r\n\r\nclass FileEditor extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      config: props.config,\r\n      width: props.height,\r\n      height: props.width,\r\n      lineNumber: 1,\r\n    };\r\n    this.restoreValue = this.restoreValue.bind(this);\r\n    this.calculateLines = this.calculateLines.bind(this);\r\n    this.frame = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    const frame = this.frame.current;\r\n    if (frame) {\r\n      const divHeight = frame.offsetHeight;\r\n      const lineHeight = parseInt(frame.style.lineHeight);\r\n      frame.innerText = this.props.value;\r\n      frame.addEventListener(\"keydown\", (e) => {\r\n        if (e.ctrlKey) {\r\n          if (e.which === 83) {\r\n            e.preventDefault();\r\n            this.props.saveFile();\r\n          }\r\n          return false;\r\n        }\r\n      });\r\n      this.setState((state) => ({\r\n        ...state,\r\n        lineNumber: divHeight / lineHeight,\r\n      }));\r\n    } else {\r\n      this.setState((state) => ({\r\n        ...state,\r\n        lineNumber: 1,\r\n      }));\r\n    }\r\n  }\r\n\r\n  restoreValue(a, b) {\r\n    const frame = this.frame.current;\r\n    if (frame) {\r\n      frame.innerText = this.props.value;\r\n      frame.addEventListener(\"keydown\", (e) => {\r\n        if (e.ctrlKey) {\r\n          if (e.which === 83) {\r\n            e.preventDefault();\r\n            this.props.saveFile();\r\n          }\r\n          return false;\r\n        }\r\n      });\r\n    }\r\n    this.calculateLines();\r\n  }\r\n\r\n  calculateLines() {\r\n    const frame = this.frame.current;\r\n    if (frame) {\r\n      const divHeight = frame.offsetHeight;\r\n      const lineHeight = parseInt(frame.style.lineHeight) - 0.16;\r\n      const lineNumber = divHeight / lineHeight;\r\n      this.setState((state) => ({\r\n        ...state,\r\n        lineNumber,\r\n      }));\r\n    } else {\r\n      this.setState((state) => ({\r\n        ...state,\r\n        lineNumber: 1,\r\n      }));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const config = this.props.config;\r\n    const lineNumbers = [];\r\n    for (let i = 0; i < this.state.lineNumber; i++)\r\n      lineNumbers.push(\r\n        <div\r\n          style={{\r\n            ...inputStyles.lineNumber,\r\n            height: parseInt(config.lineHeight) - 0.16,\r\n          }}\r\n          key={String(i)}\r\n        >\r\n          {String(i + 1)}\r\n        </div>\r\n      );\r\n    return (\r\n      <Window\r\n        id={this.props.id + \"_window\"}\r\n        top={0}\r\n        left={0}\r\n        name={\r\n          this.props.name +\r\n          (!this.props.editable\r\n            ? \" - [readonly]\"\r\n            : this.props.saved\r\n            ? \" \"\r\n            : \" \")\r\n        }\r\n        onClick={this.props.onFocus}\r\n        onCancel={this.props.closeWindow}\r\n        onResize={this.restoreValue}\r\n      >\r\n        <div\r\n          style={{\r\n            ...styles.row,\r\n            ...inputStyles.window,\r\n            height: this.state.height,\r\n            width: this.state.width,\r\n            background: config.frameColor,\r\n            color: config.textColor,\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              ...inputStyles.lineBar,\r\n              background: config.frameColor,\r\n              fontFamily: config.fontFamily,\r\n              fontSize: config.fontSize,\r\n            }}\r\n          >\r\n            {lineNumbers}\r\n          </div>\r\n\r\n          <div\r\n            ref={(c) => {\r\n              this.frame.current = c;\r\n            }}\r\n            id={this.props.id + \"_editorframe\"}\r\n            style={{\r\n              ...inputStyles.frame,\r\n              background: config.frameColor,\r\n              color: config.textColor,\r\n              lineHeight: config.lineHeight,\r\n              fontFamily: config.fontFamily,\r\n              fontSize: config.fontSize,\r\n            }}\r\n            spellCheck={false}\r\n            onInput={(e) => {\r\n              this.calculateLines();\r\n              this.props.onChangeText(e);\r\n            }}\r\n            contentEditable={this.props.editable}\r\n          ></div>\r\n          <div style={inputStyles.bottomBar}></div>\r\n        </div>\r\n      </Window>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FileEditor;\r\n","import Window from \"../Window\";\r\nimport WebView from \"../WebView\";\r\n\r\nconst MediaView = ({ hash, name, data, closeWindow, onFocus }) => {\r\n  return (\r\n    <Window\r\n      id={hash}\r\n      top={0}\r\n      left={0}\r\n      name={name}\r\n      onCancel={closeWindow}\r\n      onClick={onFocus}\r\n    >\r\n      <WebView id={hash} width={\"100%\"} height={\"100%\"} data={data} />\r\n    </Window>\r\n  );\r\n};\r\n\r\nexport default MediaView;\r\n","import Window from \"../Window\";\r\nimport WebView from \"../WebView\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst AppView = ({ id, app, closeWindow, handleAppMessage, onFocus }) => {\r\n  useEffect(() => {\r\n    window.addEventListener(\"message\", handleAppMessage);\r\n    return () => window.removeEventListener(\"message\", handleAppMessage);\r\n  }, [app]);\r\n  return (\r\n    <Window\r\n      id={app.getHash()}\r\n      top={0}\r\n      left={0}\r\n      name={app.getName()}\r\n      onClick={onFocus}\r\n      onCancel={closeWindow}\r\n    >\r\n      <WebView id={id} width={\"100%\"} height={\"100%\"} data={app.getData()} />\r\n    </Window>\r\n  );\r\n};\r\n\r\nexport default AppView;\r\n","export default __webpack_public_path__ + \"static/media/Night.35c6495d.jpg\";","export default __webpack_public_path__ + \"static/media/Lake.a961b170.jpg\";","export default __webpack_public_path__ + \"static/media/Town.41cb53df.jpg\";","export default __webpack_public_path__ + \"static/media/Boat.31e53002.jpg\";","import React from \"react\";\r\nimport styles from \"../../styles\";\r\nimport FileExplorerGUI from \"../../components/FileExplorerGUI\";\r\nimport WindowedFileExplorer from \"../../components/WindowedFileExplorer\";\r\nimport SysAppExplorerGUI from \"../../components/SysAppExplorerGUI\";\r\nimport IDE from \"../../components/IDE\";\r\nimport InstallModal from \"../../components/InstallModal\";\r\nimport MenuBar from \"../../components/MenuBar\";\r\nimport AppExplorerGUI from \"../../components/AppExplorerGUI\";\r\nimport FileEditor from \"../../components/FileEditor\";\r\nimport MediaView from \"../../components/MediaView\";\r\nimport AppView from \"../../components/AppView\";\r\nimport Window from \"../../components/Window\";\r\nimport ConsoleEditor from \"../../components/ConsoleEditor\";\r\nimport { themeColors } from \"../../config.js\";\r\nimport Night from \"../../background/Night.jpg\";\r\nimport Lake from \"../../background/Lake.jpg\";\r\nimport Town from \"../../background/Town.jpg\";\r\nimport Boat from \"../../background/Boat.jpg\";\r\nimport { UUID } from \"../../utils\";\r\n\r\nclass Desktop extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      codeEditorRoot: null,\r\n      width: window.innerWidth,\r\n      height: window.innerHeight,\r\n      fileExplorers: [],\r\n      currentWindows: [],\r\n      currentFiles: [],\r\n      currentRaw: [],\r\n      currentApps: [],\r\n      currentConsoles: [],\r\n      installHash: \"\",\r\n      appExplorerOn: false,\r\n      backgroundIndex: 0,\r\n    };\r\n    this.backgrounds = [Night, Lake, Town, Boat];\r\n    this.setCodeEditorRoot = this.setCodeEditorRoot.bind(this);\r\n    this.updateDimensions = this.updateDimensions.bind(this);\r\n    this.openWindow = this.openWindow.bind(this);\r\n    this.closeWindow = this.closeWindow.bind(this);\r\n    this.setInstallHash = this.setInstallHash.bind(this);\r\n    this.toggleAppExplorer = this.toggleAppExplorer.bind(this);\r\n    this.executeAppMessage = this.executeAppMessage.bind(this);\r\n    this.focusCurrentFile = this.focusCurrentFile.bind(this);\r\n    this.focusCurrentWindow = this.focusCurrentWindow.bind(this);\r\n    this.focusCurrentExplorer = this.focusCurrentExplorer.bind(this);\r\n    this.focusCurrentRaw = this.focusCurrentRaw.bind(this);\r\n    this.focusCurrentApp = this.focusCurrentApp.bind(this);\r\n    this.focusCurrentConsole = this.focusCurrentConsole.bind(this);\r\n    this.addCurrentFile = this.addCurrentFile.bind(this);\r\n    this.addCurrentWindow = this.addCurrentWindow.bind(this);\r\n    this.addCurrentApp = this.addCurrentApp.bind(this);\r\n    this.addCurrentRaw = this.addCurrentRaw.bind(this);\r\n    this.addCurrentConsole = this.addCurrentConsole.bind(this);\r\n    this.closeCurrentRaw = this.closeCurrentRaw.bind(this);\r\n    this.closeCurrentApp = this.closeCurrentApp.bind(this);\r\n    this.closeCurrentFile = this.closeCurrentFile.bind(this);\r\n    this.closeCurrentWindow = this.closeCurrentWindow.bind(this);\r\n    this.closeCurrentConsole = this.closeCurrentConsole.bind(this);\r\n    this.saveCurrentFile = this.saveCurrentFile.bind(this);\r\n    this.onChangeText = this.onChangeText.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const systemData = this.props.systemData;\r\n    window.addEventListener(\"resize\", this.updateDimensions);\r\n    if (systemData.rollingBackground) {\r\n      this.timer = setInterval(\r\n        () =>\r\n          this.props.updateSystemData({\r\n            backgroundIndex:\r\n              systemData.backgroundIndex === this.backgrounds.length - 1\r\n                ? 0\r\n                : systemData.backgroundIndex + 1,\r\n          }),\r\n        systemData.rollingInterval ? systemData.rollingInterval * 1000 : 30000\r\n      );\r\n    } else {\r\n      this.setState((state) => ({\r\n        ...state,\r\n        backgroundIndex: systemData.backgroundIndex\r\n          ? systemData.backgroundIndex\r\n          : 0,\r\n      }));\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.timer);\r\n    window.removeEventListener(\"resize\", this.updateDimensions);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const systemData = this.props.systemData;\r\n    if (systemData.backgroundIndex !== prevProps.systemData.backgroundIndex) {\r\n      this.setState((state) => ({\r\n        ...state,\r\n        backgroundIndex: systemData.backgroundIndex\r\n          ? systemData.backgroundIndex\r\n          : 0,\r\n      }));\r\n      clearInterval(this.timer);\r\n      if (systemData.rollingBackground) {\r\n        this.timer = setInterval(\r\n          () =>\r\n            this.props.updateSystemData({\r\n              backgroundIndex:\r\n                systemData.backgroundIndex === this.backgrounds.length - 1\r\n                  ? 0\r\n                  : systemData.backgroundIndex + 1,\r\n            }),\r\n          systemData.rollingInterval ? systemData.rollingInterval * 1000 : 30000\r\n        );\r\n      }\r\n    }\r\n    if (\r\n      systemData.rollingBackground !== prevProps.systemData.rollingBackground ||\r\n      systemData.rollingInterval !== prevProps.systemData.rollingInterval\r\n    ) {\r\n      clearInterval(this.timer);\r\n      if (systemData.rollingBackground) {\r\n        this.timer = setInterval(\r\n          () =>\r\n            this.props.updateSystemData({\r\n              backgroundIndex:\r\n                systemData.backgroundIndex === this.backgrounds.length - 1\r\n                  ? 0\r\n                  : systemData.backgroundIndex + 1,\r\n            }),\r\n          systemData.rollingInterval ? systemData.rollingInterval * 1000 : 30000\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  updateDimensions() {\r\n    this.setState((state) => ({\r\n      ...state,\r\n      width: window.innerWidth,\r\n      height: window.innerHeight,\r\n    }));\r\n  }\r\n\r\n  setInstallHash(hash) {\r\n    this.setState((state) => ({\r\n      ...state,\r\n      installHash: hash,\r\n    }));\r\n  }\r\n\r\n  setCodeEditorRoot(hash) {\r\n    this.setState((state) => ({\r\n      ...state,\r\n      codeEditorRoot: hash,\r\n    }));\r\n  }\r\n\r\n  closeWindow(index) {\r\n    const windows = this.state.fileExplorers;\r\n    windows.splice(index, 1);\r\n    this.setState((state) => ({\r\n      ...state,\r\n      fileExplorers: windows,\r\n    }));\r\n  }\r\n\r\n  openWindow(root) {\r\n    const windows = this.state.fileExplorers;\r\n    windows.push(root);\r\n    this.setState((state) => ({\r\n      ...state,\r\n      fileExplorers: windows,\r\n    }));\r\n  }\r\n\r\n  toggleAppExplorer() {\r\n    this.setState((state) => ({\r\n      ...state,\r\n      appExplorerOn: !state.appExplorerOn,\r\n    }));\r\n  }\r\n\r\n  executeAppMessage(hash, message) {\r\n    const fileSystem = this.props.fileSystem;\r\n    const frame = document.getElementById(hash + \"_appView\");\r\n    if (message.type === \"exec\") {\r\n      console.log(\"EXEC\", hash, message.command);\r\n    } else if (message.type === \"post\") {\r\n      console.log(\"POST\", hash, message.key, message.value);\r\n      fileSystem.setAppStorage(hash, message.key, message.value);\r\n    } else if (message.type === \"get\") {\r\n      console.log(\"GET\", hash, message.key);\r\n      const value = fileSystem.getAppStorage(hash, message.key);\r\n      frame.contentWindow.postMessage({ ...message, response: value });\r\n      console.log(value);\r\n    }\r\n  }\r\n\r\n  addCurrentFile(hash) {\r\n    for (let entry of this.state.currentFiles) {\r\n      if (entry.metadata.hash === hash) return;\r\n    }\r\n    const file = this.props.fileSystem.getFile(hash);\r\n    this.setState((state) => ({\r\n      ...state,\r\n      currentFiles: [\r\n        ...state.currentFiles,\r\n        { metadata: file.getMetaData(), value: file.getData(), saved: true },\r\n      ],\r\n    }));\r\n  }\r\n\r\n  addCurrentWindow(hash) {\r\n    for (let entry of this.state.currentWindows) {\r\n      if (entry.metadata.hash === hash) return;\r\n    }\r\n    const file = this.props.fileSystem.getFile(hash);\r\n    this.setState((state) => ({\r\n      ...state,\r\n      currentWindows: [\r\n        ...state.currentWindows,\r\n        { metadata: file.getMetaData(), value: file.getData(), saved: true },\r\n      ],\r\n    }));\r\n  }\r\n\r\n  addCurrentConsole(hash) {\r\n    const uid = UUID();\r\n    this.setState((state) => ({\r\n      ...state,\r\n      currentConsoles: [...state.currentConsoles, { hash, uid }],\r\n    }));\r\n  }\r\n\r\n  onChangeText(e, index) {\r\n    const text = e.target.innerText;\r\n    const currentFiles = this.state.currentFiles;\r\n    currentFiles[index].value = text;\r\n    currentFiles[index].saved = false;\r\n    this.setState((state) => ({\r\n      ...state,\r\n      currentFiles: currentFiles,\r\n      popUpOn: false,\r\n    }));\r\n  }\r\n\r\n  saveCurrentFile(index) {\r\n    const currentFiles = this.state.currentFiles;\r\n    currentFiles[index].saved = true;\r\n\r\n    this.props.fileSystem.saveFile(\r\n      currentFiles[index].metadata.hash,\r\n      currentFiles[index].value\r\n    );\r\n    this.setState((state) => ({\r\n      ...state,\r\n      currentFiles,\r\n    }));\r\n  }\r\n\r\n  closeCurrentFile(index) {\r\n    const currentFiles = this.state.currentFiles;\r\n    if (!currentFiles[index].saved) {\r\n      const noSave = window.confirm(\r\n        \"Do you want to close without saving your modifications? ('Ctrl + S' to save)\"\r\n      );\r\n      if (noSave) {\r\n        currentFiles.splice(index, 1);\r\n        this.setState((state) => ({\r\n          ...state,\r\n          currentFiles,\r\n        }));\r\n      }\r\n    } else {\r\n      currentFiles.splice(index, 1);\r\n      this.setState((state) => ({\r\n        ...state,\r\n        currentFiles,\r\n      }));\r\n    }\r\n  }\r\n\r\n  closeCurrentConsole(index) {\r\n    const currentConsoles = this.state.currentConsoles;\r\n    currentConsoles.splice(index, 1);\r\n    this.setState((state) => ({\r\n      ...state,\r\n      currentConsoles,\r\n    }));\r\n  }\r\n\r\n  focusCurrentWindow(index) {\r\n    const currentWindows = this.state.currentWindows;\r\n    const currentWindow = currentWindows.splice(index, 1);\r\n    currentWindows.push(...currentWindow);\r\n    this.setState((state) => ({\r\n      ...state,\r\n      currentWindows,\r\n    }));\r\n  }\r\n\r\n  focusCurrentFile(index) {\r\n    const currentFiles = this.state.currentFiles;\r\n    const currentFile = currentFiles.splice(index, 1);\r\n    currentFiles.push(...currentFile);\r\n    this.setState((state) => ({\r\n      ...state,\r\n      currentFiles,\r\n    }));\r\n  }\r\n\r\n  focusCurrentRaw(index) {\r\n    const currentRaw = this.state.currentRaw;\r\n    const currentR = currentRaw.splice(index, 1);\r\n    currentRaw.push(...currentR);\r\n    this.setState((state) => ({\r\n      ...state,\r\n      currentRaw,\r\n    }));\r\n  }\r\n\r\n  focusCurrentApp(index) {\r\n    const currentApps = this.state.currentApps;\r\n    const currentApp = currentApps.splice(index, 1);\r\n    currentApps.push(...currentApp);\r\n    this.setState((state) => ({\r\n      ...state,\r\n      currentApps,\r\n    }));\r\n  }\r\n\r\n  focusCurrentExplorer(index) {\r\n    const fileExplorers = this.state.fileExplorers;\r\n    const fileExplorer = fileExplorers.splice(index, 1);\r\n    fileExplorers.push(...fileExplorer);\r\n    this.setState((state) => ({\r\n      ...state,\r\n      fileExplorers,\r\n    }));\r\n  }\r\n\r\n  focusCurrentConsole(index) {\r\n    const currentConsoles = this.state.currentConsoles;\r\n    const currentConsole = currentConsoles.splice(index, 1);\r\n    currentConsoles.push(...currentConsole);\r\n    this.setState((state) => ({\r\n      ...state,\r\n      currentConsoles,\r\n    }));\r\n  }\r\n\r\n  closeCurrentWindow(index) {\r\n    const currentWindows = this.state.currentWindows;\r\n    if (!currentWindows[index].saved) {\r\n      const noSave = window.confirm(\r\n        \"Do you want to close without saving your modifications? ('Ctrl + S' to save)\"\r\n      );\r\n      if (noSave) {\r\n        currentWindows.splice(index, 1);\r\n        this.setState((state) => ({\r\n          ...state,\r\n          currentWindows,\r\n        }));\r\n      }\r\n    } else {\r\n      currentWindows.splice(index, 1);\r\n      this.setState((state) => ({\r\n        ...state,\r\n        currentWindows,\r\n      }));\r\n    }\r\n  }\r\n\r\n  addCurrentRaw(hash) {\r\n    for (let entry of this.state.currentRaw) {\r\n      if (entry.metadata.hash === hash) return;\r\n    }\r\n    const app = this.props.fileSystem.getApp(hash);\r\n    this.setState((state) => ({\r\n      ...state,\r\n      currentRaw: [\r\n        ...state.currentRaw,\r\n        { metadata: app.getMetaData(), value: app.getData(), saved: true },\r\n      ],\r\n    }));\r\n  }\r\n\r\n  addCurrentApp(app) {\r\n    const currentApps = this.state.currentApps;\r\n    currentApps.push(app);\r\n    this.setState((state) => ({\r\n      ...state,\r\n      currentApps,\r\n    }));\r\n  }\r\n\r\n  closeCurrentApp(index) {\r\n    const currentApps = this.state.currentApps;\r\n    currentApps.splice(index, 1);\r\n    this.setState((state) => ({\r\n      ...state,\r\n      currentApps,\r\n    }));\r\n  }\r\n\r\n  closeCurrentRaw(index) {\r\n    const currentRaw = this.state.currentRaw;\r\n    if (!currentRaw[index].saved) {\r\n      const noSave = window.confirm(\r\n        \"Do you want to close without saving your modifications? ('Ctrl + S' to save)\"\r\n      );\r\n      if (noSave) {\r\n        currentRaw.splice(index, 1);\r\n        this.setState((state) => ({\r\n          ...state,\r\n          currentRaw,\r\n        }));\r\n      }\r\n    } else {\r\n      currentRaw.splice(index, 1);\r\n      this.setState((state) => ({\r\n        ...state,\r\n        currentRaw,\r\n      }));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const fileSystem = this.props.fileSystem;\r\n    const systemAPI = this.props.systemAPI;\r\n    const fileExplorerWindows = this.state.fileExplorers.map((root, index) => (\r\n      <WindowedFileExplorer\r\n        key={root}\r\n        fileSystem={this.props.fileSystem}\r\n        setCodeEditorRoot={this.setCodeEditorRoot}\r\n        setInstallHash={this.setInstallHash}\r\n        addCurrentFile={this.addCurrentFile}\r\n        addCurrentWindow={this.addCurrentWindow}\r\n        closeCurrentWindow={this.closeCurrentWindow}\r\n        closeCurrentFile={this.closeCurrentFile}\r\n        saveCurrentFile={this.saveCurrentFile}\r\n        root={root}\r\n        id={root}\r\n        onFocus={() => this.focusCurrentExplorer(index)}\r\n        name={fileSystem.getDirectory(root).getName()}\r\n        closeWindow={() => this.closeWindow(index)}\r\n        openWindow={this.openWindow}\r\n        systemData={this.props.systemData}\r\n      />\r\n    ));\r\n    const rawWindows = this.state.currentRaw.map((entry, index) => (\r\n      <FileEditor\r\n        key={entry.metadata.hash}\r\n        id={entry.metadata.hash}\r\n        config={{\r\n          frameColor: themeColors.backgroundTheme,\r\n          textColor: themeColors.foregroundTheme,\r\n          lineHeight: \"20px\",\r\n          fontFamily: \"roboto\",\r\n          fontSize: 15,\r\n        }}\r\n        onFocus={() => this.focusCurrentRaw(index)}\r\n        name={entry.metadata.name}\r\n        value={entry.value}\r\n        saved={entry.saved}\r\n        closeWindow={() => this.closeCurrentRaw(index)}\r\n        height={\"100%\"}\r\n        width={\"100%\"}\r\n      />\r\n    ));\r\n    const fileWindows = this.state.currentFiles.map((entry, index) => (\r\n      <FileEditor\r\n        key={entry.metadata.hash}\r\n        id={entry.metadata.hash}\r\n        config={{\r\n          frameColor: themeColors.backgroundTheme,\r\n          textColor: themeColors.foregroundTheme,\r\n          lineHeight: \"20px\",\r\n          fontFamily: \"roboto\",\r\n          fontSize: 15,\r\n        }}\r\n        name={entry.metadata.name}\r\n        value={entry.value}\r\n        saved={entry.saved}\r\n        onChangeText={(e) => this.onChangeText(e, index)}\r\n        closeWindow={() => this.closeCurrentFile(index)}\r\n        onFocus={() => this.focusCurrentFile(index)}\r\n        saveFile={() => this.saveCurrentFile(index)}\r\n        editable={true}\r\n        height={\"100%\"}\r\n        width={\"100%\"}\r\n      />\r\n    ));\r\n    const mediaWindows = this.state.currentWindows.map((entry, index) => (\r\n      <MediaView\r\n        key={entry.metadata.hash}\r\n        name={entry.metadata.name}\r\n        hash={entry.metadata.hash}\r\n        data={entry.value}\r\n        onFocus={() => this.focusCurrentWindow(index)}\r\n        closeWindow={() => this.closeCurrentWindow(index)}\r\n      />\r\n    ));\r\n    const appWindows = this.state.currentApps.map((entry, index) => (\r\n      <AppView\r\n        key={entry.getHash()}\r\n        app={entry}\r\n        id={entry.getHash() + \"_appView\"}\r\n        closeWindow={() => this.closeCurrentApp(index)}\r\n        onFocus={() => this.focusCurrentApp(index)}\r\n        handleAppMessage={(msg) =>\r\n          this.executeAppMessage(entry.getHash(), msg.data)\r\n        }\r\n      />\r\n    ));\r\n    const consoleWindows = this.state.currentConsoles.map((entry, index) => (\r\n      <Window\r\n        id={\"console_window\"}\r\n        key={entry.uid}\r\n        top={0}\r\n        left={0}\r\n        name={\"console\"}\r\n        onClick={() => this.focusCurrentConsole(index)}\r\n        onCancel={() => this.closeCurrentConsole(index)}\r\n      >\r\n        <ConsoleEditor\r\n          width={\"100%\"}\r\n          height={\"100%\"}\r\n          lines={[{ value: \"\" }]}\r\n          fileSystem={this.props.fileSystem}\r\n          evalFunc={this.props.systemAPI.executeCommand}\r\n        />\r\n      </Window>\r\n    ));\r\n\r\n    return (\r\n      <div\r\n        className=\"desktop\"\r\n        style={{\r\n          ...styles.fullScreenContainer,\r\n          ...styles.column,\r\n          backgroundColor: themeColors.backgroundTheme,\r\n          backgroundSize: \"cover\",\r\n          backgroundImage: `url(${\r\n            this.backgrounds[this.state.backgroundIndex]\r\n          })`,\r\n        }}\r\n      >\r\n        <MenuBar\r\n          disconnect={this.props.signOutUser}\r\n          userInfo={this.props.userInfo}\r\n          updateUserInfo={this.props.updateUserInfo}\r\n        />\r\n        <FileExplorerGUI\r\n          fileSystem={fileSystem}\r\n          localMode={this.props.localMode}\r\n          setCodeEditorRoot={this.setCodeEditorRoot}\r\n          setInstallHash={this.setInstallHash}\r\n          root={\"root\"}\r\n          dims={{ width: this.state.width, height: this.state.height }}\r\n          openWindow={this.openWindow}\r\n          addCurrentFile={this.addCurrentFile}\r\n          addCurrentWindow={this.addCurrentWindow}\r\n          addCurrentConsole={this.addCurrentConsole}\r\n          closeCurrentWindow={this.closeCurrentWindow}\r\n          closeCurrentFile={this.closeCurrentFile}\r\n          saveCurrentFile={this.saveCurrentFile}\r\n          systemData={this.props.systemData}\r\n        />\r\n        <SysAppExplorerGUI\r\n          dims={{ width: this.state.width, height: this.state.height }}\r\n          fileSystem={fileSystem}\r\n          systemData={this.props.systemData}\r\n          updateSystemData={this.props.updateSystemData}\r\n          backgrounds={this.backgrounds}\r\n          userInfo={this.props.userInfo}\r\n          localMode={this.props.localMode}\r\n          appFuncs={{\r\n            toggleAppExplorer: this.toggleAppExplorer,\r\n          }}\r\n        />\r\n        {fileExplorerWindows}\r\n        {fileWindows}\r\n        {mediaWindows}\r\n        {rawWindows}\r\n        {appWindows}\r\n        {consoleWindows}\r\n        {this.state.installHash !== \"\" && (\r\n          <InstallModal\r\n            userId={this.props.userId}\r\n            hash={this.state.installHash}\r\n            localMode={this.props.localMode}\r\n            name={\"App Installer\"}\r\n            fileSystem={this.props.fileSystem}\r\n            handleInstallApp={this.props.handleInstallApp}\r\n            closeInstaller={() => this.setInstallHash(\"\")}\r\n          />\r\n        )}\r\n        {this.state.codeEditorRoot && (\r\n          <IDE\r\n            systemAPI={systemAPI}\r\n            fileSystem={fileSystem}\r\n            currentHash={this.state.codeEditorRoot}\r\n            closeWindow={() => this.setCodeEditorRoot(null)}\r\n            executeAppMessage={this.executeAppMessage}\r\n          />\r\n        )}\r\n        <AppExplorerGUI\r\n          explorerOn={this.state.appExplorerOn}\r\n          dims={{ width: this.state.width, height: this.state.height }}\r\n          fileSystem={fileSystem}\r\n          toggleAppExplorer={this.toggleAppExplorer}\r\n          addCurrentApp={this.addCurrentApp}\r\n          addCurrentRaw={this.addCurrentRaw}\r\n          closeCurrentApp={this.closeCurrentApp}\r\n          closeCurrentRaw={this.closeCurrentRaw}\r\n          systemData={this.props.systemData}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Desktop;\r\n","export const getOption = (arg) => {\r\n  if (arg.length <= 0) {\r\n    return false;\r\n  } else if (arg[0] === \"-\") {\r\n    return arg.slice(1, arg.length);\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const parseOptions = (segments) => {\r\n  let options = [];\r\n  let args = [];\r\n  for (let seg of segments) {\r\n    let opt = getOption(seg);\r\n    if (opt) options.push(opt);\r\n    else args.push(seg);\r\n  }\r\n  return {\r\n    options,\r\n    args,\r\n  };\r\n};\r\n\r\nexport const createError = (errMsg, multi = false) => {\r\n  return { error: true, errMsg, multi };\r\n};\r\n\r\nexport const createSuccess = (msg, multi = false) => {\r\n  return { error: false, msg, multi };\r\n};\r\n","import { parseOptions, createError, createSuccess } from \"./utils.jsx\";\r\nimport { TYPES } from \"../segments/FileSystem\";\r\n\r\nconst Errors = {\r\n  INVALID_PATH: (path = \"\") => `Path ${path} not valid`,\r\n  DIR_NOT_FOUND: (dir = \"\") => `Directory ${dir} not found`,\r\n  NODE_NOT_FOUND: (node = \"\") => `Directory ${node} not found`,\r\n  OPT_NOT_VALID: (opt = \"\") => `Option ${opt} not valid`,\r\n  ARG_MISSING: (arg = \"\") => `Argument '${arg}' not specified`,\r\n  ARG_REDUNDANT: () => `More arguments than expected`,\r\n  NODE_NOT_REMOVED: (name) => `Node '${name}' cannot be removed`,\r\n};\r\n\r\nconst Successes = {\r\n  NODE_REMOVED: (name) => `Node '${name}' removed`,\r\n};\r\n\r\nconst parsePath = (pathStr, oPathArr) => {\r\n  oPathArr = oPathArr.slice();\r\n  if (pathStr.length === 0) {\r\n    return createError(Errors.INVALID_PATH(pathStr));\r\n  }\r\n  if (pathStr[0] === \"/\") {\r\n    oPathArr = [\"root\"];\r\n  }\r\n  const rPathArr = pathStr.split(\"/\").filter((e) => e !== \"\");\r\n  for (let entry of rPathArr) {\r\n    if (entry === \".\") {\r\n      continue;\r\n    } else if (entry === \"..\") {\r\n      if (oPathArr.length <= 1) {\r\n        return createError(Errors.INVALID_PATH(pathStr));\r\n      } else {\r\n        oPathArr.pop();\r\n      }\r\n    } else {\r\n      oPathArr.push(entry);\r\n    }\r\n  }\r\n  return createSuccess(oPathArr, true);\r\n};\r\n\r\nconst changePath = (newPath, system) => {\r\n  const path = newPath.slice();\r\n  const dir = system.getFileSystem().getDirByPath(path);\r\n  if (!dir) {\r\n    return createError(Errors.DIR_NOT_FOUND(newPath.join(\"/\")));\r\n  } else {\r\n    system.setPath(newPath);\r\n    system.setDirectory(dir);\r\n    return createSuccess();\r\n  }\r\n};\r\n\r\nconst createPath = (newPath, system) => {\r\n  const path = newPath.slice();\r\n  const fileSystem = system.getFileSystem();\r\n  const dirName = path.pop();\r\n  const parentDir = fileSystem.getDirByPath(path);\r\n  if (!parentDir) {\r\n    return createError(Errors.DIR_NOT_FOUND(path.join(\"/\")));\r\n  } else {\r\n    const dirHash = fileSystem.createNewDirectory(parentDir.getHash(), dirName);\r\n    system.setPath(newPath);\r\n    system.setDirectory(fileSystem.getDirectory(dirHash));\r\n    return createSuccess();\r\n  }\r\n};\r\n\r\n/**\r\n * Change the system directory\r\n * @param {Array} cmds\r\n * @param {SystemAPI} system\r\n * @returns\r\n */\r\nconst changeDirectory = (cmds, system) => {\r\n  const { options, args } = parseOptions(cmds);\r\n  let cFlag = false;\r\n  let hFlag = false;\r\n  let res = null;\r\n  for (let opt of options) {\r\n    if (opt === \"c\") {\r\n      cFlag = true;\r\n    } else if (opt === \"h\") {\r\n      hFlag = true;\r\n    } else {\r\n      return createError(Errors.OPT_NOT_VALID(opt));\r\n    }\r\n  }\r\n  if (args.length === 0) {\r\n    if (hFlag) {\r\n      return createSuccess(fs.cd.help, true);\r\n    }\r\n    return createError(Errors.ARG_MISSING(\"directory\"));\r\n  }\r\n  if (args.length > 1) {\r\n    return createError(Errors.ARG_REDUNDANT());\r\n  }\r\n  const rPath = args[0];\r\n  let oPathArr = system.getPath();\r\n  if (hFlag) {\r\n    return createError(Errors.ARG_REDUNDANT());\r\n  }\r\n  res = parsePath(rPath, oPathArr);\r\n  if (res.error) {\r\n    return createError(res.errMsg);\r\n  }\r\n  const pathArr = res.msg;\r\n  if (cFlag) {\r\n    res = createPath(pathArr, system);\r\n  }\r\n  res = changePath(pathArr, system);\r\n  if (res.error) {\r\n    return createError(res.errMsg);\r\n  } else {\r\n    return createSuccess(\r\n      [\"Path changed\", \"Current Path: \" + pathArr.join(\"/\")],\r\n      true\r\n    );\r\n  }\r\n};\r\n\r\n/**\r\n * Remove node from file system\r\n * @param {Array} cmds\r\n * @param {SystemAPI} system\r\n * @returns\r\n */\r\nconst removeNode = (cmds, system) => {\r\n  const { options, args } = parseOptions(cmds);\r\n  let dFlag = false;\r\n  let res = null;\r\n  const fs = system.getFileSystem();\r\n  const oPathArr = system.getPath();\r\n  for (let opt of options) {\r\n    if (opt === \"d\") {\r\n      dFlag = true;\r\n    } else {\r\n      return createError(Errors.OPT_NOT_VALID(opt));\r\n    }\r\n  }\r\n  if (args.length === 0) {\r\n    return createError(Errors.ARG_MISSING(\"node\"));\r\n  }\r\n\r\n  let resArr = [];\r\n  for (let pathStr of args) {\r\n    res = parsePath(pathStr, oPathArr);\r\n    if (!res) {\r\n      return createError(res.errMsg);\r\n    } else {\r\n      const pathArr = res.msg;\r\n      const node = fs.getNodeByPath(pathArr);\r\n      if (!node) {\r\n        return createError(Errors.NODE_NOT_FOUND(pathArr.join(\"/\")));\r\n      } else {\r\n        res = fs.removeNode(node.getParent(), node.getHash());\r\n        if (dFlag) {\r\n          fs.deepRemoveNode(node.getHash());\r\n        }\r\n        if (res) {\r\n          resArr.push(Successes.NODE_REMOVED(node.getHash()));\r\n        } else {\r\n          resArr.push(Errors.NODE_NOT_REMOVED(node.getHash()));\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return createSuccess(resArr, true);\r\n};\r\n\r\n/**\r\n * List current directory info\r\n * @param {Array} cmds\r\n * @param {SystemAPI} system\r\n * @returns\r\n */\r\nconst listDirectory = (cmds, system) => {\r\n  const { options, args } = parseOptions(cmds);\r\n  let lFlag = false;\r\n  let res = null;\r\n  const oPathArr = system.getPath();\r\n  const fs = system.getFileSystem();\r\n  for (let opt of options) {\r\n    if (opt === \"l\") {\r\n      lFlag = true;\r\n    } else {\r\n      return createError(Errors.OPT_NOT_VALID(opt));\r\n    }\r\n  }\r\n\r\n  let children = [];\r\n  if (args.length === 0) {\r\n    const dir = fs.getDirByPath(oPathArr);\r\n    if (!dir) {\r\n      return createError(Errors.DIR_NOT_FOUND(oPathArr.join(\"/\")));\r\n    }\r\n    children = fs.retrieveDirectoryContent(dir.getHash());\r\n  } else if (args.length > 1) {\r\n    return createError(Errors.ARG_REDUNDANT());\r\n  } else {\r\n    const rPath = args[0];\r\n    res = parsePath(rPath, oPathArr);\r\n    if (res.error) {\r\n      return createError(res.errMsg);\r\n    } else {\r\n      const pathArr = res.msg;\r\n      const dir = fs.getDirByPath(pathArr);\r\n      if (!dir) {\r\n        return createError(Errors.DIR_NOT_FOUND(pathArr.join(\"/\")));\r\n      } else {\r\n        children = fs.retrieveDirectoryContent(dir.getHash());\r\n      }\r\n    }\r\n  }\r\n  if (lFlag) {\r\n    return createSuccess(\r\n      Object.values(children).map(\r\n        (child) =>\r\n          `${child.name} ${child.hash} ${\r\n            child.type === TYPES.FILE ? \"FILE\" : \"DIR\"\r\n          } ${\r\n            child.type === TYPES.FILE\r\n              ? fs.getFile(child.hash).getSize()\r\n              : fs.getDirectory(child.hash).getChildrenCount()\r\n          }`\r\n      ),\r\n      true\r\n    );\r\n  } else {\r\n    return createSuccess(\r\n      Object.values(children).map((child) => child.name),\r\n      true\r\n    );\r\n  }\r\n};\r\n\r\nconst fs = {\r\n  cd: {\r\n    exec: changeDirectory,\r\n    help: [\r\n      \"cd [OPTIONS] directory\",\r\n      \" [OPTIONS]:\",\r\n      \" -c: create the specified directory\",\r\n      \" -h: show help message\",\r\n    ],\r\n  },\r\n  ls: {\r\n    exec: listDirectory,\r\n    help: [\r\n      \"ls [OPTIONS] [directory]\",\r\n      \" [OPTIONS]:\",\r\n      \" -l: list all the information\",\r\n    ],\r\n  },\r\n  rm: {\r\n    exec: removeNode,\r\n    help: [\r\n      \"rm [OPTIONS] [directory | file]\",\r\n      \" [OPTIONS]:\",\r\n      \" -d: deep remove (not in the bin)\",\r\n    ],\r\n  },\r\n};\r\n\r\nexport default fs;\r\n","import fsExes from \"./fs.jsx\";\r\n\r\nconst exes = {\r\n  ...fsExes,\r\n};\r\n\r\nexport default exes;\r\n","import exes from \"../../executables\";\r\nimport { parseCmd, successRes, errorRes } from \"../../utils\";\r\n\r\n// microkernel\r\nclass SystemAPI {\r\n  constructor(fileSystem, systemData, setSystemData, currentDirHash = \"root\") {\r\n    this.fileSystem = fileSystem;\r\n    this.systemData = systemData;\r\n    this.setSystemData = setSystemData;\r\n    this.path = [\"root\"];\r\n    this.directory = fileSystem.getDirectory(currentDirHash);\r\n  }\r\n\r\n  changePath = (newPath) => {\r\n    const path = newPath.slice();\r\n    const dir = this.fileSystem.getDirByPath(path);\r\n    if (!dir) {\r\n      return errorRes(\"Directory not found\");\r\n    } else {\r\n      this.path = newPath;\r\n      this.directory = dir;\r\n      return successRes();\r\n    }\r\n  };\r\n\r\n  getPath = () => {\r\n    return this.path.slice();\r\n  };\r\n\r\n  setPath = (path) => {\r\n    this.path = path.slice();\r\n  };\r\n\r\n  getDirectory = () => {\r\n    return this.directory;\r\n  };\r\n\r\n  setDirectory = (dir) => {\r\n    this.directory = dir;\r\n  };\r\n\r\n  getFileSystem = () => {\r\n    return this.fileSystem;\r\n  };\r\n\r\n  createPath = (newPath) => {\r\n    const path = newPath.slice();\r\n    const dirName = path.pop();\r\n    const parentDir = this.fileSystem.getDirByPath(path);\r\n    if (!parentDir) {\r\n      return errorRes(\"Parent directory not found\");\r\n    } else {\r\n      const dirHash = this.fileSystem.createNewDirectory(\r\n        parentDir.getHash(),\r\n        dirName\r\n      );\r\n      this.path = newPath;\r\n      this.directory = this.fileSystem.getDirectory(dirHash);\r\n      return successRes();\r\n    }\r\n  };\r\n\r\n  executeCommand = (cmd) => {\r\n    const segs = parseCmd(cmd);\r\n    let exeName = segs.shift();\r\n    let resLines = [];\r\n    if (exeName in exes) {\r\n      let exe = exes[exeName];\r\n      const res = exe.exec(segs, this);\r\n      if (res.error) {\r\n        if (res.multi) {\r\n          res.errMsg.map((msg) => resLines.push(`Error: ${msg}`));\r\n        } else {\r\n          resLines.push(`Error: ${res.errMsg}`);\r\n        }\r\n        return resLines;\r\n      } else {\r\n        if (res.multi) {\r\n          res.msg.map((msg) => resLines.push(msg));\r\n        } else {\r\n          resLines.push(res.msg);\r\n        }\r\n        return resLines;\r\n      }\r\n    } else {\r\n      resLines.push(`Error: Command '${exeName}' not found`);\r\n      return resLines;\r\n    }\r\n  };\r\n}\r\n\r\nexport default SystemAPI;\r\n","import styles from \"../../styles\";\r\nimport \"../../styles/index.css\";\r\nimport React from \"react\";\r\nimport API from \"../../api/requests\";\r\nimport WindowManager from \"../WindowManager\";\r\nimport Desktop from \"../Desktop\";\r\nimport FileSystem from \"../FileSystem\";\r\nimport SystemAPI from \"../SystemAPI\";\r\nconst {\r\n  loadFileSystem,\r\n  syncFileSystem,\r\n  handleInstallApp,\r\n  getSystemData,\r\n  setSystemData,\r\n} = API;\r\n\r\nclass Home extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      fileSystem: null,\r\n      systemAPI: null,\r\n      systemData: {},\r\n      windowManager: new WindowManager([], () => {}),\r\n      saved: true,\r\n    };\r\n    this.setDataChanged = this.setDataChanged.bind(this);\r\n    this.updateSystemData = this.updateSystemData.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.localMode) {\r\n      const cachedFsData = JSON.parse(window.localStorage.getItem(\"fsData\"));\r\n      const cachedSysData = JSON.parse(window.localStorage.getItem(\"sysData\"));\r\n      const fileSystem = new FileSystem(\r\n        cachedFsData,\r\n        [this.setDataChanged],\r\n        alert.bind(window)\r\n      );\r\n      const systemData = cachedSysData ? cachedSysData : {};\r\n      this.setState((state) => ({\r\n        ...state,\r\n        fileSystem,\r\n        systemData,\r\n        systemAPI: new SystemAPI(fileSystem, systemData, this.updateSystemData),\r\n      }));\r\n    } else {\r\n      loadFileSystem(this)\r\n        .then(() => getSystemData(this))\r\n        .then(() => {\r\n          this.setState((state) => ({\r\n            ...state,\r\n            systemAPI: new SystemAPI(\r\n              state.fileSystem,\r\n              state.systemData,\r\n              this.updateSystemData\r\n            ),\r\n          }));\r\n        });\r\n    }\r\n  }\r\n\r\n  setDataChanged() {\r\n    if (this.props.localMode) {\r\n      const fsData = this.state.fileSystem.outputRawData();\r\n      window.localStorage.setItem(\"fsData\", JSON.stringify(fsData));\r\n    } else {\r\n      syncFileSystem(this);\r\n    }\r\n  }\r\n\r\n  updateSystemData(data) {\r\n    if (this.props.localMode) {\r\n      this.setState((state) => ({\r\n        ...state,\r\n        systemData: { ...state.systemData, ...data },\r\n      }));\r\n      window.localStorage.setItem(\r\n        \"sysData\",\r\n        JSON.stringify({ ...this.state.systemData, ...data })\r\n      );\r\n    } else {\r\n      setSystemData(data, this);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className=\"home\"\r\n        style={{ ...styles.fullScreenContainer, backgroundColor: \"black\" }}\r\n      >\r\n        {this.state.fileSystem ? (\r\n          <Desktop\r\n            userId={this.props.userId}\r\n            userInfo={this.props.userInfo}\r\n            localMode={this.props.localMode}\r\n            updateUserInfo={this.props.updateUserInfo}\r\n            fileSystem={this.state.fileSystem}\r\n            systemAPI={this.state.systemAPI}\r\n            windowManager={this.state.windowManager}\r\n            signOutUser={this.props.signOutUser}\r\n            systemData={this.state.systemData}\r\n            updateSystemData={this.updateSystemData}\r\n            handleInstallApp={(data) => handleInstallApp(data, this)}\r\n          />\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;\r\n","import { themeColors } from \"../../config.js\";\r\n\r\nexport const loginStyles = {\r\n  container: {\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    backgroundColor: themeColors.transparentBlack,\r\n  },\r\n  modal: {\r\n    padding: 20,\r\n    borderRadius: 20,\r\n    fontSize: 12,\r\n    width: 300,\r\n    fontFamily: \"roboto\",\r\n    backgroundColor: themeColors.transparentBlack,\r\n    color: themeColors.transparentWhite,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n  },\r\n  label: {\r\n    display: \"flex\",\r\n    marginTop: 10,\r\n    marginBottom: 5,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    alignSelf: \"stretch\",\r\n    flexDirection: \"column\",\r\n  },\r\n  button: {\r\n    fontSize: 12,\r\n    fontFamily: \"roboto\",\r\n    margin: 10,\r\n    padding: 10,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    textAlign: \"center\",\r\n    borderRadius: 10,\r\n    backgroundColor: themeColors.transparentBlack,\r\n  },\r\n  input: {\r\n    fontSize: 15,\r\n    borderRadius: 5,\r\n    marginBottom: 10,\r\n    width: \"100%\",\r\n    fontFamily: \"roboto\",\r\n    textShadow: \"0 0 5px white\",\r\n    padding: 2,\r\n    outline: \"none\",\r\n    border: \"none\",\r\n    backgroundColor: themeColors.optionColor,\r\n    color: themeColors.transparentWhite,\r\n  },\r\n};\r\n","import React, { useState } from \"react\";\r\nimport styles from \"../../styles\";\r\nimport { loginStyles } from \"./style.js\";\r\nimport ToggleButton from \"react-toggle-button\";\r\nimport { UserTypes } from \"../../config.js\";\r\nimport \"../../styles/index.css\";\r\n\r\nconst Login = ({ signInUser, signUpUser, errMsg, setLocalMode }) => {\r\n  const [isSignIn, toggleSignIn] = useState(true);\r\n  const [userName, setUserName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [isDeveloper, setIsDeveloper] = useState(false);\r\n\r\n  const highlight = (e) => {\r\n    e.target.style.opacity = 0.5;\r\n  };\r\n\r\n  const unhighlight = (e) => {\r\n    e.target.style.opacity = 1;\r\n  };\r\n\r\n  if (!isSignIn)\r\n    return (\r\n      <div\r\n        style={{\r\n          ...styles.fullScreenContainer,\r\n          ...loginStyles.container,\r\n        }}\r\n      >\r\n        <div style={loginStyles.modal}>\r\n          <div style={loginStyles.label}>Username</div>\r\n          <input\r\n            type=\"text\"\r\n            value={userName}\r\n            onChange={(e) => setUserName(e.target.value)}\r\n            style={loginStyles.input}\r\n          />\r\n          <div style={loginStyles.label}>Email</div>\r\n          <input\r\n            type=\"email\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            style={loginStyles.input}\r\n          />\r\n          <div style={loginStyles.label}>Password</div>\r\n          <input\r\n            type=\"password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            style={loginStyles.input}\r\n          />\r\n          <div style={loginStyles.label}>Register as an developer</div>\r\n          <div style={loginStyles.label}>\r\n            <ToggleButton\r\n              thumbStyle={{\r\n                boxShadow: \"0px 0px 2px white\",\r\n              }}\r\n              colors={{\r\n                active: {\r\n                  base: \"rgb(207,221,245)\",\r\n                  hover: \"rgb(177, 191, 215)\",\r\n                },\r\n                inactive: {\r\n                  base: \"rgb(65,66,68)\",\r\n                  hover: \"rgb(95,96,98)\",\r\n                },\r\n              }}\r\n              inactiveLabel={\"\"}\r\n              activeLabel={\"\"}\r\n              value={isDeveloper}\r\n              onToggle={(value) => setIsDeveloper(!value)}\r\n            />\r\n          </div>\r\n\r\n          <div\r\n            style={loginStyles.button}\r\n            onMouseOver={highlight}\r\n            onMouseOut={unhighlight}\r\n            onClick={async () =>\r\n              await signUpUser(\r\n                userName,\r\n                email,\r\n                password,\r\n                isDeveloper ? UserTypes.DEV : UserTypes.IND\r\n              )\r\n            }\r\n          >\r\n            Create Account\r\n          </div>\r\n          <div\r\n            style={{ ...loginStyles.label, textAlign: \"center\" }}\r\n            onMouseOver={highlight}\r\n            onMouseOut={unhighlight}\r\n            onClick={() => toggleSignIn(!isSignIn)}\r\n          >\r\n            <u>Already have an account?</u>\r\n          </div>\r\n          {errMsg !== \"\" && (\r\n            <div\r\n              style={{\r\n                ...loginStyles.label,\r\n                color: \"red\",\r\n                textAlign: \"center\",\r\n              }}\r\n            >\r\n              {errMsg}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  else\r\n    return (\r\n      <div\r\n        style={{\r\n          ...styles.fullScreenContainer,\r\n          ...loginStyles.container,\r\n        }}\r\n      >\r\n        <div style={loginStyles.modal}>\r\n          <div style={loginStyles.label}>Email</div>\r\n          <input\r\n            type=\"email\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            style={loginStyles.input}\r\n            autoComplete=\"on\"\r\n          />\r\n          <div style={loginStyles.label}>Password</div>\r\n          <input\r\n            type=\"password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            style={loginStyles.input}\r\n            autoComplete=\"on\"\r\n          />\r\n          <div\r\n            style={loginStyles.button}\r\n            onMouseOver={highlight}\r\n            onMouseOut={unhighlight}\r\n            onClick={async () => await signInUser(email, password)}\r\n          >\r\n            Sign In\r\n          </div>\r\n          <div\r\n            style={{ ...loginStyles.label, textAlign: \"center\" }}\r\n            onMouseOver={highlight}\r\n            onMouseOut={unhighlight}\r\n            onClick={() => toggleSignIn(!isSignIn)}\r\n          >\r\n            <u>Create an account?</u>\r\n          </div>\r\n          <div\r\n            style={{ ...loginStyles.label, textAlign: \"center\" }}\r\n            onMouseOver={highlight}\r\n            onMouseOut={unhighlight}\r\n            onClick={() => {\r\n              setLocalMode(true);\r\n            }}\r\n          >\r\n            <u>No connection? Try local mode</u>\r\n          </div>\r\n          {errMsg !== \"\" && (\r\n            <div\r\n              style={{\r\n                ...loginStyles.label,\r\n                color: \"red\",\r\n                textAlign: \"center\",\r\n              }}\r\n            >\r\n              {errMsg}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n};\r\nexport default Login;\r\n","import styles from \"../../styles\";\r\nimport { motion } from \"framer-motion\";\r\nimport { themeColors } from \"../../config.js\";\r\nconst letterStyle = {\r\n  fontSize: 25,\r\n  fontFamily: \"roboto\",\r\n  margin: 10,\r\n  borderRadius: \"50%\",\r\n  width: 40,\r\n  height: 40,\r\n  display: \"flex\",\r\n  justifyContent: \"center\",\r\n  alignItems: \"center\",\r\n  color: themeColors.transparentBlack,\r\n  boxShadow: \"0 0 5px black\",\r\n};\r\nconst Loading = ({ style }) => {\r\n  return (\r\n    <div\r\n      style={{\r\n        ...styles.fullScreenContainer,\r\n        backgroundColor: themeColors.backgroundTheme,\r\n        ...style,\r\n      }}\r\n    >\r\n      <motion.div\r\n        style={{ ...letterStyle }}\r\n        animate={{\r\n          backgroundColor: [\r\n            \"#CCCCCC\",\r\n            \"#FF0000\",\r\n            \"#CCCCCC\",\r\n            \"#CCCCCC\",\r\n            \"#CCCCCC\",\r\n            \"#CCCCCC\",\r\n            \"#CCCCCC\",\r\n          ],\r\n          scale: [1, 1.5, 1, 1, 1, 1, 1],\r\n          rotate: [0, 60, 120, 180, 240, 300, 360],\r\n        }}\r\n        transition={{\r\n          type: \"spring\",\r\n          duration: 2,\r\n          repeat: Infinity,\r\n          repeatDelay: 1,\r\n        }}\r\n      >\r\n        W\r\n      </motion.div>\r\n      <motion.div\r\n        style={{ ...letterStyle }}\r\n        animate={{\r\n          backgroundColor: [\r\n            \"#CCCCCC\",\r\n            \"#CCCCCC\",\r\n            \"#FF0000\",\r\n            \"#CCCCCC\",\r\n            \"#CCCCCC\",\r\n            \"#CCCCCC\",\r\n            \"#CCCCCC\",\r\n          ],\r\n          scale: [1, 1, 1.5, 1, 1, 1, 1],\r\n          rotate: [0, 120, 240, 360, 480, 600, 720],\r\n        }}\r\n        transition={{\r\n          type: \"spring\",\r\n          duration: 2,\r\n          repeat: Infinity,\r\n          repeatDelay: 1,\r\n        }}\r\n      >\r\n        E\r\n      </motion.div>\r\n      <motion.div\r\n        style={{ ...letterStyle }}\r\n        animate={{\r\n          backgroundColor: [\r\n            \"#CCCCCC\",\r\n            \"#CCCCCC\",\r\n            \"#CCCCCC\",\r\n            \"#FF0000\",\r\n            \"#CCCCCC\",\r\n            \"#CCCCCC\",\r\n            \"#CCCCCC\",\r\n          ],\r\n          scale: [1, 1, 1, 1.5, 1, 1, 1],\r\n          rotate: [0, 180, 360, 540, 720, 900, 1080],\r\n        }}\r\n        transition={{\r\n          type: \"spring\",\r\n          duration: 2,\r\n          repeat: Infinity,\r\n          repeatDelay: 1,\r\n        }}\r\n      >\r\n        B\r\n      </motion.div>\r\n      <motion.div\r\n        style={{ ...letterStyle }}\r\n        animate={{\r\n          backgroundColor: [\r\n            \"#CCCCCC\",\r\n            \"#CCCCCC\",\r\n            \"#CCCCCC\",\r\n            \"#CCCCCC\",\r\n            \"#FF0000\",\r\n            \"#CCCCCC\",\r\n            \"#CCCCCC\",\r\n          ],\r\n          scale: [1, 1, 1, 1, 1.5, 1, 1],\r\n          rotate: [0, 120, 240, 360, 480, 600, 720],\r\n        }}\r\n        transition={{\r\n          type: \"spring\",\r\n          duration: 2,\r\n          repeat: Infinity,\r\n          repeatDelay: 1,\r\n        }}\r\n      >\r\n        O\r\n      </motion.div>\r\n      <motion.div\r\n        style={{ ...letterStyle }}\r\n        animate={{\r\n          backgroundColor: [\r\n            \"#CCCCCC\",\r\n            \"#CCCCCC\",\r\n            \"#CCCCCC\",\r\n            \"#CCCCCC\",\r\n            \"#CCCCCC\",\r\n            \"#FF0000\",\r\n            \"#CCCCCC\",\r\n          ],\r\n          scale: [1, 1, 1, 1, 1, 1.5, 1],\r\n          rotate: [0, 60, 120, 180, 240, 300, 360],\r\n        }}\r\n        transition={{\r\n          type: \"spring\",\r\n          duration: 2,\r\n          repeat: Infinity,\r\n          repeatDelay: 1,\r\n        }}\r\n      >\r\n        S\r\n      </motion.div>\r\n    </div>\r\n  );\r\n};\r\nexport default Loading;\r\n","import { useRef, useEffect } from \"react\";\r\n\r\nconst Cursor = ({}) => {\r\n  useEffect(() => {\r\n    window.addEventListener(\"mousemove\", trackCursor);\r\n    window.addEventListener(\"mousedown\", transformCursor);\r\n    window.addEventListener(\"mouseup\", recoverCursor);\r\n    return () => {\r\n      window.removeEventListener(\"mousemove\", trackCursor);\r\n      window.removeEventListener(\"mousedown\", transformCursor);\r\n      window.removeEventListener(\"mouseup\", recoverCursor);\r\n    };\r\n  }, []);\r\n\r\n  const cursor = useRef();\r\n\r\n  const trackCursor = (e) => {\r\n    if (cursor.current) {\r\n      cursor.current.style.left = e.clientX + \"px\";\r\n      cursor.current.style.top = e.clientY + \"px\";\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const transformCursor = (e) => {\r\n    if (cursor.current) {\r\n      cursor.current.style.backgroundColor = \"red\";\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const recoverCursor = (e) => {\r\n    if (cursor.current) {\r\n      cursor.current.style.backgroundColor = \"white\";\r\n    }\r\n    return true;\r\n  };\r\n\r\n  return (\r\n    <div\r\n      ref={cursor}\r\n      style={{\r\n        position: \"absolute\",\r\n        zIndex: 9999,\r\n        color: \"red\",\r\n        pointerEvents: \"none\",\r\n        height: 5,\r\n        width: 5,\r\n        borderRadius: 3,\r\n        backgroundColor: \"white\",\r\n        boxShadow: \"0 0 5px black\",\r\n        transform: \"translate(-50%, -50%)\",\r\n      }}\r\n    ></div>\r\n  );\r\n};\r\n\r\nexport default Cursor;\r\n","import React from \"react\";\r\nimport Home from \"./segments/Home\";\r\nimport Login from \"./segments/Login\";\r\nimport Loading from \"./components/Loading\";\r\nimport Cursor from \"./components/Cursor\";\r\nimport { initDrive } from \"./api/gapi\";\r\nimport styles from \"./styles\";\r\nimport \"antd/dist/antd.css\";\r\n\r\nimport API from \"./api/requests\";\r\nconst { signUpUser, signInUser, signOutUser, updateUserInfo } = API;\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.host = \"https://54.67.14.28:8081\";\r\n    this.state = {\r\n      userId: null,\r\n      userInfo: {},\r\n      errMsgs: {},\r\n      loading: true,\r\n      localMode: false,\r\n    };\r\n    this.setLoginErrMsg = this.setLoginErrMsg.bind(this);\r\n    this.setLoading = this.setLoading.bind(this);\r\n    this.setLocalMode = this.setLocalMode.bind(this);\r\n  }\r\n\r\n  setLoginErrMsg(errMsg) {\r\n    this.setState((state) => ({\r\n      ...state,\r\n      errMsgs: {\r\n        ...state.errMsgs,\r\n        login: errMsg,\r\n      },\r\n    }));\r\n  }\r\n\r\n  setLoading(loading) {\r\n    this.setState((state) => ({\r\n      ...state,\r\n      loading,\r\n    }));\r\n  }\r\n\r\n  setLocalMode(localMode) {\r\n    this.setState((state) => ({\r\n      ...state,\r\n      localMode,\r\n    }));\r\n  }\r\n\r\n  componentDidMount() {\r\n    signInUser(null, null, true, this);\r\n    setTimeout(() => initDrive(), 3000);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.loading) return <Loading />;\r\n    else if (this.state.userId || this.state.localMode)\r\n      return (\r\n        <div style={styles.fullScreenContainer}>\r\n          <Cursor />\r\n          <Home\r\n            userId={this.state.userId}\r\n            userInfo={this.state.userInfo}\r\n            localMode={this.state.localMode}\r\n            updateUserInfo={(info) => {\r\n              if (this.state.localMode)\r\n                this.setState((state) => ({\r\n                  ...state,\r\n                  userInfo: info,\r\n                }));\r\n              else {\r\n                updateUserInfo(info, this);\r\n              }\r\n            }}\r\n            host={this.host}\r\n            signOutUser={() => signOutUser(this)}\r\n          />\r\n        </div>\r\n      );\r\n    else {\r\n      return (\r\n        <div style={styles.fullScreenContainer}>\r\n          <Cursor />\r\n          <Loading style={{ backgroundColor: \"transparent\", height: \"50%\" }} />\r\n          <Login\r\n            signInUser={(email, password, initial = false) =>\r\n              signInUser(email, password, initial, this)\r\n            }\r\n            signUpUser={(userName, email, password, userType) =>\r\n              signUpUser(userName, email, password, userType, this)\r\n            }\r\n            setLocalMode={this.setLocalMode}\r\n            errMsg={this.state.errMsgs.login}\r\n            setErrMsg={this.state.setLoginErrMsg}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n","export const themeColors = {\r\n  titleColor: \"#777777\",\r\n  titleTextColor: \"#EEEEEE\",\r\n  optionColor: \"#333333\",\r\n  optionTextColor: \"#EEEEEE\",\r\n  contentColor: \"#555555\",\r\n  contentTextColor: \"#EEEEEE\",\r\n  borderColor: \"#AAAAAA\",\r\n  transparentBlack: \"#00000080\",\r\n  transparentWhite: \"#FFFFFF80\",\r\n  windowBackground: \"#AAAAAA\",\r\n  backgroundTheme: \"#444444\",\r\n  foregroundTheme: \"#EEEEEE\",\r\n  red: \"#D45548\",\r\n  green: \"#48D465 \",\r\n  yellow: \"#D0D448\",\r\n};\r\n\r\nexport const UserTypes = {\r\n  IND: 0,\r\n  DEV: 1,\r\n  ORG: 2,\r\n};\r\n\r\nexport const FileTypes = {\r\n  TXT: 0,\r\n  IMG: 1,\r\n  VID: 2,\r\n  AUD: 3,\r\n  XML: 4,\r\n  JS: 5,\r\n  CSS: 6,\r\n  PPT: 7,\r\n  DOC: 8,\r\n  XLS: 9,\r\n  UNKNOWN: 10,\r\n};\r\n\r\nexport const ExtMap = {\r\n  txtExts: [\"txt\", \"log\", \"rtf\"],\r\n  imgExts: [\"jpg\", \"jpeg\", \"png\", \"gif\", \"pdf\", \"raw\"],\r\n  vidExts: [\"mp4\", \"m4v\", \"avi\", \"webm\", \"wav\"],\r\n  audExts: [\"mp3\"],\r\n  xmlExts: [\"xml\", \"htm\", \"html\"],\r\n  jsExts: [\"js\", \"jsx\", \"ts\"],\r\n  cssExts: [\"css\", \"scss\"],\r\n  pptExts: [\"ppt\", \"pptx\"],\r\n  docExts: [\"doc\", \"docx\"],\r\n  xlsExts: [\"xls\", \"xlsx\"],\r\n  otherExts: [],\r\n};\r\n\r\nexport const googleAPI = {\r\n  API_KEY: \"AIzaSyAgZDhfr8kDvpZxhupSWsVz2dRFpWXw7UE\",\r\n  CLIENT_ID:\r\n    \"694420543975-2o5hqp8h6nc67ggejq4p2gjsr60i7ir6.apps.googleusercontent.com\",\r\n};\r\n\r\nexport const DEFAULT_LOCAL_UID = \"LOCAL\";\r\n","import { FileTypes, ExtMap } from \"./config.js\";\r\n\r\nexport const UUID = () => {\r\n  return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\r\n    var r = (Math.random() * 16) | 0,\r\n      v = c === \"x\" ? r : (r & 0x3) | 0x8;\r\n    return v.toString(16);\r\n  });\r\n};\r\n\r\nexport const lString = (str, max, limiter) => {\r\n  if (str.length > max) {\r\n    return str.substr(0, max - limiter.length) + limiter;\r\n  } else {\r\n    return str;\r\n  }\r\n};\r\n\r\nexport const evaluate = (data) => {\r\n  try {\r\n    return eval(data);\r\n  } catch (e) {\r\n    return e.message;\r\n  }\r\n};\r\n\r\nexport const validEmail = (email) => {\r\n  return /\\S+@\\S+\\.\\S+/.test(email);\r\n};\r\n\r\nexport const validUserName = (name) => {\r\n  return /^[a-zA-Z0-9]+$/i.test(name) && name.length >= 8 && name.length <= 16;\r\n};\r\n\r\nexport const validPassword = (password) => {\r\n  return (\r\n    /^[a-zA-Z0-9]+$/i.test(password) &&\r\n    password.length >= 8 &&\r\n    password.length <= 16\r\n  );\r\n};\r\n\r\nexport const getSize = (bytes, decimals = 2) => {\r\n  if (bytes === 0) return \"0 Bytes\";\r\n\r\n  const k = 1024;\r\n  const dm = decimals < 0 ? 0 : decimals;\r\n  const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\r\n\r\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n\r\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + \" \" + sizes[i];\r\n};\r\n\r\nexport const blobToBase64 = (blob) => {\r\n  const reader = new FileReader();\r\n  reader.readAsDataURL(blob);\r\n  return new Promise((resolve) => {\r\n    reader.onloadend = () => {\r\n      resolve(reader.result);\r\n    };\r\n  });\r\n};\r\nexport const formatDate = (date) => {\r\n  return {\r\n    year: date.getFullYear(),\r\n    month: date.getMonth() + 1, // months are zero indexed\r\n    day: date.getDate(),\r\n    second:\r\n      date.getSeconds() < 10 ? \"0\" + date.getSeconds() : date.getSeconds(),\r\n    hour: date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours(), // hour returned in 24 hour format\r\n    minute:\r\n      date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes(),\r\n  };\r\n};\r\nexport const blobToBin = (blob) => {\r\n  const reader = new FileReader();\r\n  reader.readAsBinaryString(blob);\r\n  return new Promise((resolve) => {\r\n    reader.onloadend = () => {\r\n      resolve(reader.result);\r\n    };\r\n  });\r\n};\r\n\r\nexport const blobToTxt = (blob) => {\r\n  const reader = new FileReader();\r\n  reader.readAsText(blob);\r\n  return new Promise((resolve) => {\r\n    reader.onloadend = () => {\r\n      resolve(reader.result);\r\n    };\r\n  });\r\n};\r\n\r\nexport const blobToArrayBuffer = (blob) => {\r\n  const reader = new FileReader();\r\n  reader.readAsArrayBuffer(blob);\r\n  return new Promise((resolve) => {\r\n    reader.onloadend = () => {\r\n      resolve(reader.result);\r\n    };\r\n  });\r\n};\r\n\r\nexport const successRes = (data) => {\r\n  return { error: false, data };\r\n};\r\n\r\nexport const errorRes = (errMsg, e = null) => {\r\n  return { error: true, errMsg, e };\r\n};\r\n\r\nexport const sleep = (ms) => {\r\n  return new Promise((resolve) => setTimeout(resolve, ms));\r\n};\r\n\r\nexport const getFileType = (ext) => {\r\n  if (!ext) {\r\n    return FileTypes.TXT;\r\n  }\r\n  ext = ext.toLowerCase();\r\n  for (let type of ExtMap.txtExts) {\r\n    if (type === ext) {\r\n      return FileTypes.TXT;\r\n    }\r\n  }\r\n  for (let type of ExtMap.imgExts) {\r\n    if (type === ext) {\r\n      return FileTypes.IMG;\r\n    }\r\n  }\r\n  for (let type of ExtMap.vidExts) {\r\n    if (type === ext) {\r\n      return FileTypes.VID;\r\n    }\r\n  }\r\n  for (let type of ExtMap.audExts) {\r\n    if (type === ext) {\r\n      return FileTypes.AUD;\r\n    }\r\n  }\r\n  for (let type of ExtMap.xmlExts) {\r\n    if (type === ext) {\r\n      return FileTypes.XML;\r\n    }\r\n  }\r\n  for (let type of ExtMap.jsExts) {\r\n    if (type === ext) {\r\n      return FileTypes.JS;\r\n    }\r\n  }\r\n  for (let type of ExtMap.docExts) {\r\n    if (type === ext) {\r\n      return FileTypes.DOC;\r\n    }\r\n  }\r\n  for (let type of ExtMap.pptExts) {\r\n    if (type === ext) {\r\n      return FileTypes.PPT;\r\n    }\r\n  }\r\n  for (let type of ExtMap.xlsExts) {\r\n    if (type === ext) {\r\n      return FileTypes.XLS;\r\n    }\r\n  }\r\n  for (let type of ExtMap.otherExts) {\r\n    if (type === ext) {\r\n      return FileTypes.OTHER;\r\n    }\r\n  }\r\n  for (let type of ExtMap.cssExts) {\r\n    if (type === ext) {\r\n      return FileTypes.CSS;\r\n    }\r\n  }\r\n  return FileTypes.UNKNOWN;\r\n};\r\n\r\nexport const getIP = async () => {\r\n  const res = await fetch(\"https://api.ipify.org\", {\r\n    method: \"GET\",\r\n  });\r\n  const data = await res.text();\r\n  return data;\r\n};\r\n\r\nexport const parseCmd = (cmd) => {\r\n  let i = 0;\r\n  const segs = [];\r\n  let currentSeg = \"\";\r\n  while (i < cmd.length) {\r\n    if (cmd[i] === '\"') {\r\n      i++;\r\n      while (i < cmd.length && cmd[i] !== '\"') {\r\n        currentSeg += cmd[i];\r\n        i++;\r\n      }\r\n      if (currentSeg.length > 0) {\r\n        segs.push(currentSeg);\r\n        currentSeg = \"\";\r\n      }\r\n      i++;\r\n    } else if (cmd[i] === \" \" || cmd[i] === \"\") {\r\n      if (currentSeg === \"\") {\r\n        i++;\r\n        continue;\r\n      }\r\n      if (currentSeg.length > 0) {\r\n        segs.push(currentSeg);\r\n        currentSeg = \"\";\r\n      }\r\n      i++;\r\n    } else {\r\n      currentSeg += cmd[i];\r\n      i++;\r\n    }\r\n  }\r\n  if (currentSeg.length > 0) {\r\n    segs.push(currentSeg);\r\n    currentSeg = \"\";\r\n  }\r\n  return segs;\r\n};\r\n"],"sourceRoot":""}