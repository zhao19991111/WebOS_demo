(this["webpackJsonponline-desktop"]=this["webpackJsonponline-desktop"]||[]).push([[0],{114:function(e,t,n){},118:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"signUpUser",(function(){return P})),n.d(r,"signOutUser",(function(){return R})),n.d(r,"signInUser",(function(){return W}));var a={};n.r(a),n.d(a,"handleInstallApp",(function(){return T}));var o={};n.r(o),n.d(o,"loadFileSystem",(function(){return re})),n.d(o,"syncFileSystem",(function(){return ae}));var i={};n.r(i),n.d(i,"updateUserInfo",(function(){return oe}));var s={};n.r(s),n.d(s,"getSystemData",(function(){return ie})),n.d(s,"setSystemData",(function(){return se}));var c,l=n(1),u=n(0),d=n.n(u),h=n(35),p=n.n(h),f=n(2),b=n(17),j=n(19),g=n(8),O=n(24),m=n(23),v={fullScreenContainer:{display:"flex",position:"absolute",top:0,left:0,right:0,bottom:0,justifyContent:"center",alignItems:"center",overflow:"hidden"},row:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row"},column:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},hfull:{width:"100%"},vfull:{height:"100%"}},y=(n(87),n(11)),x=n.n(y),C=n(16),w=n(9),_=n(3),k=function(){var e=Object(C.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.gapi.load("client:auth2",Object(C.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.gapi.client.init({apiKey:_.d.API_KEY,client_id:_.d.CLIENT_ID,scope:"https://www.googleapis.com/auth/drive.file",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"]});case 2:c=window.gapi.auth2.getAuthInstance();case 3:case"end":return e.stop()}}),e)}))));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),D=function(){return!!c&&c.isSignedIn.get()},S=function(e){c.isSignedIn.listen(e)},E=function(){c.signIn()},I=function(){c.signOut()},M=function(){var e=Object(C.a)(x.a.mark((function e(){var t,n,r,a,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=window.gapi.client.drive,e.next=4,t.files.list({q:"mimeType = 'application/vnd.google-apps.folder' and name = 'WEBOS_FOLDER' and trashed = false",fields:"files(id, name)",spaces:"drive"});case 4:if(n=e.sent,1!==(r=n.result.files).length){e.next=10;break}return e.abrupt("return",{error:!1,folderId:r[0].id});case 10:if(0!==r.length){e.next=18;break}return a={name:"WEBOS_FOLDER",mimeType:"application/vnd.google-apps.folder"},e.next=14,t.files.create({resource:a,fields:"id"});case 14:return o=e.sent,e.abrupt("return",{error:!1,folderId:o.result.id});case 18:return e.abrupt("return",{error:!0});case 19:e.next=25;break;case 21:return e.prev=21,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{error:!0});case 25:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(C.a)(x.a.mark((function e(t,n){var r,a,o,i,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={name:n.name,parents:[t]},(a=new FormData).append("metadata",new Blob([JSON.stringify(r)],{type:"application/json"})),o=c.currentUser.get().getAuthResponse(!0).access_token,a.append("file",n),e.next=8,fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id",{method:"POST",headers:new Headers({Authorization:"Bearer "+o}),body:a});case 8:return i=e.sent,e.next=11,i.json();case 11:return s=e.sent,e.abrupt("return",{error:!1,fileId:s.id});case 15:return e.prev=15,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{error:!0});case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=Object(C.a)(x.a.mark((function e(t){var n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=window.gapi.client.drive,e.next=4,n.permissions.create({fileId:t,resource:{role:"writer",type:"anyone"}});case 4:return e.next=6,n.files.get({fileId:t,fields:"webViewLink"});case 6:return r=e.sent,e.abrupt("return",{error:!1,fileId:t,fileUrl:r.result.webViewLink});case 10:return e.prev=10,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{error:!0});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(C.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=window.gapi.client.drive,e.next=4,n.files.delete({fileId:t});case 4:return e.abrupt("return",{error:!1});case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{error:!0});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(C.a)(x.a.mark((function e(t,n,r,a,o){var i,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(w.m)(n)){e.next=3;break}return o.setLoginErrMsg("Email is not valid"),e.abrupt("return");case 3:if(Object(w.o)(t)){e.next=6;break}return o.setLoginErrMsg("Username should only contain 8-16 alphanumeric characters"),e.abrupt("return");case 6:if(Object(w.n)(r)){e.next=9;break}return o.setLoginErrMsg("Password should only contain 8-16 alphanumeric characters"),e.abrupt("return");case 9:return e.prev=9,e.next=12,fetch(o.host+"/signUp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:t,email:n,password:r,userType:a}),credentials:"include"});case 12:if(200===(i=e.sent).status){e.next=15;break}return e.abrupt("return",Object(w.d)("Looks like there was a problem. Status Code: "+i.status));case 15:return e.next=17,i.json();case 17:if((s=e.sent).error){e.next=23;break}return o.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{userId:s.data._id,userInfo:s.data})})),e.abrupt("return",Object(w.l)());case 23:return o.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{errMsgs:Object(f.a)(Object(f.a)({},e.errMsgs),{},{login:s.errMsg})})})),e.abrupt("return",Object(w.d)(s.errMsg));case 25:e.next=30;break;case 27:return e.prev=27,e.t0=e.catch(9),e.abrupt("return",Object(w.d)("Fetch Error",e.t0));case 30:case"end":return e.stop()}}),e,null,[[9,27]])})));return function(t,n,r,a,o){return e.apply(this,arguments)}}(),R=function(){var e=Object(C.a)(x.a.mark((function e(t){var n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(),e.prev=1,e.next=4,fetch(t.host+"/signOut",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});case 4:if(200===(n=e.sent).status){e.next=7;break}return e.abrupt("return",Object(w.d)("Looks like there was a problem. Status Code: "+n.status));case 7:return e.next=9,n.json();case 9:if((r=e.sent).error){e.next=15;break}return t.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{userId:null,userInfo:{}})})),e.abrupt("return",Object(w.l)());case 15:return t.setLoginErrMsg(r.errMsg),e.abrupt("return",Object(w.d)(r.errMsg));case 17:e.next=24;break;case 19:return e.prev=19,e.t0=e.catch(1),console.log(e.t0),t.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{localMode:!1,userId:null})})),e.abrupt("return",Object(w.d)("Fetch Error",e.t0));case 24:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(C.a)(x.a.mark((function e(t,n){var r,a,o,i,s=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]&&s[2],a=s.length>3?s[3]:void 0,r){e.next=9;break}if(Object(w.m)(t)){e.next=6;break}return a.setLoginErrMsg("Email is not valid"),e.abrupt("return");case 6:if(Object(w.n)(n)){e.next=9;break}return a.setLoginErrMsg("Password should only contain 8-16 alphanumeric characters"),e.abrupt("return");case 9:return e.prev=9,e.next=12,fetch(a.host+"/signIn",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n}),credentials:"include"});case 12:if(200===(o=e.sent).status){e.next=16;break}return console.log("Looks like there was a problem. Status Code: "+o.status),e.abrupt("return");case 16:return e.next=18,o.json();case 18:if((i=e.sent).error){e.next=27;break}return a.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{userId:i.data._id,userInfo:i.data})})),e.next=23,Object(w.k)(2e3);case 23:return a.setLoading(!1),e.abrupt("return",Object(w.l)());case 27:return r?a.setLoading(!1):a.setLoginErrMsg(i.errMsg),e.abrupt("return",Object(w.d)(i.errMsg));case 29:e.next=39;break;case 31:return e.prev=31,e.t0=e.catch(9),console.log(e.t0),a.setLoading(!1),window.alert("Server not reachable, switching to local mode"),window.alert("You data might not be persistent in local mode"),a.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{localMode:!0})})),e.abrupt("return",Object(w.d)("Fetch Error",e.t0));case 39:case"end":return e.stop()}}),e,null,[[9,31]])})));return function(t,n){return e.apply(this,arguments)}}(),T=function(){var e=Object(C.a)(x.a.mark((function e(t,n){var r,a,o,i,s,c,l,u,d,h,p;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.userId,a=t.hash,o=t.shareApp,i=t.appName,s=t.authorName,c=t.fileSize,l=t.iconUrl,u=n.state.fileSystem,d=u.getFile(a).getData(),u.installNewApp(i,d,l),!o){e.next=20;break}return e.prev=5,e.next=8,fetch(n.props.host+"/createApp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({appName:i,authorName:s,authorId:r,size:c,iconUrl:l,raw:d})});case 8:if(200===(h=e.sent).status){e.next=11;break}return e.abrupt("return",Object(w.d)("Looks like there was a problem. Status Code: "+h.status));case 11:return e.next=13,h.text();case 13:return p=e.sent,e.abrupt("return",Object(w.l)(p));case 17:return e.prev=17,e.t0=e.catch(5),e.abrupt("return",Object(w.d)("Fetch Error",e.t0));case 20:return e.abrupt("return",Object(w.l)());case 21:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(t,n){return e.apply(this,arguments)}}(),A=n(92),B=n(13),U=n(18),H=n(40),z=Object(H.a)("data"),K=Object(H.a)("extra"),X=Object(H.a)("parent"),V=function(){function e(t,n,r,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};Object(b.a)(this,e),Object.defineProperty(this,z,{writable:!0,value:void 0}),Object.defineProperty(this,K,{writable:!0,value:void 0}),Object.defineProperty(this,X,{writable:!0,value:void 0}),Object(U.a)(this,X)[X]=r,this.metadata={name:t,hash:n,size:a.length,type:ee.FILE,ext:o},Object(U.a)(this,z)[z]=a,Object(U.a)(this,K)[K]=i}return Object(j.a)(e,[{key:"changeParent",value:function(e){Object(U.a)(this,X)[X]=e}},{key:"changeName",value:function(e){this.metadata.name=e}},{key:"changeExt",value:function(e){this.metadata.ext=e}},{key:"saveData",value:function(e){Object(U.a)(this,z)[z]=e,this.metadata.size=e.length}},{key:"getMetaData",value:function(){return this.metadata}},{key:"getExtra",value:function(){return Object(U.a)(this,K)[K]}},{key:"getType",value:function(){return this.metadata.type}},{key:"getName",value:function(){return this.metadata.name}},{key:"getExt",value:function(){return this.metadata.ext}},{key:"getHash",value:function(){return this.metadata.hash}},{key:"getSize",value:function(){return Object(U.a)(this,z)[z].length}},{key:"getData",value:function(){return Object(U.a)(this,z)[z]}},{key:"getParent",value:function(){return Object(U.a)(this,X)[X]}},{key:"clone",value:function(){return new e(this.metadata.name,this.metadata.hash,Object(U.a)(this,X)[X],Object(U.a)(this,z)[z])}}]),e}(),Y=Object(H.a)("parent"),J=Object(H.a)("children"),q=function(){function e(t,n,r,a){Object(b.a)(this,e),Object.defineProperty(this,Y,{writable:!0,value:void 0}),Object.defineProperty(this,J,{writable:!0,value:void 0}),Object(U.a)(this,Y)[Y]=r,this.metadata={name:t,hash:n,type:ee.DIR},Object(U.a)(this,J)[J]=a}return Object(j.a)(e,[{key:"changeParent",value:function(e){Object(U.a)(this,Y)[Y]=e}},{key:"changeName",value:function(e){this.metadata.name=e}},{key:"addChild",value:function(e,t){Object(U.a)(this,J)[J][e]=t}},{key:"removeChild",value:function(e){delete Object(U.a)(this,J)[J][e]}},{key:"getMetaData",value:function(){return this.metadata}},{key:"getType",value:function(){return this.metadata.type}},{key:"getName",value:function(){return this.metadata.name}},{key:"getHash",value:function(){return this.metadata.hash}},{key:"getParent",value:function(){return Object(U.a)(this,Y)[Y]}},{key:"getChildren",value:function(){return Object(U.a)(this,J)[J]}},{key:"getChildrenCount",value:function(){return Object.keys(Object(U.a)(this,J)[J]).length}},{key:"getChild",value:function(e){return Object(U.a)(this,J)[J][e]}},{key:"isBin",value:function(){return"bin"===this.metadata.hash}},{key:"isRoot",value:function(){return"root"===this.metadata.hash}},{key:"clone",value:function(){return new e(this.metadata.name,this.metadata.hash,Object(U.a)(this,Y)[Y],Object(U.a)(this,J)[J])}}]),e}(),G=Object(H.a)("data"),Z=Object(H.a)("parent"),$=Object(H.a)("appData"),Q=function(){function e(t,n,r,a,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};Object(b.a)(this,e),Object.defineProperty(this,G,{writable:!0,value:void 0}),Object.defineProperty(this,Z,{writable:!0,value:void 0}),Object.defineProperty(this,$,{writable:!0,value:void 0}),Object(U.a)(this,Z)[Z]=r,this.metadata={name:t,hash:n,size:a.length,type:ee.APP,icon:o},Object(U.a)(this,G)[G]=a,Object(U.a)(this,$)[$]=i}return Object(j.a)(e,[{key:"changeParent",value:function(e){Object(U.a)(this,Z)[Z]=e}},{key:"changeIcon",value:function(e){this.metadata.icon=e}},{key:"changeName",value:function(e){this.metadata.name=e}},{key:"saveData",value:function(e){Object(U.a)(this,G)[G]=e,this.metadata.size=e.length}},{key:"getStorage",value:function(e){return Object(U.a)(this,$)[$][e]}},{key:"getAppData",value:function(){return Object(U.a)(this,$)[$]}},{key:"setStorage",value:function(e,t){Object(U.a)(this,$)[$][e]=t}},{key:"getMetaData",value:function(){return this.metadata}},{key:"getIcon",value:function(){return this.metadata.icon}},{key:"getType",value:function(){return this.metadata.type}},{key:"getName",value:function(){return this.metadata.name}},{key:"getHash",value:function(){return this.metadata.hash}},{key:"getSize",value:function(){return Object(U.a)(this,G)[G].length}},{key:"getData",value:function(){return Object(U.a)(this,G)[G]}},{key:"getParent",value:function(){return Object(U.a)(this,Z)[Z]}},{key:"clone",value:function(){return new e(this.metadata.name,this.metadata.hash,Object(U.a)(this,Z)[Z],Object(U.a)(this,G)[G],this.metadata.icon)}}]),e}(),ee={FILE:0,DIR:1,APP:2},te={dirs:{root:{name:"root",hash:"root",parent:null,children:{},type:ee.DIR},bin:{name:"bin",hash:"bin",parent:null,children:{},type:ee.DIR}},files:{},apps:{}},ne=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;Object(b.a)(this,e),this.cleanUpDriveFile=function(){var e=Object(C.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t.getExtra().fileId);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t||(t=te);var a=t.dirs,o=t.files,i=t.apps,s={},c={},l={};for(var u in a){var d=a[u];s[u]=new q(d.name,d.hash,d.parent,d.children)}for(var h in o){var p=o[h];c[h]=new V(p.name,p.hash,p.parent,p.data,p.ext,p.extra?p.extra:{})}for(var f in i){var j=i[f];l[f]=new Q(j.name,j.hash,j.parent,j.data,j.icon,j.appData)}this.dirNodes=s,this.fileNodes=c,this.appNodes=l,this.saveCallBacks=n,this.saveData=function(){var e,t=Object(B.a)(n);try{for(t.s();!(e=t.n()).done;){(0,e.value)()}}catch(r){t.e(r)}finally{t.f()}},this.onRemove=function(){},this.onInstall=function(){},this.reportError=r}return Object(j.a)(e,[{key:"outputRawData",value:function(){var e={},t={},n={},r=this.dirNodes,a=this.fileNodes,o=this.appNodes;for(var i in r){var s=r[i];e[i]={name:s.getName(),hash:s.getHash(),parent:s.getParent(),children:s.getChildren(),type:s.getType()}}for(var c in a){var l=a[c];t[c]={name:l.getName(),hash:l.getHash(),parent:l.getParent(),data:l.getData(),type:l.getType(),ext:l.getExt(),extra:l.getExtra()}}for(var u in o){var d=o[u];n[u]={name:d.getName(),hash:d.getHash(),parent:d.getParent(),data:d.getData(),type:d.getType(),icon:d.getIcon(),appData:d.getAppData()}}return{dirs:e,files:t,apps:n}}},{key:"getRawSize",value:function(){return JSON.stringify(this.outputRawData()).length}},{key:"getNumDirs",value:function(){return Object.keys(this.dirNodes).length}},{key:"getNumFiles",value:function(){return Object.keys(this.fileNodes).length}},{key:"getNumApps",value:function(){return Object.keys(this.appNodes).length}},{key:"isFile",value:function(e){return e.type===ee.FILE}},{key:"isDir",value:function(e){return e.type===ee.DIR}},{key:"isApp",value:function(e){return e.type===ee.APP}},{key:"addSaveCallBack",value:function(e){this.saveCallBacks.push(e)}},{key:"changeReportError",value:function(e){this.reportError=e}},{key:"setOnRemove",value:function(e){this.onRemove=e}},{key:"_UNSAFE_RESET",value:function(){this.dirNodes={root:new q("root","root",null,{}),bin:new q("bin","bin",null,{})},this.fileNodes={},this.appNodes={},this.saveData()}},{key:"getFile",value:function(e){return this.fileNodes[e]}},{key:"getDirectory",value:function(e){return this.dirNodes[e]}},{key:"getApp",value:function(e){return this.appNodes[e]}},{key:"getChildByName",value:function(e,t){var n=this.retrieveDirectoryContent(e);if(!n)return null;for(var r=0,a=Object.values(n);r<a.length;r++){var o=a[r];if(o.name===t){if(this.isDir(o))return this.dirNodes[o.hash];if(this.isFile(o))return this.fileNodes[o.hash];this.reportError("Filesystem corrupted!")}}return null}},{key:"getDirByPath",value:function(e){if("root"!==e.shift())return this.reportError("Path not start with root"),null;for(var t="root";e.length>0;){var n=e.shift(),r=this.getChildByName(t,n);if(!r)return this.reportError("'".concat(n,"' not found")),null;if(!this.isDir(r.getMetaData()))return this.reportError("'".concat(n,"' is not a directory")),null;t=r.getHash()}return this.dirNodes[t]}},{key:"getNodeByPath",value:function(e){if("root"!==e.shift())return this.reportError("Path not start with root"),null;for(var t="root";e.length>0;){var n=e.shift(),r=this.getChildByName(t,n);if(!r)return this.reportError("'".concat(n,"' not found")),null;if(!this.isDir(r.getMetaData()))return this.isFile(r.getMetaData())?(t=r.getHash(),e.length>0?(this.reportError("'".concat(n,"' has no children")),null):this.fileNodes[t]):(this.reportError("'".concat(n,"' is not a valid node")),null);t=r.getHash()}return this.dirNodes[t]}},{key:"findDirPath",value:function(e){for(var t=[],n=this.dirNodes[e];null!==n.getParent();)t.push(n.getName()),n=this.dirNodes[n.getParent()];return t.push(n.getName()),Object(A.a)("path"),t=t.reverse()}},{key:"checkName",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.dirNodes[e].getChildren();for(var a in r)if(a!==n){var o=r[a].name;if(t===o)return this.reportError("Name '"+t+"' has already been taken!"),!1}return!0}},{key:"checkDirectoryName",value:function(e){return""===e?(this.reportError("Directory name '"+e+"' cannot be empty!"),!1):!(e.length>=25)||(this.reportError("Directory name '"+e+"' exceeds the length limit!"),!1)}},{key:"checkFileName",value:function(e){return e?!(e.length>=25)||(this.reportError("File name '"+e+"' exceeds the length limit!"),!1):(this.reportError("File name '"+e+"' cannot be empty!"),!1)}},{key:"createNewDirectory",value:function(e,t){if(this.checkName(e,t)&&this.checkDirectoryName(t)){var n=Object(w.a)(),r=new q(t,n,e,{});return this.dirNodes[n]=r,this.dirNodes[e].addChild(n,r.getMetaData()),this.saveData(),n}return null}},{key:"createNewFile",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(null===n||void 0===n)return this.reportError("The file data is corrupted"),null;if(this.checkName(e,t)&&this.checkFileName(t)){var o=Object(w.a)(),i=new V(t,o,e,n,r,a);return this.fileNodes[o]=i,this.dirNodes[e].addChild(o,i.getMetaData()),this.saveData(),o}return this.reportError("The file name '"+t+"' is already taken"),null}},{key:"installNewApp",value:function(e,t,n){var r=Object(w.a)(),a=new Q(e,r,null,t,n);return this.appNodes[r]=a,this.saveData(),r}},{key:"removeNode",value:function(e,t){var n=this.moveNode(e,t,"bin");return this.onRemove(),n}},{key:"uninstallApp",value:function(e){delete this.appNodes[e],this.saveData()}},{key:"deepRemoveNode",value:function(e){var t=this.dirNodes.bin.getChild(e);t.type===ee.DIR?this.deepRemoveDirectory(e):t.type===ee.FILE&&this.deepRemoveFile(e)}},{key:"deepRemoveFile",value:function(e){var t=this.fileNodes[e];this.getDirectory(t.getParent()).removeChild(e),t.getExtra().onDrive&&this.cleanUpDriveFile(t),delete this.fileNodes[e],this.saveData()}},{key:"deepRemoveDirectory",value:function(e){var t=this.dirNodes[e],n=t.getChildren(),r=this.getDirectory(t.getParent());for(var a in n){var o=n[a];o.type===ee.DIR?this.deepRemoveDirectory(o.hash):o.type===ee.FILE&&this.deepRemoveFile(o.hash)}r.removeChild(e),delete this.dirNodes[e],this.saveData()}},{key:"retrieveDirectoryContent",value:function(e){var t=this.dirNodes[e];return t?t.getChildren():(this.reportError("'".concat(e,"' is not a directory hash")),null)}},{key:"retrieveApps",value:function(){return this.appNodes}},{key:"getDirectorySize",value:function(e){var t=this.retrieveDirectoryContent(e),n=0;for(var r in t)t[r].type===ee.FILE?n+=t[r].size:n+=this.getDirectorySize(t[r].hash);return n}},{key:"moveNode",value:function(e,t,n){if(e!==t&&n!==t){if(this.dirNodes[e].getChild(t).type===ee.DIR){var r=this.dirNodes[t];r.changeParent(n),this.dirNodes[e].removeChild(t),this.dirNodes[n].addChild(t,r.getMetaData())}else{var a=this.fileNodes[t];a.changeParent(n),this.dirNodes[e].removeChild(t),this.dirNodes[n].addChild(t,a.getMetaData())}return this.saveData(),!0}return this.reportError("Cannot move a directory into itself"),!1}},{key:"installApp",value:function(e,t){var n=this.fileNodes[e],r=new Q(n.getName(),e,null,n.getData(),t);this.appNodes[e]=r,this.saveData(),this.onInstall()}},{key:"getAppStorage",value:function(e,t){return this.appNodes[e].getStorage(t)}},{key:"setAppStorage",value:function(e,t,n){this.appNodes[e].setStorage(t,n),this.saveData()}},{key:"changeFileName",value:function(e,t){var n=this.fileNodes[e],r=n.getParent();return!(!this.checkName(r,t,e)||!this.checkFileName(t))&&(n.changeName(t),this.dirNodes[n.getParent()].addChild(e,n.getMetaData()),this.saveData(),!0)}},{key:"changeDirectoryName",value:function(e,t){var n=this.dirNodes[e],r=n.getParent();return!(!this.checkName(r,t,e)||!this.checkDirectoryName(t))&&(n.changeName(t),this.dirNodes[n.getParent()].addChild(e,n.getMetaData()),this.saveData(),!0)}},{key:"saveFile",value:function(e,t){this.fileNodes[e].saveData(t),this.saveData()}}]),e}(),re=function(){var e=Object(C.a)(x.a.mark((function e(t){var n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t.props.host+"/getFS/"+t.props.userId);case 3:if(200===(n=e.sent).status){e.next=6;break}return e.abrupt("return",Object(w.d)("Looks like there was a problem. Status Code: "+n.status));case 6:return e.next=8,n.json();case 8:return r=e.sent,t.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{fileSystem:new ne(r.data,[t.setDataChanged],alert.bind(window))})})),t.props.setLoading(!1),e.abrupt("return",Object(w.l)(r));case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",Object(w.d)("Fetch Error",e.t0));case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(C.a)(x.a.mark((function e(t){var n,r,a,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.state.fileSystem)){e.next=20;break}return r=n.outputRawData(),console.log(r),e.prev=4,e.next=7,fetch(t.props.host+"/setFS/"+t.props.userId,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),credentials:"include"});case 7:if(200===(a=e.sent).status){e.next=10;break}return e.abrupt("return",Object(w.d)("Looks like there was a problem. Status Code: "+a.status));case 10:return t.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{saved:!0})})),e.next=13,a.text();case 13:return o=e.sent,e.abrupt("return",Object(w.l)(o));case 17:return e.prev=17,e.t0=e.catch(4),e.abrupt("return",Object(w.d)("Fetch Error",e.t0));case 20:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(C.a)(x.a.mark((function e(t,n){var r,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(f.a)(Object(f.a)({},t),{},{userId:n.state.userId}),e.prev=1,e.next=4,fetch(n.host+"/updateInfo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),credentials:"include"});case 4:if(200===(r=e.sent).status){e.next=8;break}return console.log("Looks like there was a problem. Status Code: "+r.status),e.abrupt("return");case 8:return e.next=10,r.json();case 10:if((a=e.sent).error){e.next=16;break}return n.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{userInfo:Object(f.a)(Object(f.a)({},e.userInfo),t)})})),e.abrupt("return",Object(w.l)());case 16:return e.abrupt("return",Object(w.d)(a.errMsg));case 17:e.next=22;break;case 19:return e.prev=19,e.t0=e.catch(1),e.abrupt("return",Object(w.d)("Fetch Error",e.t0));case 22:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t,n){return e.apply(this,arguments)}}(),ie=function(){var e=Object(C.a)(x.a.mark((function e(t){var n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t.props.host+"/getSD/"+t.props.userId);case 3:if(200===(n=e.sent).status){e.next=6;break}return e.abrupt("return",Object(w.d)("Looks like there was a problem. Status Code: "+n.status));case 6:return e.next=8,n.json();case 8:return r=e.sent,t.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{systemData:r.data})})),e.abrupt("return",Object(w.l)(r));case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",Object(w.d)("Fetch Error",e.t0));case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(C.a)(x.a.mark((function e(t,n){var r,a,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.state.systemData,r=Object(f.a)(Object(f.a)({},r),t),e.prev=2,e.next=5,fetch(n.props.host+"/setSD/"+n.props.userId,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),credentials:"include"});case 5:if(200===(a=e.sent).status){e.next=8;break}return e.abrupt("return",Object(w.d)("Looks like there was a problem. Status Code: "+a.status));case 8:return e.next=10,a.json();case 10:return o=e.sent,n.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{systemData:r})})),e.abrupt("return",Object(w.l)(o));case 15:return e.prev=15,e.t0=e.catch(2),e.abrupt("return",Object(w.d)("Fetch Error",e.t0));case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t,n){return e.apply(this,arguments)}}(),ce=Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)({},r),a),o),i),s),le=0,ue=1,de=2,he=3,pe=4,fe=function(){function e(t,n){Object(b.a)(this,e),this.explorers=[],this.media=[],this.files=[],this.raw=[],this.apps=[],this.saveCallBack=n,this.processWindows(t)}return Object(j.a)(e,[{key:"processWindows",value:function(e){var t,n=Object(B.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;switch(r.type){case le:this.explorers.push(r.meta);break;case ue:this.media.push(r.meta);break;case de:case he:case pe:this.files.push(r.meta)}}}catch(a){n.e(a)}finally{n.f()}}},{key:"encodeWindows",value:function(){var e=[];for(var t in this.explorers)e.push({type:le,meta:t});for(var n in this.media)e.push({type:ue,meta:n});for(var r in this.files)e.push({type:de,meta:r});for(var a in this.raw)e.push({type:he,meta:a});for(var o in this.apps)e.push({type:pe,meta:o});return e}},{key:"getWindow",value:function(e,t){switch(t){case le:return this.explorers[e];case ue:return this.media[e];case de:return this.files[e];case he:return this.raw[e];case pe:return this.apps[e];default:return null}}},{key:"addWindow",value:function(e,t){switch(t){case le:this.explorers.push(e);break;case ue:this.media.push(e);break;case de:case he:case pe:this.files.push(e)}this.saveCallBack()}},{key:"deleteWindow",value:function(e,t){switch(t){case le:this.explorers.splice(e,1);break;case ue:this.media.splice(e,1);break;case de:case he:case pe:this.files.splice(e,1)}this.saveCallBack()}},{key:"popWindow",value:function(e,t){var n=this.getWindow(e,t);if(null===n)return!1;this.deleteWindow(e,t),this.addWindow(n,t),this.saveCallBack()}}]),e}(),be=n(29),je=n(15),ge={container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:_.e.contentTextColor,padding:10},icon:{display:"flex",width:50,height:50,justifyContent:"center",alignItems:"center",borderRadius:"50%",backgroundColor:_.e.transparentBlack,boxShadow:"0 0 5px rgba(255,255,255,0.8)",margin:5},input:{fontSize:15,width:80,borderRadius:5,flex:1,fontFamily:"roboto",textShadow:"0 0 5px white",padding:2,outline:"none",border:"none",backgroundColor:_.e.transparentBlack,color:_.e.optionTextColor},name:{flex:1,fontSize:15,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",textAlign:"center",fontFamily:"roboto",textShadow:"0 0 5px white",whiteSpace:"nowrap"}},Oe=function(e){var t=e.height,n=e.width,r=e.icon,a=e.type,o=e.name,i=e.nameOnChange,s=e.onClick,c=e.onRightClick,d=void 0===c?function(){}:c,h=e.setNameOnChange,p=e.saveName,b=e.nameChangable,j=void 0===b||b,g=e.draggable,O=void 0!==g&&g,m=e.onDragStart,v=e.onDragEnd,y=e.scale,x=void 0===y?1:y,C=Object(u.useState)(o),_=Object(je.a)(C,2),k=_[0],D=_[1];return Object(l.jsxs)("div",{style:Object(f.a)(Object(f.a)({},ge.container),{},{width:n,height:t,zoom:x}),draggable:O,onDragStart:m,onDragEnd:v,children:[Object(l.jsx)("div",{style:ge.icon,onClick:s,onContextMenu:d,onMouseOver:function(e){e.target.style.opacity=.5},onMouseOut:function(e){e.target.style.opacity=1},children:r}),i?Object(l.jsx)("input",{style:ge.input,type:"text",value:k,autoFocus:!0,onFocus:function(e){e.target.select()},onChange:function(e){D(e.target.value)},spellCheck:!1,onKeyDown:function(e){"Enter"===e.key?p(k,a):"Escape"===e.key&&(h(!1),D(o))}}):Object(l.jsx)("div",{style:Object(f.a)({},ge.name),onClick:function(){j&&h(!0)},children:Object(w.i)(o,12,"...")})]})},me={container:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"stretch"},entry:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start"},input:{fontSize:15,borderRadius:5,flex:1,fontFamily:"roboto",textShadow:"0 0 5px white",padding:2,outline:"none",border:"none",backgroundColor:_.e.transparentBlack,color:_.e.optionTextColor}},ve=function(e){var t=e.index,n=e.entry,r=e.entryStyle,a=e.rowHeight,o=Object(u.useState)(n.value),i=Object(je.a)(o,2),s=i[0],c=i[1];return Object(l.jsx)("div",{style:Object(f.a)(Object(f.a)({},me.entry),{},{height:a},r),onClick:n.func,onContextMenu:n.contextFunc,onMouseOver:function(e){e.target.style.opacity=.5},onMouseOut:function(e){e.target.style.opacity=1},children:n.valueOnChange?Object(l.jsx)("input",{style:me.input,type:"text",value:s,autoFocus:!0,onFocus:function(e){e.target.select()},spellCheck:!1,onChange:function(e){c(e.target.value)},onKeyDown:function(e){"Enter"===e.key?n.enterFunc(s):"Escape"===e.key&&(n.cancelFunc(),c(n.value))}},t):n.content},t)},ye=function(e){Object(O.a)(n,e);var t=Object(m.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){var e=this,t=this.props.entries.map((function(t,n){return Object(l.jsx)(ve,{entry:t,rowHeight:e.props.rowHeight,entryStyle:e.props.entryStyle,index:n},n)}));return Object(l.jsx)("div",{style:Object(f.a)(Object(f.a)({},me.container),this.props.containerStyle),children:t})}}]),n}(d.a.Component),xe={container:{position:"fixed",fontFamily:"roboto",backgroundColor:_.e.optionColor,color:_.e.optionTextColor,fontSize:13},option:{padding:5}},Ce=function(e){var t=e.entries,n=e.top,r=e.left;return Object(l.jsx)(ye,{entries:t,rowHeight:20,containerStyle:Object(f.a)(Object(f.a)({},xe.container),{},{top:n,left:r}),entryStyle:xe.option})},we={display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},_e=function(e){var t=e.children,n=e.onClick,r=e.style;return Object(l.jsx)("div",{onMouseOver:function(e){return e.target.style.opacity=.5},onMouseOut:function(e){return e.target.style.opacity=1},style:Object(f.a)(Object(f.a)({},we),r),onClick:n,children:t})},ke=function(e){var t=e.children,n=e.onClick,r=e.style;return Object(l.jsx)(_e,{onClick:n,style:Object(f.a)({borderRadius:10,padding:10,backgroundColor:_.e.contentColor,color:_.e.contentTextColor,fontFamily:"roboto"},r),children:t})},De={container:{borderRadius:20,display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"stretch"},textContainer:{flex:1,fontFamily:"roboto",display:"flex",justifyContent:"center",alignItems:"center",padding:10,fontWeight:"bold",textAlign:"center"},leftButton:{borderTopLeftRadius:0,borderTopRightRadius:0,borderBottomLeftRadius:20,borderBottomRightRadius:0,border:"1px solid #FFFFFF55",flex:1},rightButton:{borderTopLeftRadius:0,borderTopRightRadius:0,borderBottomLeftRadius:0,borderBottomRightRadius:20,border:"1px solid #FFFFFF55",flex:1}},Se=function(e){var t=e.width,n=void 0===t?300:t,r=e.height,a=void 0===r?200:r,o=e.leftText,i=e.leftFunc,s=e.rightText,c=e.rightFunc,u=e.children;return Object(l.jsx)("div",{style:Object(f.a)(Object(f.a)({},v.fullScreenContainer),{},{backgroundColor:_.e.transparentBlack}),children:Object(l.jsxs)("div",{style:Object(f.a)(Object(f.a)({},De.container),{},{width:n,height:a,backgroundColor:_.e.transparentWhite}),children:[Object(l.jsx)("div",{style:De.textContainer,children:u}),Object(l.jsxs)("div",{style:{display:"flex"},children:[Object(l.jsx)(ke,{style:De.leftButton,onClick:i,children:o}),Object(l.jsx)(ke,{style:De.rightButton,onClick:c,children:s})]})]})})},Ee=function(e){var t=e.setModalOn;return Object(u.useEffect)((function(){S((function(e){console.log(e),t(!e)}))}),[]),Object(l.jsx)(Se,{leftText:"Authorize",leftFunc:E,rightText:"Cancel",rightFunc:function(){t(!1)},children:"The file cannot be processed by WebOS. Would you like to authorize WebOS to connect with your Google Drive and upload files of this type?"})},Ie={section:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",backgroundColor:_.e.transparentBlack,borderRadius:20,margin:10,maxWidth:800,minWidth:200,transition:"width 0.2s"},title:{fontSize:24,color:_.e.optionTextColor,fontFamily:"roboto",margin:10,textShadow:"0 0 5px white"},appBar:{display:"flex",alignItems:"center",flexDirection:"row",margin:0,alignSelf:"stretch",justifyContent:"flex-start",flexWrap:"wrap"}},Me=n(129),Fe=n(130),Ne=n(131),Le=n(132),Pe=n(133),Re=n(134),We=n(135),Te=n(136),Ae=n(137),Be=n(138),Ue=n(139),He=function(e){Object(O.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,e)).handleDrop=function(){var e=Object(C.a)(x.a.mark((function e(t){var n,a,o,i,s,c,l,u;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!((n=t.dataTransfer.files).length>0)){e.next=24;break}a=Object(B.a)(n),e.prev=4,i=x.a.mark((function e(){var t,n,a,i,s,c,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.value,console.log(t),n=t.name.split(".")[0],a=t.name.split(".")[1],(i=Object(w.f)(a))!==_.b.UNKNOWN){e.next=9;break}alert("Cannot recognize the target file"),e.next=40;break;case 9:if(s=null,c={},i!==_.b.TXT&&i!==_.b.XML&&i!==_.b.CSS&&i!==_.b.JS){e.next=17;break}return e.next=14,Object(w.c)(t);case 14:s=e.sent,e.next=38;break;case 17:if(i!==_.b.IMG&&i!==_.b.VID){e.next=23;break}return e.next=20,Object(w.b)(t);case 20:s=e.sent,e.next=38;break;case 23:if(i!==_.b.DOC&&i!==_.b.XLS&&i!==_.b.PPT){e.next=35;break}if(l=function(){var e=Object(C.a)(x.a.mark((function e(){var n,r,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:if((n=e.sent).error){e.next=12;break}return e.next=6,F(n.folderId,t);case 6:if((r=e.sent).error){e.next=12;break}return e.next=10,N(r.fileId);case 10:(a=e.sent).error||(s=a.fileUrl,c={fileId:a.fileId,onDrive:!0},console.log(c));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D()){e.next=31;break}return r.setGoogleModalOn(!0),S(function(){var e=Object(C.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,l();case 3:console.log(c),r.props.fileSystem.createNewFile(r.state.currentDirectory.getHash(),n,s,a,c),r.reloadCurrentContent();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",{v:void 0});case 31:return e.next=33,l();case 33:e.next=38;break;case 35:return e.next=37,Object(w.c)(t);case 37:s=e.sent;case 38:r.props.fileSystem.createNewFile(r.state.currentDirectory.getHash(),n,s,a,c),r.reloadCurrentContent();case 40:case"end":return e.stop()}}),e)})),a.s();case 7:if((o=a.n()).done){e.next=14;break}return e.delegateYield(i(),"t0",9);case 9:if("object"!==typeof(s=e.t0)){e.next=12;break}return e.abrupt("return",s.v);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(4),a.e(e.t1);case 19:return e.prev=19,a.f(),e.finish(19);case 22:e.next=29;break;case 24:c=t.dataTransfer.getData("hash"),l=t.dataTransfer.getData("parent"),u=r.state.currentDirectory.getHash(),r.props.fileSystem.moveNode(l,c,u),r.reloadCurrentContent();case 29:case"end":return e.stop()}}),e,null,[[4,16,19,22]])})));return function(t){return e.apply(this,arguments)}}(),r.state={currentDirectory:null,currentContent:{},popUpOn:!1,popUpPosition:{},popUpEntries:[],googleModalOn:!1},r.changeCurrentDirectory=r.changeCurrentDirectory.bind(Object(g.a)(r)),r.reloadCurrentContent=r.reloadCurrentContent.bind(Object(g.a)(r)),r.createFile=r.createFile.bind(Object(g.a)(r)),r.createDirectory=r.createDirectory.bind(Object(g.a)(r)),r.setNameOnChange=r.setNameOnChange.bind(Object(g.a)(r)),r.setGoogleModalOn=r.setGoogleModalOn.bind(Object(g.a)(r)),r.saveName=r.saveName.bind(Object(g.a)(r)),r.setPopUp=r.setPopUp.bind(Object(g.a)(r)),r.closePopUp=r.closePopUp.bind(Object(g.a)(r)),r.handleAppClick=r.handleAppClick.bind(Object(g.a)(r)),r.handleAppContextMenu=r.handleAppContextMenu.bind(Object(g.a)(r)),r.handleAppDrag=r.handleAppDrag.bind(Object(g.a)(r)),r.handleDrop=r.handleDrop.bind(Object(g.a)(r)),r}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.fileSystem.addSaveCallBack(this.reloadCurrentContent),this.props.root&&this.changeCurrentDirectory(this.props.root),"bin"===this.props.root&&this.props.fileSystem.setOnRemove((function(){return e.changeCurrentDirectory(e.props.root)}))}},{key:"setGoogleModalOn",value:function(e){this.setState((function(t){return Object(f.a)(Object(f.a)({},t),{},{googleModalOn:e})}))}},{key:"changeCurrentDirectory",value:function(e){var t=this.props.fileSystem.getDirectory(e),n=t.getChildren();for(var r in n=Object(f.a)({},n))n[r]={metadata:n[r],nameOnChange:!1};this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{currentDirectory:t,currentContent:n})}))}},{key:"reloadCurrentContent",value:function(){var e=this.state.currentDirectory.getChildren();for(var t in e=Object(f.a)({},e))e[t]={metadata:e[t],nameOnChange:!1};this.setState((function(t){return Object(f.a)(Object(f.a)({},t),{},{popUpOn:!1,currentContent:e})}))}},{key:"createFile",value:function(){this.props.fileSystem.createNewFile(this.state.currentDirectory.getHash(),"New File",""),this.reloadCurrentContent()}},{key:"createDirectory",value:function(){this.props.fileSystem.createNewDirectory(this.state.currentDirectory.getHash(),"New Folder"),this.reloadCurrentContent()}},{key:"deleteNode",value:function(e){this.state.currentDirectory.isBin()?this.props.fileSystem.deepRemoveNode(e):this.props.fileSystem.removeNode(this.state.currentDirectory.getHash(),e),this.reloadCurrentContent()}},{key:"setNameOnChange",value:function(e,t){var n=this.state.currentContent;n[e].nameOnChange=t,this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{currentContent:n})}))}},{key:"closePopUp",value:function(e){e.preventDefault(),"click"===e.type?window.removeEventListener("click",this.closePopUp):window.removeEventListener("contextmenu",this.closePopUp),this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{popUpOn:!1})}))}},{key:"setPopUp",value:function(e,t,n){this.setState((function(r){return Object(f.a)(Object(f.a)({},r),{},{popUpOn:!0,popUpPosition:{x:e,y:t},popUpEntries:n})}))}},{key:"saveName",value:function(e,t,n){n===ee.FILE?this.props.fileSystem.changeFileName(e,t):this.props.fileSystem.changeDirectoryName(e,t),this.reloadCurrentContent()}},{key:"handleAppClick",value:function(e){if(e.type===ee.DIR)this.changeCurrentDirectory(e.hash);else switch(Object(w.f)(e.ext)){case _.b.TXT:case _.b.JS:case _.b.XML:case _.b.CSS:this.props.addCurrentFile(e.hash);break;case _.b.IMG:case _.b.VID:this.props.addCurrentWindow(e.hash);break;case _.b.DOC:case _.b.PPT:case _.b.XLS:this.props.addCurrentWindow(e.hash);break;default:this.props.addCurrentFile(e.hash)}}},{key:"handleAppDrag",value:function(e,t,n){e.dataTransfer.setData("hash",t),e.dataTransfer.setData("parent",n)}},{key:"handleBinContextMenu",value:function(e,t){var n=this;window.addEventListener("click",this.closePopUp),e.preventDefault(),e.stopPropagation(),this.setPopUp(e.clientX,e.clientY,[{content:"Deep Delete",func:function(){return n.deleteNode(t.hash)}}])}},{key:"handleExplorerContextMenu",value:function(e){var t=this;window.addEventListener("click",this.closePopUp),e.preventDefault(),this.setPopUp(e.clientX,e.clientY,[{content:"Open Terminal",func:function(){return t.props.addCurrentConsole(t.state.currentDirectory.getHash())}}])}},{key:"handleAppContextMenu",value:function(e,t){var n=this;window.addEventListener("click",this.closePopUp),e.preventDefault(),e.stopPropagation(),t.type===ee.DIR?this.setPopUp(e.clientX,e.clientY,[{content:"Delete",func:function(){return n.deleteNode(t.hash)}},{content:"Rename",func:function(){n.setNameOnChange(t.hash,!0)}},{content:"Open with code editor",func:function(){n.props.setCodeEditorRoot(t.hash)}},{content:"Open in new window",func:function(){n.props.openWindow(t.hash)}}]):t.type===ee.FILE&&this.setPopUp(e.clientX,e.clientY,[{content:"Delete",func:function(){return n.deleteNode(t.hash)}},{content:"Rename",func:function(){n.setNameOnChange(t.hash,!0)}},{content:"Open with code editor",func:function(){n.props.setCodeEditorRoot(n.props.fileSystem.getFile(t.hash).getParent())}},{content:"Open as web app",func:function(){n.props.addCurrentWindow(t.hash)}},{content:"Install as web app",func:function(){n.props.setInstallHash(t.hash)}}])}},{key:"render",value:function(){var e=this,t=[],n=this.state.currentDirectory,r=this.state.currentContent,a=this.props.systemData.iconSize;if(n&&r!=={}){var o=n.getParent();o&&t.push(Object(l.jsx)(Oe,{icon:Object(l.jsx)(Me.a,{style:{fontSize:30,color:_.e.red}}),name:"Back",type:null,width:100,height:110,onClick:function(t){e.changeCurrentDirectory(o)},nameOnChange:!1,nameChangable:!1,scale:a},"back_btn"));var i=function(o){var i=r[o].metadata;t.push(Object(l.jsx)(Oe,{icon:i.type===ee.DIR?Object(l.jsx)(Fe.a,{style:{fontSize:30},twoToneColor:_.e.yellow}):Object(w.f)(i.ext)===_.b.IMG?Object(l.jsx)(Ne.a,{style:{fontSize:30},twoToneColor:_.e.yellow}):Object(w.f)(i.ext)===_.b.VID?Object(l.jsx)(Le.a,{style:{fontSize:30},twoToneColor:_.e.yellow}):Object(w.f)(i.ext)===_.b.XML?Object(l.jsx)(Pe.a,{style:{fontSize:30},twoToneColor:_.e.yellow}):Object(w.f)(i.ext)===_.b.JS?Object(l.jsx)(Re.a,{style:{fontSize:30},twoToneColor:_.e.yellow}):Object(w.f)(i.ext)===_.b.DOC?Object(l.jsx)(We.a,{style:{fontSize:30},twoToneColor:_.e.yellow}):Object(w.f)(i.ext)===_.b.PPT?Object(l.jsx)(Te.a,{style:{fontSize:30},twoToneColor:_.e.yellow}):Object(w.f)(i.ext)===_.b.XLS?Object(l.jsx)(Ae.a,{style:{fontSize:30},twoToneColor:_.e.yellow}):Object(l.jsx)(Be.a,{style:{fontSize:30},twoToneColor:_.e.yellow}),name:i.name,type:i.type,width:100,height:110,onClick:function(t){"bin"===n.getHash()?alert("Cannot open nodes inside the recycle bin!"):e.handleAppClick(i)},onRightClick:function(t){"bin"===n.getHash()?e.handleBinContextMenu(t,i):e.handleAppContextMenu(t,i)},draggable:!0,onDragStart:function(t){return e.handleAppDrag(t,i.hash,n.getHash())},onDragEnd:function(t){"none"===t.dataTransfer.dragEffect?console.log("no effect"):e.reloadCurrentContent()},nameOnChange:r[o].nameOnChange,setNameOnChange:function(t){return e.setNameOnChange(o,t)},saveName:function(t,n){return e.saveName(o,t,n)},scale:a},i.hash))};for(var s in r)i(s);"bin"!==n.getHash()&&t.push(Object(l.jsx)(Oe,{icon:Object(l.jsx)(Ue.a,{style:{fontSize:30,color:_.e.green}}),name:"Create",width:100,height:110,onClick:function(t){t.stopPropagation(),window.addEventListener("click",e.closePopUp),e.setPopUp(t.clientX,t.clientY,[{content:"Create File",func:e.createFile},{content:"Create Folder",func:e.createDirectory}])},nameChangable:!1,nameOnChange:!1,scale:a},"create_btn"))}return Object(l.jsxs)("div",{style:Object(f.a)(Object(f.a)({},Ie.section),{},{width:Math.floor(.9*this.props.dims.width/(100*a?a:1))*(100*a?a:1)},this.props.style),onDragOver:function(e){e.preventDefault()},onDrop:function(t){return e.handleDrop(t)},onContextMenu:function(t){return e.handleExplorerContextMenu(t)},children:[this.state.googleModalOn&&Object(l.jsx)(Ee,{setModalOn:this.setGoogleModalOn}),n?"root"===n.getHash()?Object(l.jsx)("div",{style:Ie.title,children:"File Explorer"}):"bin"===n.getHash()?Object(l.jsx)("div",{style:Ie.title,children:"Recycle Bin"}):Object(l.jsx)("div",{style:Ie.title,children:n.getName()}):Object(l.jsx)(l.Fragment,{}),Object(l.jsxs)("div",{style:Ie.appBar,children:[this.state.popUpOn&&Object(l.jsx)(Ce,{top:this.state.popUpPosition.y,left:this.state.popUpPosition.x,entries:this.state.popUpEntries}),t]})]})}}]),n}(d.a.Component),ze={panel:{position:"absolute",top:0,right:0,left:0,height:25,display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",backgroundColor:_.e.optionColor,borderTopLeftRadius:5,borderTopRightRadius:5},title:{flex:1,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",paddingLeft:10,color:_.e.optionTextColor,fontFamily:"roboto",whiteSpace:"nowrap",cursor:"grab",overflow:"hidden"},controlBtn:{margin:2,height:16,width:16,borderRadius:8,display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},content:{position:"absolute",top:25,bottom:0,left:0,right:0,display:"flex",flex:1,borderBottomLeftRadius:5,borderBottomRightRadius:5,flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start",overflow:"auto"}},Ke=n(140),Xe=n(122),Ve=function(e){var t=e.children,n=e.id,r=e.style,a=e.draggable,o=e.headerRef,i=e.changePosition,s=e.onClick,c=void 0===s?function(){}:s,d=e.onFinishDrag,h=void 0===d?function(){}:d,p=Object(u.useRef)(0),f=Object(u.useRef)(0),b=Object(u.useRef)(),j=Object(u.useCallback)((function(e){var t=b.current;(e=e||window.event).preventDefault();var n=Math.max(0,Math.min(e.clientX,window.innerWidth)),r=Math.max(0,Math.min(e.clientY,window.innerHeight)),a=p.current-n,o=f.current-r;p.current=n,f.current=r,t.style.top=Math.max(0,Math.min(t.offsetTop-o,window.innerHeight-25))+"px",t.style.left=Math.max(0,Math.min(t.offsetLeft-a,window.innerWidth-120))+"px"}),[]),g=Object(u.useCallback)((function(e){var t=b.current;e=e||window.event;var n=Math.max(0,Math.min(e.touches[0].clientX,window.innerWidth)),r=Math.max(0,Math.min(e.touches[0].clientY,window.innerHeight)),a=p.current-n,o=f.current-r;p.current=n,f.current=r,t.style.top=Math.max(0,Math.min(t.offsetTop-o,window.innerHeight-25))+"px",t.style.left=Math.max(0,Math.min(t.offsetLeft-a,window.innerWidth-120))+"px"}),[]),O=Object(u.useCallback)((function(e){var t=b.current;o.current.style.cursor="grab",b.current.style.transition="top 0.1s, left 0.1s",i(t.style.left,t.style.top),document.removeEventListener("mouseup",O),document.removeEventListener("mousemove",j);var n,r=document.getElementsByTagName("iframe"),a=Object(B.a)(r);try{for(a.s();!(n=a.n()).done;){n.value.style.pointerEvents="auto"}}catch(s){a.e(s)}finally{a.f()}h(t.style.left,t.style.top)}),[]),m=Object(u.useCallback)((function(e){var t=b.current;o.current.style.cursor="grab",b.current.style.transition="top 0.1s, left 0.1s",i(t.style.left,t.style.top),document.removeEventListener("touchend",m),document.removeEventListener("touchmove",g);var n,r=document.getElementsByTagName("iframe"),a=Object(B.a)(r);try{for(a.s();!(n=a.n()).done;){n.value.style.pointerEvents="auto"}}catch(s){a.e(s)}finally{a.f()}h(t.style.left,t.style.top)}),[]),v=Object(u.useCallback)((function(e){(e=e||window.event).preventDefault(),p.current=e.clientX,f.current=e.clientY,o.current.style.cursor="grabbing",b.current.style.transition="none",document.addEventListener("mouseup",O),document.addEventListener("mousemove",j);var t,n=document.getElementsByTagName("iframe"),r=Object(B.a)(n);try{for(r.s();!(t=r.n()).done;){t.value.style.pointerEvents="none"}}catch(a){r.e(a)}finally{r.f()}}),[]),y=Object(u.useCallback)((function(e){(e=e||window.event).preventDefault(),p.current=e.touches[0].clientX,f.current=e.touches[0].clientY,o.current.style.cursor="grabbing",b.current.style.transition="none",document.addEventListener("touchend",m),document.addEventListener("touchmove",g);var t,n=document.getElementsByTagName("iframe"),r=Object(B.a)(n);try{for(r.s();!(t=r.n()).done;){t.value.style.pointerEvents="none"}}catch(a){r.e(a)}finally{r.f()}}),[]);return Object(u.useEffect)((function(){return a?(o.current.addEventListener("mousedown",v),o.current.addEventListener("touchstart",y)):(o.current.removeEventListener("mousedown",v),o.current.removeEventListener("touchstart",y),document.removeEventListener("mouseup",O),document.removeEventListener("mousemove",j),document.removeEventListener("touchend",m),document.removeEventListener("touchmove",g),b.current.style.top=0,b.current.style.left=0),function(){o.current&&(o.current.removeEventListener("mousedown",v),o.current.removeEventListener("touchstart",y))}}),[a]),Object(l.jsx)("div",{id:n+"_window",ref:function(e){b.current=e},style:r,onClick:c,children:t})},Ye={frame:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"stretch",position:"absolute",backgroundColor:_.e.backgroundTheme,boxShadow:"0 0 10px rgba(0,0,0,0.5)"},resizerR:{position:"absolute",cursor:"col-resize",height:"100%",right:-5,top:0,width:"5px"},resizerB:{position:"absolute",cursor:"row-resize",height:"5px",left:0,bottom:-5,width:"100%"}},Je=function(e){var t=e.children,n=e.resizeable,r=e.screenMode,a=e.onResize,o=e.style,i=e.initWidth,s=e.initHeight,c=e.minWidth,d=e.minHeight,h=e.onFinishResize,p=void 0===h?function(){}:h,b=Object(u.useRef)(i),j=Object(u.useRef)(s),g=Object(u.useRef)(0),O=Object(u.useRef)(0),m=Object(u.useRef)(),v=Object(u.useRef)(),y=Object(u.useRef)();Object(u.useEffect)((function(){0===r?(a(0,0),setTimeout((function(){return p(0,0)}),100)):1===r?(a(b.current,j.current),setTimeout((function(){return p(b.current,j.current)}),100)):2===r&&(a(window.innerWidth,window.innerHeight),setTimeout((function(){return p(window.innerWidth,window.innerHeight)}),100))}),[r]),Object(u.useEffect)((function(){n?(v.current.addEventListener("mousedown",k),y.current.addEventListener("mousedown",k),v.current.addEventListener("touchstart",D),y.current.addEventListener("touchstart",D)):(v.current.removeEventListener("mousedown",k),y.current.removeEventListener("mousedown",k),v.current.removeEventListener("touchstart",D),y.current.removeEventListener("touchstart",D),window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",w),window.removeEventListener("touchmove",C),window.removeEventListener("touchend",w))}),[n]);var x=Object(u.useCallback)((function(e){(e=e||window.event).preventDefault();var t=e.clientX-g.current,n=e.clientY-O.current,r=Math.max(c,Math.min(b.current+t,window.innerWidth)),o=Math.max(d,Math.min(j.current+n,window.innerWidth));m.current.style.width="".concat(r,"px"),m.current.style.height="".concat(o,"px"),a(r,o)}),[]),C=Object(u.useCallback)((function(e){var t=(e=e||window.event).touches[0].clientX-g.current,n=e.touches[0].clientY-O.current,r=Math.max(c,Math.min(b.current+t,window.innerWidth)),o=Math.max(d,Math.min(j.current+n,window.innerWidth));m.current.style.width="".concat(r,"px"),m.current.style.height="".concat(o,"px"),a(r,o)}),[]),w=Object(u.useCallback)((function(e){e=e||window.event,b.current=Number(m.current.style.width.replace(/\D./g,"")),j.current=Number(m.current.style.height.replace(/\D./g,"")),m.current.style.transition="width 0.1s, height 0.1s",window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",w);var t,n=document.getElementsByTagName("iframe"),r=Object(B.a)(n);try{for(r.s();!(t=r.n()).done;){t.value.style.pointerEvents="auto"}}catch(a){r.e(a)}finally{r.f()}p(b.current,j.current)}),[]),_=Object(u.useCallback)((function(e){e=e||window.event,b.current=Number(m.current.style.width.replace(/\D./g,"")),j.current=Number(m.current.style.height.replace(/\D./g,"")),m.current.style.transition="width 0.1s, height 0.1s",window.removeEventListener("touchmove",C),window.removeEventListener("touchend",_);var t,n=document.getElementsByTagName("iframe"),r=Object(B.a)(n);try{for(r.s();!(t=r.n()).done;){t.value.style.pointerEvents="auto"}}catch(a){r.e(a)}finally{r.f()}p(b.current,j.current)}),[]),k=Object(u.useCallback)((function(e){e=e||window.event,g.current=e.clientX,O.current=e.clientY,m.current.style.transition="none";var t=window.getComputedStyle(m.current);b.current=parseInt(t.width,10),j.current=parseInt(t.height,10),window.addEventListener("mousemove",x),window.addEventListener("mouseup",w);var n,r=document.getElementsByTagName("iframe"),a=Object(B.a)(r);try{for(a.s();!(n=a.n()).done;){n.value.style.pointerEvents="none"}}catch(o){a.e(o)}finally{a.f()}}),[]),D=Object(u.useCallback)((function(e){e=e||window.event,g.current=e.touches[0].clientX,O.current=e.touches[0].clientY,m.current.style.transition="none";var t=window.getComputedStyle(m.current);b.current=parseInt(t.width,10),j.current=parseInt(t.height,10),window.addEventListener("touchmove",C),window.addEventListener("touchend",_);var n,r=document.getElementsByTagName("iframe"),a=Object(B.a)(r);try{for(a.s();!(n=a.n()).done;){n.value.style.pointerEvents="none"}}catch(o){a.e(o)}finally{a.f()}}),[]);return Object(l.jsxs)("div",{ref:m,style:Object(f.a)(Object(f.a)({},Ye.frame),{},{width:0===r?120:2===r?window.innerWidth:b.current,height:0===r?0:2===r?window.innerHeight:j.current,transition:"width 0.1s, height 0.1s"},o),children:[t,Object(l.jsx)("div",{ref:v,style:Ye.resizerB}),Object(l.jsx)("div",{ref:y,style:Ye.resizerR})]})},qe=function(e){var t=e.id,n=e.top,r=e.left,a=e.name,o=e.children,i=e.width,s=void 0===i?400:i,c=e.height,d=void 0===c?400:c,h=e.minWidth,p=void 0===h?200:h,b=e.minHeight,j=void 0===b?200:b,g=e.onClick,O=void 0===g?function(){}:g,m=e.onCancel,v=void 0===m?function(){}:m,y=e.onResize,x=void 0===y?function(){}:y,C=e.onFinishResize,k=void 0===C?function(){}:C,D=e.onFinishDrag,S=void 0===D?function(){}:D,E=Object(u.useState)(1),I=Object(je.a)(E,2),M=I[0],F=I[1],N=Object(u.useState)(n),L=Object(je.a)(N,2),P=L[0],R=L[1],W=Object(u.useState)(r),T=Object(je.a)(W,2),A=T[0],B=T[1],U=Object(u.useRef)(),H=function(e){e.target.style.opacity=.5},z=function(e){e.target.style.opacity=1},K=function(e){F(Math.max(0,Math.min(2,M+e)))},X=Object(l.jsxs)("div",{style:ze.panel,children:[Object(l.jsx)("div",{style:ze.title,ref:U,children:0===M?Object(w.i)(a,8,"..."):1===M?Object(w.i)(a,25,"..."):Object(w.i)(a,50,"...")}),0===M?Object(l.jsx)(l.Fragment,{}):Object(l.jsx)("div",{style:Object(f.a)(Object(f.a)({},ze.controlBtn),{},{backgroundColor:_.e.green}),onClick:function(){return K(-1)},onMouseOver:H,onMouseOut:z,children:Object(l.jsx)(Ke.a,{style:{fontSize:10,color:_.e.transparentBlack}})}),2===M?Object(l.jsx)(l.Fragment,{}):Object(l.jsx)("div",{style:Object(f.a)(Object(f.a)({},ze.controlBtn),{},{backgroundColor:_.e.yellow}),onClick:function(){return K(1)},onMouseOver:H,onMouseOut:z,children:Object(l.jsx)(Ue.a,{style:{fontSize:10,color:_.e.transparentBlack}})}),Object(l.jsx)("div",{style:Object(f.a)(Object(f.a)({},ze.controlBtn),{},{backgroundColor:_.e.red}),onClick:v,onMouseOver:H,onMouseOut:z,children:Object(l.jsx)(Xe.a,{style:{fontSize:10,color:_.e.transparentBlack}})})]});return Object(l.jsx)(Ve,{id:t,draggable:1===M||0===M,headerRef:U,changePosition:function(e,t){B(e),R(t)},onClick:O,onFinishDrag:S,style:2===M?{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:_.e.windowBackground,zIndex:11,transition:"top 0.1s, left 0.1s"}:{position:"fixed",top:P,left:A,backgroundColor:_.e.windowBackground,zIndex:11,transition:"top 0.1s, left 0.1s"},children:Object(l.jsxs)(Je,{resizeable:0!==M,screenMode:M,onResize:x,onFinishResize:k,initWidth:s,initHeight:d,minWidth:p,minHeight:j,style:{border:1===M?"1px solid white":"none",borderRadius:1===M?5:0},children:[X,Object(l.jsx)("div",{style:Object(f.a)(Object(f.a)({},ze.content),{},{display:0===M?"none":"flex"}),children:o})]})})},Ge=function(e){Object(O.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,e)).state={width:null,height:null},r.resizeWindow=r.resizeWindow.bind(Object(g.a)(r)),r}return Object(j.a)(n,[{key:"resizeWindow",value:function(e,t){this.setState((function(n){return Object(f.a)(Object(f.a)({},n),{},{width:e,height:t})}))}},{key:"render",value:function(){return Object(l.jsx)(qe,{id:this.props.id,top:0,left:0,name:"File Explorer",onClick:this.props.onFocus,onCancel:this.props.closeWindow,onResize:this.resizeWindow,children:Object(l.jsx)("div",{style:Object(f.a)(Object(f.a)({},v.column),{},{alignSelf:"stretch"}),children:Object(l.jsx)(He,{fileSystem:this.props.fileSystem,setCodeEditorRoot:this.props.setCodeEditorRoot,setInstallHash:this.props.setInstallHash,root:this.props.root,dims:{width:this.state.width,height:this.state.height},openWindow:this.props.openWindow,addCurrentFile:this.props.addCurrentFile,addCurrentWindow:this.props.addCurrentWindow,closeCurrentWindow:this.props.closeCurrentWindow,closeCurrentFile:this.props.closeCurrentFile,saveCurrentFile:this.props.saveCurrentFile,systemData:this.props.systemData})})})}}]),n}(d.a.Component),Ze={section:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",backgroundColor:_.e.transparentBlack,borderRadius:20,margin:10,maxWidth:800,transition:"width 0.2s"},title:{fontSize:24,color:_.e.optionTextColor,fontFamily:"roboto",margin:10,textShadow:"0 0 5px white"},appBar:{display:"flex",alignItems:"center",flexDirection:"row",margin:0,alignSelf:"stretch",justifyContent:"flex-start",flexWrap:"wrap"}},$e=n(141),Qe=function(e){var t=Object(u.useState)(!1),n=Object(je.a)(t,2),r=n[0],a=n[1];return r?Object(l.jsxs)("div",{children:[Object(l.jsx)(Ge,{fileSystem:e.fileSystem,id:"bin",name:"Recycle Bin",root:"bin",closeWindow:function(){return a(!r)},systemData:e.systemData}),Object(l.jsx)(Oe,{icon:Object(l.jsx)($e.a,{style:{fontSize:30,color:_.e.yellow}}),name:"Recycle Bin",width:100,height:110,onClick:function(){return a(!r)},nameOnChange:!1,nameChangable:!1,scale:e.scale},"trash_bin")]}):Object(l.jsx)(Oe,{icon:Object(l.jsx)($e.a,{style:{fontSize:30,color:_.e.yellow}}),name:"Recycle Bin",width:100,height:110,onClick:function(){return a(!r)},nameOnChange:!1,nameChangable:!1,scale:e.scale},"trash_bin")},et=n(142),tt=function(e){var t=e.toggleAppExplorer,n=e.scale;return Object(l.jsx)(Oe,{icon:Object(l.jsx)(et.a,{style:{fontSize:30,color:_.e.yellow}}),name:"Applications",width:100,height:110,onClick:t,nameOnChange:!1,nameChangable:!1,scale:n},"app_viewer")},nt=function(e){for(var t=e.radius,n=e.length,r=e.index,a=e.selectIndex,o=[],i=function(e){o.push(Object(l.jsx)(_e,{style:{width:2*t,height:2*t,borderRadius:t,margin:t,backgroundColor:r===e?_.e.transparentBlack:_.e.transparentWhite},onClick:function(){return a(e)}},e))},s=0;s<n;s++)i(s);return Object(l.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",margin:20},children:o})},rt=n(143),at=n(144),ot=n(145),it=n(146),st=n(147),ct=n(124),lt=n(148),ut={manuBar:{alignSelf:"stretch",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",height:50,backgroundColor:_.e.transparentBlack},component:{flex:1,alignSelf:"stretch",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",fontFamily:"orbitron",fontSize:15,overflow:"hidden"},optionBtn:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",alignSelf:"stretch",flex:1,borderRadius:0,fontSize:12,backgroundColor:_.e.optionColor,color:_.e.optionTextColor},full:{display:"flex",position:"absolute",flexDirection:"column",top:0,left:0,right:0,bottom:0,justifyContent:"center",alignItems:"center",overflow:"auto"},alarmRow:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",alignSelf:"stretch",backgroundColor:_.e.optionColor,color:_.e.optionTextColor,border:"1px solid rgba(255,255,255,0.5)"},alarmText:{fontSize:25,margin:10},alarmBtn:{display:"flex",flexDirection:"row"}},dt=(n(108),n(123)),ht=n(42),pt=n.n(ht),ft=0,bt=1,jt=2,gt=function(e){var t=e.text,n=e.icon,r=e.onClick;return Object(l.jsxs)(ke,{style:ut.optionBtn,onClick:r,children:[n,t]})},Ot=function(e){var t=e.clockIndex,n=e.setClockIndex,r=e.clocks,a=e.time,o=e.refresh,i=Object(w.e)(a).hour+":"+Object(w.e)(a).minute+":"+Object(w.e)(a).second;return Object(u.useEffect)(o,[]),Object(l.jsxs)("div",{style:Object(f.a)(Object(f.a)({},ut.full),{},{minHeight:300}),children:[r[t],Object(l.jsx)(nt,{index:t,length:r.length,selectIndex:n,radius:5}),Object(l.jsx)("div",{style:{color:_.e.optionTextColor,padding:10,fontWeight:"bold"},children:i})]})},mt=function(e){var t=e.timer,n=e.startDate,r=e.timerVal,a=e.setStartDate,o=e.setTimerVal;return Object(l.jsxs)("div",{style:ut.full,children:[Object(l.jsx)("div",{style:{color:_.e.optionTextColor,padding:10,fontWeight:"bold",fontSize:20,width:150},children:function(e){var t=Math.floor(e/36e5%24),n=Math.floor(e/1e3/60%60),r=Math.floor(e/1e3%60),a=Math.floor(e%1e3/10);return(t<10?"0"+t:t)+":"+(n<10?"0"+n:n)+":"+(r<10?"0"+r:r)+":"+(a<10?"0"+a:a)}(r)}),Object(l.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(l.jsx)(ke,{style:{margin:5,backgroundColor:_.e.red},onClick:function(){if(null===n){var e=new Date;a(e),t.current||(t.current=setInterval((function(){var t=new Date-e+r;o(t)}),16))}else a(null),clearInterval(t.current),t.current=null},children:null===n?Object(l.jsx)(rt.a,{}):Object(l.jsx)(at.a,{})}),Object(l.jsx)(ke,{style:{margin:5},onClick:function(){a(null),clearInterval(t.current),t.current=null,o(0)},children:Object(l.jsx)(ot.a,{})})]})]})},vt=function(e){var t=e.systemData,n=e.updateSystemData,r=Object(u.useState)(null),a=Object(je.a)(r,2),o=a[0],i=a[1],s=t&&t.alarm?t.alarm:{alarmList:[]},c=(s?s.alarmList:[]).map((function(e,t){return Object(l.jsxs)("div",{style:Object(f.a)(Object(f.a)({},ut.alarmRow),{},{opacity:e.disabled?.5:1}),children:[Object(l.jsx)("div",{style:ut.alarmText,children:pt()(e.time).format("HH:mm")}),Object(l.jsxs)("div",{style:ut.alarmBtn,children:[Object(l.jsx)(ke,{style:{margin:5},onClick:function(){d(t)},children:e.disabled?Object(l.jsx)(it.a,{}):Object(l.jsx)(st.a,{})}),Object(l.jsx)(ke,{style:{margin:5,backgroundColor:_.e.red},onClick:function(){h(t)},children:Object(l.jsx)($e.a,{})})]})]},t)})),d=function(e){var t=Object(be.a)(s.alarmList);t[e].disabled=!t[e].disabled,n({alarm:Object(f.a)(Object(f.a)({},s),{},{alarmList:t})})},h=function(e){var t=Object(be.a)(s.alarmList);t.splice(e,1),n({alarm:Object(f.a)(Object(f.a)({},s),{},{alarmList:t})})};return Object(l.jsxs)("div",{style:Object(f.a)(Object(f.a)({},ut.full),{},{justifyContent:"flex-start"}),children:[c,Object(l.jsxs)("div",{style:Object(f.a)(Object(f.a)({},ut.alarmRow),{},{justifyContent:"center"}),children:[Object(l.jsx)(dt.a,{value:o,onChange:i,format:"HH:mm",size:"small"}),Object(l.jsx)(ke,{style:{margin:10,backgroundColor:_.e.green},onClick:function(){var e=Object(be.a)(s.alarmList);e.push({time:new Date(o),disabled:!1}),n({alarm:Object(f.a)(Object(f.a)({},s),{},{alarmList:e})})},children:Object(l.jsx)(Ue.a,{})})]})]})},yt=function(e){var t=e.setOpen,n=e.timer,r=e.timerVal,a=e.setTimerVal,o=e.startDate,i=e.setStartDate,s=e.systemData,c=e.updateSystemData,d=e.time,h=e.clockIndex,p=e.setClockIndex,f=e.clocks,b=e.refresh,j=Object(u.useState)(ft),g=Object(je.a)(j,2),O=g[0],m=g[1],v=O===ft?Object(l.jsx)(Ot,{systemData:s,updateSystemData:c,clockIndex:h,setClockIndex:p,clocks:f,time:d,refresh:b}):O===bt?Object(l.jsx)(mt,{timer:n,timerVal:r,setTimerVal:a,startDate:o,setStartDate:i}):Object(l.jsx)(vt,{systemData:s,updateSystemData:c});return Object(l.jsxs)(qe,{id:"clock",top:0,left:0,name:"Clock",onCancel:function(){return t(!1)},children:[Object(l.jsx)("div",{style:ut.component,children:v}),Object(l.jsxs)("div",{style:ut.manuBar,children:[Object(l.jsx)(gt,{text:"clock",onClick:function(){return m(ft)},icon:Object(l.jsx)(ct.a,{style:{fontSize:20,margin:5}})}),Object(l.jsx)(gt,{text:"timer",onClick:function(){return m(bt)},icon:Object(l.jsx)(lt.a,{style:{fontSize:20,margin:5}})}),Object(l.jsx)(gt,{text:"alarm",onClick:function(){return m(jt)},icon:Object(l.jsx)(it.a,{style:{fontSize:20,margin:5}})})]})]})},xt=n(53),Ct=function(e){var t=e.systemData,n=e.updateSystemData,r=e.scale,a=Object(u.useState)(!1),o=Object(je.a)(a,2),i=o[0],s=o[1],c=Object(u.useState)(new Date),d=Object(je.a)(c,2),h=d[0],p=d[1],f=Object(u.useState)(null),b=Object(je.a)(f,2),j=b[0],g=b[1],O=Object(u.useState)(0),m=Object(je.a)(O,2),v=m[0],y=m[1],x=Object(u.useRef)(),C=(t?t.clock?t.clock:{index:1}:{index:0}).index,w=function(){for(var e=document.getElementsByClassName("react-clock__minute-hand__body"),t=document.getElementsByClassName("react-clock__hour-hand__body"),n=document.getElementsByClassName("react-clock__second-hand__body"),r=document.getElementsByClassName("react-clock__face"),a=0;a<e.length;a++)e[a].style.background=k[C].minuteHandColor;for(var o=0;o<t.length;o++)t[o].style.background=k[C].hourHandColor;for(var i=0;i<n.length;i++)n[i].style.background=k[C].secondHandColor;for(var s=0;s<r.length;s++)r[s].style.background=k[C].clockFaceColor,r[s].style.color=k[C].textColor,r[s].style.border="none"};Object(u.useEffect)(w,[C]);var _=[Object(l.jsx)(xt.a,{value:h,hourHandOppositeLength:1,minuteHandOppositeLength:1,secondHandOppositeLength:1,renderNumbers:!1,renderMinuteMarks:!1,renderHourMarks:!1}),Object(l.jsx)(xt.a,{value:h,renderNumbers:!0,hourHandOppositeLength:10,minuteHandOppositeLength:10,renderMinuteMarks:!1,hourMarksLength:3,hourMarksWidth:2}),Object(l.jsx)(xt.a,{value:h,hourHandLength:30,minuteHandLength:60,secondHandLength:80,hourHandOppositeLength:1,minuteHandOppositeLength:1,secondHandOppositeLength:1,renderNumbers:!0,renderMinuteMarks:!1,renderHourMarks:!0,hourMarksLength:0}),Object(l.jsx)(xt.a,{value:h,renderNumbers:!1,renderMinuteMarks:!0,renderHourMarks:!0,hourMarksWidth:3,minuteMarksWidth:2}),Object(l.jsx)(xt.a,{value:h,renderNumbers:!0,renderMinuteMarks:!0,renderHourMarks:!0,hourMarksLength:0,minuteMarksLength:0})],k=[{minuteHandColor:"black",hourHandColor:"black",clockFaceColor:"white",secondHandColor:"red",textColor:"white"},{minuteHandColor:"white",hourHandColor:"white",clockFaceColor:"red",secondHandColor:"yellow",textColor:"white"},{minuteHandColor:"red",hourHandColor:"red",clockFaceColor:"black",secondHandColor:"red",textColor:"red"},{minuteHandColor:"black",hourHandColor:"black",clockFaceColor:"linear-gradient(to right, #fc5c7d, #6a82fb)",secondHandColor:"white",textColor:"black"},{minuteHandColor:"black",hourHandColor:"black",clockFaceColor:"linear-gradient(to right, #40e0d0, #ff8c00, #ff0080)",secondHandColor:"white",textColor:"black"}];return Object(u.useEffect)((function(){var e=t?t.alarm:{alarmList:[]},n=e?e.alarmList:[],r=setInterval((function(){var e,t=new Date,r=Object(B.a)(n);try{for(r.s();!(e=r.n()).done;){var a=e.value,o=new Date(a.time);if(!a.disabled&&o.getHours()===t.getHours()&&o.getMinutes()===t.getMinutes())return void window.alert("Alarm")}}catch(i){r.e(i)}finally{r.f()}}),1e3);return function(){clearInterval(r)}}),[t]),Object(u.useEffect)((function(){var e=setInterval((function(){p(new Date)}),1e3);return function(){clearInterval(e)}}),[]),Object(l.jsxs)("div",{children:[i&&Object(l.jsx)(yt,{time:h,setOpen:s,startDate:j,setStartDate:g,timerVal:v,setTimerVal:y,timer:x,systemData:t,updateSystemData:n,clockIndex:C,setClockIndex:function(e){n({clock:{index:e}})},clocks:_,refresh:w}),Object(l.jsx)(Oe,{scale:r,icon:Object(l.jsx)(xt.a,{value:h,size:50,hourHandWidth:2,minuteHandWidth:1,secondHandWidth:.7,secondHandLength:80,renderNumbers:!1,renderSecondHand:!0,renderMinuteMarks:!1,renderHourMarks:!1}),name:"Clock",width:100,height:110,onClick:function(){return s(!i)},nameOnChange:!1,nameChangable:!1},"clock")]})},wt={noteRow:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",alignSelf:"stretch",backgroundColor:_.e.optionColor,color:_.e.optionTextColor,border:"1px solid rgba(255,255,255,0.5)"},component:{flex:1,alignSelf:"stretch",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",fontFamily:"roboto",fontSize:15,overflow:"hidden"},full:{display:"flex",position:"absolute",flexDirection:"column",top:0,left:0,right:0,bottom:0,justifyContent:"center",alignItems:"center",overflow:"auto"},title:{margin:5,fontWeight:"bold"},date:{fontSize:10,margin:5},titleCol:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start"},controlBtn:{display:"flex",flexDirection:"row"},noteContent:{flex:1,alignSelf:"stretch",margin:5,color:_.e.optionTextColor,outline:"none",overflow:"auto"},noteMenu:{height:25,width:"100%",backgroundColor:_.e.optionColor,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end"},menuButton:{width:25,height:25,display:"flex",justifyContent:"center",alignItems:"center",borderWidth:"1px",borderStyle:"solid",borderColor:_.e.borderColor,backgroundColor:_.e.optionColor,color:_.e.optionTextColor}},_t=function(e){var t=e.onChange,n=e.value,r=e.style,a=e.placeholder;return Object(l.jsx)("input",{style:Object(f.a)({outline:"none",margin:"0",shadow:"none",border:"none",overflowX:"hidden",paddingLeft:5,fontSize:12},r),value:n,onChange:function(e){return t(e.target.value)},placeholder:a})},kt=n(85),Dt=n(149),St=n(125),Et=function(e){var t=e.note,n=e.index,r=e.onCancel,a=e.saveNote,o=e.setNoteSize,i=e.setNotePos,s=Object(u.useState)(!0),c=Object(je.a)(s,2),d=c[0],h=c[1],p=Object(u.useRef)();Object(u.useEffect)((function(){p.current&&(p.current.innerText=t.content)}),[]);return Object(l.jsxs)(qe,{id:"note-"+t.id,top:t.pos.y,left:t.pos.x,name:t.title+(d?" \u25cf":" \u25cb"),onCancel:r,minWidth:120,minHeight:50,height:t.size.h,width:t.size.w,onFinishResize:function(e,t){o({w:e,h:t},n)},onFinishDrag:function(e,t){i({x:e,y:t},n)},children:[Object(l.jsx)("div",{style:wt.noteMenu,children:Object(l.jsx)(_e,{style:wt.menuButton,onClick:function(){h(!0),a(p.current.innerText,n)},children:Object(l.jsx)(Dt.a,{})})}),Object(l.jsx)("div",{ref:function(e){return p.current=e},style:wt.noteContent,contentEditable:!0,onInput:function(){return h(!1)}})]})},It=function(e){var t=e.note,n=e.index,r=e.toggleNoteActive,a=e.toggleNoteOpen,o=e.deleteNote,i=Object(w.e)(new Date(t.date));return Object(l.jsxs)("div",{style:Object(f.a)(Object(f.a)({},wt.noteRow),{},{opacity:t.active?1:.5}),children:[Object(l.jsxs)(_e,{style:wt.titleCol,onClick:function(){return a(n)},children:[Object(l.jsx)("div",{style:wt.title,children:t.title}),Object(l.jsx)("div",{style:wt.date,children:i.year+"-"+i.month+"-"+i.day+" "+i.hour+":"+i.minute})]}),Object(l.jsxs)("div",{style:wt.controlBtn,children:[Object(l.jsx)(ke,{style:{margin:5},onClick:function(){r(n)},children:Object(l.jsx)(St.a,{style:{color:t.active?_.e.transparentBlack:_.e.green}})}),Object(l.jsx)(ke,{style:{margin:5,backgroundColor:_.e.red},onClick:function(){o(n)},children:Object(l.jsx)($e.a,{})})]})]})},Mt=function(e){var t=e.setOpen,n=e.systemData,r=e.updateSystemData,a=n?n.notes:{notes:[]},o=a?a.notes:[],i=Object(u.useState)(),s=Object(je.a)(i,2),c=s[0],d=s[1],h=Object(u.useState)(""),p=Object(je.a)(h,2),b=p[0],j=p[1],g=Object(u.useRef)(o),O=function(e){r({notes:{notes:JSON.parse(JSON.stringify(e))}}),g.current=e},m=function(e){var t=Object(be.a)(g.current);t[e].active=!t[e].active,O(t)},v=function(e){var t=Object(be.a)(g.current);t[e].open=!t[e].open,O(t)},y=function(e){var t=Object(be.a)(g.current);t.splice(e,1),O(t)},x=function(e,t){var n=Object(be.a)(g.current);n[t].content=e,O(n)},C=function(e,t){var n=Object(be.a)(g.current);n[t].size=e,O(n)},w=function(e,t){var n=Object(be.a)(g.current);n[t].pos=e,console.log(n),O(n)},k=[],D=[];return o.map((function(e,t){D.push(Object(l.jsx)(It,{index:t,note:e,toggleNoteActive:m,toggleNoteOpen:v,deleteNote:y},e.title)),e.open&&k.push(Object(l.jsx)(Et,{index:t,saveNote:x,setNoteSize:C,setNotePos:w,note:e,onCancel:function(){return v(t)}},e.title))})),Object(l.jsxs)("div",{children:[Object(l.jsx)(qe,{id:"notes",top:0,left:0,name:"Notes",onCancel:function(){return t(!1)},children:Object(l.jsx)("div",{style:wt.component,children:Object(l.jsxs)("div",{style:Object(f.a)(Object(f.a)({},wt.full),{},{justifyContent:"flex-start"}),children:[D,Object(l.jsxs)("div",{style:wt.noteRow,children:[Object(l.jsx)(_t,{value:b,onChange:j,placeholder:"title",style:{color:_.e.optionColor,border:"1px solid white",borderRadius:2,margin:5,fontSize:14}}),Object(l.jsx)("div",{style:{margin:5},children:Object(l.jsx)(kt.a,{value:c,onOk:d,onChange:d,showTime:{format:"HH:mm"},format:"YYYY-MM-DD HH:mm",size:"small",placeholder:"date"})}),Object(l.jsx)(ke,{style:{margin:10,backgroundColor:_.e.green},onClick:function(){var e=JSON.parse(JSON.stringify(o));e.push({title:b,content:"",active:!0,open:!1,pos:{x:0,y:0},size:{w:200,h:200},date:new Date(c)}),O(e)},children:Object(l.jsx)(Ue.a,{})})]})]})})}),k]})},Ft=n(150),Nt=function(e){var t=e.systemData,n=e.updateSystemData,r=e.scale,a=Object(u.useState)(!1),o=Object(je.a)(a,2),i=o[0],s=o[1];return Object(l.jsxs)("div",{children:[i&&Object(l.jsx)(Mt,{setOpen:s,systemData:t,updateSystemData:n}),Object(l.jsx)(Oe,{scale:r,icon:Object(l.jsx)(Ft.a,{style:{fontSize:30,color:_.e.yellow}}),name:"Notes",width:100,height:110,onClick:function(){return s(!i)},nameOnChange:!1,nameChangable:!1},"notes")]})},Lt={frame:{position:"absolute",top:0,left:0,bottom:0,right:0,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"stretch",alignSelf:"stretch"},sideBar:{width:100,background:_.e.optionColor,justifyContent:"flex-start",alignItems:"stretch",overflow:"auto"},sideBarEntry:{height:30,width:100,justifyContent:"center",alignItems:"center",color:_.e.optionTextColor,borderWidth:1,borderStyle:"solid",borderColor:_.e.transparentWhite},page:{flex:1,display:"flex",flexDirection:"column",justifyContent:"flex-start",backgroundColor:_.e.transparentBlack,color:_.e.optionTextColor,padding:20,alignItems:"center",overflow:"auto"},section:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"stretch",width:"80%",maxWidth:400},title:{fontWeight:"bold",fontSize:18,margin:10,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},row:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",margin:5},picture:{width:100,height:50,borderWidth:2,borderStyle:"solid"}},Pt=n(67),Rt=n.n(Pt),Wt=n(127),Tt=function(e){var t=e.fileSystem,n=(e.userInfo,e.localMode),r=Object(u.useState)(D()),a=Object(je.a)(r,2),o=a[0],i=a[1];return Object(l.jsxs)("div",{style:Lt.page,children:[Object(l.jsxs)("div",{style:Lt.section,children:[Object(l.jsx)("div",{style:Lt.title,children:"File System"}),Object(l.jsxs)("div",{style:Lt.row,children:[Object(l.jsx)("p",{children:"File System Size"})," ",Object(l.jsx)("p",{children:Object(w.h)(t.getRawSize())})]}),Object(l.jsxs)("div",{style:Lt.row,children:[Object(l.jsx)("p",{children:"Data Size"})," ",Object(l.jsx)("p",{children:Object(w.h)(t.getDirectorySize("root"))})]}),Object(l.jsxs)("div",{style:Lt.row,children:[Object(l.jsx)("p",{children:"Trash Data Size"}),Object(l.jsx)("p",{children:Object(w.h)(t.getDirectorySize("bin"))})]}),Object(l.jsxs)("div",{style:Lt.row,children:[Object(l.jsx)("p",{children:"Directories"})," ",Object(l.jsx)("p",{children:t.getNumDirs()})]}),Object(l.jsxs)("div",{style:Lt.row,children:[Object(l.jsx)("p",{children:"Files"})," ",Object(l.jsx)("p",{children:t.getNumFiles()})]}),Object(l.jsxs)("div",{style:Lt.row,children:[Object(l.jsx)("p",{children:"Apps"})," ",Object(l.jsx)("p",{children:t.getNumApps()})]})]}),Object(l.jsxs)("div",{style:Lt.section,children:[Object(l.jsx)("div",{style:Lt.title,children:"User State"}),Object(l.jsxs)("div",{style:Lt.row,children:[Object(l.jsx)("p",{children:"Local Mode"})," ",Object(l.jsx)("p",{children:String(n)})]}),Object(l.jsxs)("div",{style:Lt.row,children:[Object(l.jsx)("p",{children:"Google Drive Connected"})," ",Object(l.jsx)(Rt.a,{thumbStyle:{boxShadow:"0px 0px 2px white"},colors:{active:{base:"#32CD32",hover:"#228B22"},inactive:{base:"rgb(65,66,68)",hover:"rgb(95,96,98)"}},inactiveLabel:"",activeLabel:"",value:o,onToggle:function(e){e?(I(),i(!o)):(E(),i(!o))}})]})]})]})},At=function(){var e=Object(u.useState)("N/A"),t=Object(je.a)(e,2),n=t[0],r=t[1];return Object(u.useState)(Object(C.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.g)();case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)}))),[]),Object(l.jsx)("div",{style:Lt.page,children:Object(l.jsxs)("div",{style:Lt.section,children:[Object(l.jsx)("div",{style:Lt.title,children:"Network"}),Object(l.jsxs)("div",{style:Lt.row,children:[Object(l.jsx)("p",{children:"Est. Link Speed"}),Object(l.jsx)("p",{children:navigator.connection?navigator.connection.downlink+" Mbs":"N/A"})]}),Object(l.jsxs)("div",{style:Lt.row,children:[Object(l.jsx)("p",{children:"Client IP"}),Object(l.jsx)("p",{children:n})]})]})})},Bt=function(e){var t=e.systemData,n=e.updateSystemData,r=e.backgrounds,a=[];return r.map((function(e,r){return a.push(Object(l.jsx)(_e,{style:Object(f.a)(Object(f.a)({},Lt.picture),{},{backgroundSize:"cover",backgroundImage:"url(".concat(e,")"),borderColor:t.backgroundIndex===r?"white":"black"}),onClick:function(){return function(e){n({backgroundIndex:e})}(r)}},r))})),Object(l.jsxs)("div",{style:Lt.page,children:[Object(l.jsxs)("div",{style:Lt.section,children:[Object(l.jsx)("div",{style:Lt.title,children:"Background"}),Object(l.jsx)("div",{style:Lt.row,children:a}),Object(l.jsxs)("div",{style:Lt.row,children:[Object(l.jsx)("p",{children:"Rolling"}),Object(l.jsx)(Rt.a,{thumbStyle:{boxShadow:"0px 0px 2px white"},colors:{active:{base:"#32CD32",hover:"#228B22"},inactive:{base:"rgb(65,66,68)",hover:"rgb(95,96,98)"}},inactiveLabel:"",activeLabel:"",value:t.rollingBackground,onToggle:function(e){n({rollingBackground:!e})}})]}),Object(l.jsxs)("div",{style:Lt.row,children:[Object(l.jsx)("p",{children:"Interval"}),Object(l.jsxs)(Wt.a,{disabled:!t.rollingBackground,defaultValue:t.rollingInterval?t.rollingInterval:30,style:{width:100},size:"small",onChange:function(e){n({rollingInterval:e})},children:[Object(l.jsx)(Wt.a.Option,{value:15,children:"15s"}),Object(l.jsx)(Wt.a.Option,{value:30,children:"30s"}),Object(l.jsx)(Wt.a.Option,{value:60,children:"60s"}),Object(l.jsx)(Wt.a.Option,{value:120,children:"120s"})]})]})]}),Object(l.jsxs)("div",{style:Lt.section,children:[Object(l.jsx)("div",{style:Lt.title,children:"Icons"}),Object(l.jsxs)("div",{style:Lt.row,children:[Object(l.jsx)("p",{children:"Scaling"}),Object(l.jsxs)(Wt.a,{defaultValue:t.iconSize?t.iconSize:1,style:{width:100},size:"small",onChange:function(e){n({iconSize:e})},children:[Object(l.jsx)(Wt.a.Option,{value:.5,children:"50%"}),Object(l.jsx)(Wt.a.Option,{value:.75,children:"75%"}),Object(l.jsx)(Wt.a.Option,{value:1,children:"100%"}),Object(l.jsx)(Wt.a.Option,{value:1.5,children:"150%"})]})]})]})]})},Ut={General:function(e){return Object(l.jsx)(Tt,Object(f.a)({},e))},Network:function(e){return Object(l.jsx)(At,Object(f.a)({},e))},Display:function(e){return Object(l.jsx)(Bt,Object(f.a)({},e))}},Ht=function(e){var t=e.onCancel,n=e.fileSystem,r=e.userInfo,a=e.localMode,o=e.backgrounds,i=e.systemData,s=e.updateSystemData,c=Object(u.useState)("General"),d=Object(je.a)(c,2),h=d[0],p=d[1],f=[];Object.keys(Ut).map((function(e){return f.push(Object(l.jsx)(_e,{style:Lt.sideBarEntry,onClick:function(){return p(e)},children:e},e))}));var b=Ut[h];return Object(l.jsx)(qe,{top:0,left:0,id:"setting",name:"Setting",width:500,minWidth:500,height:500,minHeight:300,onCancel:t,children:Object(l.jsxs)("div",{style:Lt.frame,children:[Object(l.jsx)("div",{style:Lt.sideBar,children:f}),Object(l.jsx)(b,{fileSystem:n,userInfo:r,localMode:a,systemData:i,updateSystemData:s,backgrounds:o})]})})},zt=n(151),Kt=function(e){var t=e.fileSystem,n=e.userInfo,r=e.localMode,a=e.systemData,o=e.updateSystemData,i=e.backgrounds,s=e.scale,c=Object(u.useState)(!1),d=Object(je.a)(c,2),h=d[0],p=d[1];return Object(l.jsxs)("div",{children:[h&&Object(l.jsx)(Ht,{fileSystem:t,userInfo:n,localMode:r,systemData:a,updateSystemData:o,backgrounds:i,onCancel:function(){return p(!h)}}),Object(l.jsx)(Oe,{icon:Object(l.jsx)(zt.a,{style:{fontSize:30,color:_.e.yellow}}),name:"Setting",width:100,height:110,onClick:function(){return p(!h)},nameOnChange:!1,nameChangable:!1,scale:s},"setting")]})},Xt=function(e){Object(O.a)(n,e);var t=Object(m.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){var e=this.props.systemData.iconSize;return Object(l.jsxs)("div",{style:Object(f.a)(Object(f.a)({},Ze.section),{},{width:Math.floor(.9*this.props.dims.width/(100*e?e:1))*(100*e?e:1)}),children:[Object(l.jsx)("div",{style:Ze.title,children:"Utilities"}),Object(l.jsxs)("div",{style:Ze.appBar,children:[Object(l.jsx)(Qe,{fileSystem:this.props.fileSystem,systemData:this.props.systemData,scale:e}),Object(l.jsx)(tt,{toggleAppExplorer:this.props.appFuncs.toggleAppExplorer,scale:e}),Object(l.jsx)(Nt,{systemData:this.props.systemData,updateSystemData:this.props.updateSystemData,scale:e}),Object(l.jsx)(Kt,{fileSystem:this.props.fileSystem,systemData:this.props.systemData,userInfo:this.props.userInfo,localMode:this.props.localMode,backgrounds:this.props.backgrounds,updateSystemData:this.props.updateSystemData,scale:e}),Object(l.jsx)(Ct,{systemData:this.props.systemData,updateSystemData:this.props.updateSystemData,scale:e})]})]})}}]),n}(d.a.Component),Vt=n(69),Yt={tabRow:{display:"flex",alignSelf:"stretch",flexDirection:"row",flexShrink:0,justifyContent:"flex-start",alignItems:"stretch",overflowX:"auto",height:20,fontFamily:"roboto",fontSize:13,backgroundColor:_.e.optionColor,color:_.e.optionTextColor},tabCell:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:_.e.optionColor,color:_.e.optionTextColor,borderWidth:"1px",borderStyle:"solid",borderColor:_.e.borderColor,width:100,padding:5,overflow:"hidden",whiteSpace:"nowrap"}},Jt={frame:{justifyContent:"center",alignItems:"stretch",overflow:"hidden",borderWidth:2,borderColor:"white",borderStyle:"solid"},menuBar:{display:"flex",height:30,flexDirection:"row",justifyContent:"flex-start",alignItems:"stretch",fontFamily:"roboto",fontSize:12},dropDown:{display:"flex",flexDirection:"column",alignItems:"stretch",width:100,height:30,borderWidth:"1px",borderStyle:"solid",borderColor:_.e.borderColor},cursorInfo:{display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"center",width:100,height:30,padding:10,borderWidth:"1px",borderStyle:"solid",borderColor:_.e.borderColor,background:_.e.optionColor,color:_.e.optionTextColor},title:{display:"flex",flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center",padding:10,borderWidth:"1px",borderStyle:"solid",fontSize:14,borderColor:_.e.borderColor,background:_.e.titleColor,color:_.e.titleTextColor},menuButton:{width:30,height:30,display:"flex",justifyContent:"center",alignItems:"center",borderWidth:"1px",borderStyle:"solid",borderColor:_.e.borderColor,backgroundColor:_.e.optionColor,color:_.e.optionTextColor},inputBox:{outline:"none",margin:"0",shadow:"none",overflowX:"hidden",paddingLeft:5,fontSize:12,fontFamily:"roboto",borderWidth:"1px",borderStyle:"solid",borderColor:_.e.borderColor,backgroundColor:_.e.optionColor,color:_.e.optionTextColor}},qt=n(98),Gt=n(99),Zt=n.n(Gt);n(113),n(114);n(90),n(91),n(115),n(116);var $t=function(e){Object(O.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,e)).onCursorActivity=function(e){var t=e.getCursor();r.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{line:t.line,col:t.ch})}))},r.dropDownSelect=function(e){r.setState((function(t){return Object(f.a)(Object(f.a)({},t),{},{mode:e.value})}))},r.changeCmd=function(e){r.setState((function(t){return Object(f.a)(Object(f.a)({},t),{},{cmd:e.target.value})}))},r.MODES={JS:{value:"javascript",label:"JavaScript"},JSX:{value:"jsx",label:"JSX"},HTML:{value:"xml",label:"HTML"},CSS:{value:"css",label:"CSS"},NULL:{value:"null",label:"Plain"}},r.state={line:0,col:0,mode:r.MODES.HTML.value,cmd:""},r.onCursorActivity=r.onCursorActivity.bind(Object(g.a)(r)),r.dropDownSelect=r.dropDownSelect.bind(Object(g.a)(r)),r.changeCmd=r.changeCmd.bind(Object(g.a)(r)),r.executeCmd=r.executeCmd.bind(Object(g.a)(r)),r.highlight=r.highlight.bind(Object(g.a)(r)),r.unhighlight=r.unhighlight.bind(Object(g.a)(r)),r}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=document.getElementsByClassName(this.props.id+"_codebox")[0];t.style.flex=1,t.children[0].style.height=String(this.props.height-30)+"px",t.addEventListener("keydown",(function(t){if(t.ctrlKey)return 83===t.which&&(t.preventDefault(),e.props.saveFile()),!1}))}},{key:"executeCmd",value:function(e){"Enter"===e.key&&console.log(this.state.cmd)}},{key:"highlight",value:function(e){e.target.style.opacity=.8}},{key:"unhighlight",value:function(e){e.target.style.opacity=1}},{key:"render",value:function(){var e=this,t=Object.keys(this.MODES).map((function(t){return e.MODES[t]}));return Object(l.jsxs)("div",{style:Object(f.a)(Object(f.a)({},v.column),{},{width:this.props.width,height:this.props.height},Jt.frame),children:[this.props.width>300&&Object(l.jsxs)("div",{style:Jt.menuBar,children:[Object(l.jsx)("div",{style:Jt.cursorInfo,children:Object(l.jsx)("div",{children:"Ln "+this.state.line+", Col "+this.state.col})}),Object(l.jsx)("div",{style:Jt.title,children:this.props.title+(this.props.saved?" \u25cf":" \u25cb")}),Object(l.jsx)("div",{style:Jt.dropDown,children:Object(l.jsx)(Zt.a,{options:t,onChange:this.dropDownSelect,value:this.state.mode,placeholder:"Language"})})]}),Object(l.jsx)(qt.Controlled,{className:this.props.id+"_codebox",value:this.props.value,options:{mode:this.state.mode,theme:"material",lineNumbers:!0,autoRefresh:!0},editorDidMount:function(t){e.instance=t,setTimeout((function(){return e.instance.refresh()}),0)},onBeforeChange:this.props.onBeforeChange,onChange:this.props.onChange,onCursorActivity:this.onCursorActivity}),Object(l.jsxs)("div",{style:Jt.menuBar,children:[Object(l.jsx)("input",{style:Object(f.a)(Object(f.a)({},Jt.inputBox),{},{width:this.props.width-120}),value:this.state.cmd,onChange:this.changeCmd,onKeyDown:this.executeCmd,placeholder:"Enter Command"}),Object(l.jsx)("div",{style:Object(f.a)(Object(f.a)({},Jt.menuButton),{},{width:70}),onClick:function(){return e.props.changeDisplayMode(fn.PREVIEW)},onMouseOver:this.highlight,onMouseOut:this.unhighlight,children:"Preview"}),Object(l.jsx)("div",{style:Object(f.a)(Object(f.a)({},Jt.menuButton),{},{width:70}),onClick:function(){return e.props.changeDisplayMode(fn.CONSOLE)},onMouseOver:this.highlight,onMouseOut:this.unhighlight,children:"Console"})]})]})}}]),n}(d.a.Component),Qt={container:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"stretch",borderWidth:"2px",borderStyle:"solid",borderColor:"white"},menuBar:{display:"flex",height:30,flexDirection:"row",justifyContent:"flex-start",alignItems:"stretch",fontFamily:"roboto",fontSize:12},title:{flex:1,width:60,display:"flex",padding:5,justifyContent:"flex-start",alignItems:"center",borderWidth:"1px",borderStyle:"solid",overflow:"hidden",fontSize:14,borderColor:_.e.borderColor,backgroundColor:_.e.titleColor,color:_.e.titleTextColor},menuButton:{width:30,height:30,display:"flex",justifyContent:"center",alignItems:"center",borderWidth:"1px",borderStyle:"solid",borderColor:_.e.borderColor,backgroundColor:_.e.optionColor,color:_.e.optionTextColor},inputBox:{outline:"none",margin:"0",shadow:"none",overflowX:"hidden",paddingLeft:5,fontSize:12,fontFamily:"roboto",borderWidth:"1px",borderStyle:"solid",borderColor:_.e.borderColor,backgroundColor:_.e.optionColor,color:_.e.optionTextColor},entry:{padding:5,borderWidth:"1px",borderStyle:"solid",borderColor:_.e.borderColor,justifyContent:"flex-start",alignItems:"flex-start"},frame:{flex:1,backgroundColor:_.e.contentColor,color:_.e.contentTextColor,fontFamily:"roboto",fontSize:12}},en=n(152),tn=n(153),nn=n(154),rn=n(155),an=function(e){Object(O.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,e)).state={currentDirectory:null,currentContent:{},inputValue:"",popUpOn:!1,popUpPosition:{},popUpEntries:[]},r.changeInputValue=r.changeInputValue.bind(Object(g.a)(r)),r.createDirectory=r.createDirectory.bind(Object(g.a)(r)),r.createFile=r.createFile.bind(Object(g.a)(r)),r.highlight=r.highlight.bind(Object(g.a)(r)),r.unhighlight=r.unhighlight.bind(Object(g.a)(r)),r.changeCurrentDirectory=r.changeCurrentDirectory.bind(Object(g.a)(r)),r.setNameOnChange=r.setNameOnChange.bind(Object(g.a)(r)),r.saveName=r.saveName.bind(Object(g.a)(r)),r.setPopUp=r.setPopUp.bind(Object(g.a)(r)),r.closePopUp=r.closePopUp.bind(Object(g.a)(r)),r.deleteNode=r.deleteNode.bind(Object(g.a)(r)),r.reloadCurrentContent=r.reloadCurrentContent.bind(Object(g.a)(r)),r}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.fileSystem.addSaveCallBack(this.reloadCurrentContent),this.props.currentDirectoryHash&&this.changeCurrentDirectory(this.props.currentDirectoryHash),"bin"===this.props.currentDirectoryHash&&this.props.fileSystem.setOnRemove((function(){return e.changeCurrentDirectory(e.props.currentDirectoryHash)}))}},{key:"reloadCurrentContent",value:function(){var e=this.state.currentDirectory.getChildren();for(var t in e=Object(f.a)({},e))e[t]={metadata:e[t],nameOnChange:!1};this.setState((function(t){return Object(f.a)(Object(f.a)({},t),{},{popUpOn:!1,currentContent:e})}))}},{key:"changeCurrentDirectory",value:function(e){var t=this.props.fileSystem.getDirectory(e),n=t.getChildren();for(var r in n=Object(f.a)({},n))n[r]={metadata:n[r],nameOnChange:!1};this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{currentDirectory:t,currentContent:n})}))}},{key:"highlight",value:function(e){e.target.style.opacity=.8}},{key:"unhighlight",value:function(e){e.target.style.opacity=1}},{key:"changeInputValue",value:function(e){this.setState((function(t){return Object(f.a)(Object(f.a)({},t),{},{inputValue:e.target.value})}))}},{key:"createFile",value:function(){var e=this.props.fileSystem,t=this.state.currentDirectory.getHash();null!==(""!==this.state.inputValue?e.createNewFile(t,this.state.inputValue,""):e.createNewFile(t,"New File",""))?this.reloadCurrentContent():window.alert("File Name already in use")}},{key:"createDirectory",value:function(){var e=this.props.fileSystem,t=this.state.currentDirectory.getHash();null!==(""!==this.state.inputValue?e.createNewDirectory(t,this.state.inputValue):e.createNewDirectory(t,"New Folder"))?this.reloadCurrentContent():window.alert("File Name already in use")}},{key:"deleteNode",value:function(e){this.state.currentDirectory.isBin()?this.props.fileSystem.deepRemoveNode(e):this.props.fileSystem.removeNode(this.state.currentDirectory.getHash(),e),this.reloadCurrentContent()}},{key:"setNameOnChange",value:function(e,t){var n=this.state.currentContent;n[e].nameOnChange=t,this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{currentContent:n})}))}},{key:"saveName",value:function(e,t,n){if(""!==t)if(t.length>=25)alert("the file name exceeded the length limit!");else{n===ee.FILE?this.props.fileSystem.changeFileName(e,t):this.props.fileSystem.changeDirectoryName(e,t);var r=this.state.currentContent;r[e].metadata.name=t,r[e].nameOnChange=!1,this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{currentContent:r})}))}else alert("the file name cannot be empty!")}},{key:"closePopUp",value:function(e){e.preventDefault(),"click"===e.type?window.removeEventListener("click",this.closePopUp):window.removeEventListener("contextmenu",this.closePopUp),this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{popUpOn:!1})}))}},{key:"setPopUp",value:function(e,t,n){this.setState((function(r){return Object(f.a)(Object(f.a)({},r),{},{popUpOn:!0,popUpPosition:{x:e,y:t},popUpEntries:n})}))}},{key:"handleContextMenu",value:function(e,t){var n=this;window.addEventListener("click",this.closePopUp),e.preventDefault(),this.setPopUp(e.clientX,e.clientY,[{content:"Delete",func:function(){return n.deleteNode(t.hash)}},{content:"Rename",func:function(){n.setNameOnChange(t.hash,!0)}}])}},{key:"render",value:function(){var e=this,t=[],n=this.state.currentDirectory,r=this.state.currentContent;if(n&&r!=={}){var a=function(n){var a=r[n].metadata;a.type===ee.DIR?t.push({content:Object(l.jsxs)("div",{children:[Object(l.jsx)(en.a,{})," ",a.name]}),value:a.name,valueOnChange:r[n].nameOnChange,func:function(){e.changeCurrentDirectory(a.hash)},contextFunc:function(t){e.handleContextMenu(t,a)},enterFunc:function(t){e.saveName(a.hash,t,a.type)},cancelFunc:function(){e.setNameOnChange(n,!1)}}):t.push({content:Object(l.jsxs)("div",{children:[Object(l.jsx)(tn.a,{})," ",a.name]}),value:a.name,valueOnChange:r[n].nameOnChange,func:function(){e.props.openFile(e.props.fileSystem.getFile(a.hash))},contextFunc:function(t){e.handleContextMenu(t,a)},enterFunc:function(t){e.saveName(a.hash,t,a.type)},cancelFunc:function(){e.setNameOnChange(n,!1)}})};for(var o in r)a(o)}return Object(l.jsxs)("div",{style:Object(f.a)({height:this.props.height,width:this.props.width},Qt.container),children:[this.state.popUpOn&&Object(l.jsx)(Ce,{top:this.state.popUpPosition.y,left:this.state.popUpPosition.x,entries:this.state.popUpEntries}),Object(l.jsxs)("div",{style:Qt.menuBar,children:[Object(l.jsx)("div",{style:Qt.title,children:n?n.getName():""}),Object(l.jsx)("div",{style:Qt.menuButton,onClick:function(){n.getParent()&&e.changeCurrentDirectory(n.getParent())},onMouseOver:this.highlight,onMouseOut:this.unhighlight,children:Object(l.jsx)(ot.a,{})})]}),Object(l.jsx)(ye,{entries:t,rowHeight:this.props.rowHeight,containerStyle:Qt.frame,entryStyle:Qt.entry}),Object(l.jsxs)("div",{style:Qt.menuBar,children:[Object(l.jsx)("input",{style:Object(f.a)(Object(f.a)({},Qt.inputBox),{},{width:this.props.width-60}),value:this.state.inputValue,onChange:this.changeInputValue,placeholder:"Enter Name"}),Object(l.jsx)("div",{style:Qt.menuButton,onClick:this.createFile,onMouseOver:this.highlight,onMouseOut:this.unhighlight,children:Object(l.jsx)(nn.a,{})}),Object(l.jsx)("div",{style:Qt.menuButton,onClick:this.createDirectory,onMouseOver:this.highlight,onMouseOut:this.unhighlight,children:Object(l.jsx)(rn.a,{})})]})]})}}]),n}(d.a.Component),on={frame:{backgroundColor:_.e.transparentWhite,border:"2px solid white"}},sn=function(e){var t=e.id,n=e.width,r=e.height,a=e.data;return e.blur?Object(l.jsx)("div",{id:t,style:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:_.e.transparentBlack,width:n,height:r,border:"2px dotted white"},children:Object(l.jsx)("div",{style:{fontSize:25,fontFamily:"roboto",color:_.e.transparentWhite},children:"Resizing..."})}):function(e){var t;try{t=new URL(e)}catch(n){return!1}return"http:"===t.protocol||"https:"===t.protocol||"file:"===t.protocol||"data:"===t.protocol}(a)||function(e){if(""===e||""===e.trim())return!1;try{return btoa(atob(e))===e}catch(t){return!1}}(a)?Object(l.jsx)("iframe",{id:t,title:"webview",style:on.frame,width:n,height:r,src:a,"data-cookieconsent":"marketing"}):/<\/?[a-z][\s\S]*>/i.test(a)?Object(l.jsx)("iframe",{id:t,title:"webview",style:on.frame,width:n,height:r,srcDoc:a}):Object(l.jsx)("div",{style:Object(f.a)(Object(f.a)({},on.frame),{},{width:n,height:r}),children:a})},cn=function(e){var t=e.leftWidth,n=e.resizeable,r=e.onResize,a=e.onFinishResize,o=void 0===a?function(){}:a,i=Object(u.useRef)(0),s=Object(u.useRef)(t),c=Object(u.useRef)();Object(u.useEffect)((function(){n?(c.current.addEventListener("mousedown",b),c.current.addEventListener("touchstart",j)):(c.current.removeEventListener("mousedown",b),c.current.removeEventListener("touchstart",j),window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",p),window.removeEventListener("touchmove",h),window.removeEventListener("touchend",f))}),[n]);var d=Object(u.useCallback)((function(e){(e=e||window.event).preventDefault();var t=e.clientX-i.current;r(s.current+t)}),[]),h=Object(u.useCallback)((function(e){var t=(e=e||window.event).touches[0].clientX-i.current;r(s.current+t)}),[]),p=Object(u.useCallback)((function(e){e=e||window.event,s.current=s.current+e.clientX-i.current,window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",p);var t,n=document.getElementsByTagName("iframe"),r=Object(B.a)(n);try{for(r.s();!(t=r.n()).done;){t.value.style.pointerEvents="auto"}}catch(a){r.e(a)}finally{r.f()}o()}),[]),f=Object(u.useCallback)((function(e){e=e||window.event,s.current=s.current+e.changedTouches[0].clientX-i.current,window.removeEventListener("touchmove",h),window.removeEventListener("touchend",f);var t,n=document.getElementsByTagName("iframe"),r=Object(B.a)(n);try{for(r.s();!(t=r.n()).done;){t.value.style.pointerEvents="auto"}}catch(a){r.e(a)}finally{r.f()}o()}),[]),b=Object(u.useCallback)((function(e){e=e||window.event,i.current=e.clientX,window.addEventListener("mousemove",d),window.addEventListener("mouseup",p);var t,n=document.getElementsByTagName("iframe"),r=Object(B.a)(n);try{for(r.s();!(t=r.n()).done;){t.value.style.pointerEvents="none"}}catch(a){r.e(a)}finally{r.f()}}),[]),j=Object(u.useCallback)((function(e){e=e||window.event,i.current=e.touches[0].clientX,window.addEventListener("touchmove",h),window.addEventListener("touchend",f);var t,n=document.getElementsByTagName("iframe"),r=Object(B.a)(n);try{for(r.s();!(t=r.n()).done;){t.value.style.pointerEvents="none"}}catch(a){r.e(a)}finally{r.f()}}),[]);return Object(l.jsx)("div",{ref:c,style:{width:3,height:"100%",cursor:"col-resize",backgroundColor:_.e.transparentWhite}})},ln={overflowY:"auto",justifyContent:"stretch",alignItems:"flex-start"},un={display:"flex",flex:1,flexDirection:"column",justifyContent:"flex-start",alignItems:"stretch",padding:"0px",border:"2px solid white"},dn={outline:"none",border:"none",width:"100%",margin:"0",shadow:"none"},hn=function(e){var t=e.index,n=e.id,r=e.value,a=e.style,o=e.onKeyDown,i=e.onChange,s=e.modifiable,c=Object(u.useRef)();return Object(u.useEffect)((function(){c.current.textContent=r}),[]),s?Object(l.jsx)("div",{ref:function(e){return c.current=e},contentEditable:!0,className:n+"_line","data-index":t,type:"text",spellCheck:!1,style:Object(f.a)(Object(f.a)({},dn),a),onKeyDown:o,onInput:i}):Object(l.jsx)("div",{ref:function(e){return c.current=e},className:n+"_line","data-index":t,type:"text",spellCheck:!1,style:Object(f.a)(Object(f.a)({},dn),a),children:r})},pn=function(e){Object(O.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,e)).state={lineNumber:0,lines:[{value:""}]},r.id=Object(w.a)(),r.lineOnChange=r.lineOnChange.bind(Object(g.a)(r)),r.lineOnKeyDown=r.lineOnKeyDown.bind(Object(g.a)(r)),r.setFocus=r.setFocus.bind(Object(g.a)(r)),r.consoleOptions={cls:function(){r.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{lineNumber:0,lines:[{value:""}]})}))}},r}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;Array.isArray(this.props.lines)&&this.props.lines.length>0&&this.setState((function(t){return Object(f.a)(Object(f.a)({},t),{},{lines:e.props.lines})}))}},{key:"lineOnChange",value:function(e){var t=e.target.innerText,n=this.state.lines,r=Number(e.target.dataset.index);n[r].value=t,this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{lines:n,lineNumber:n.length-1})}))}},{key:"setFocus",value:function(e){var t=document.getElementsByClassName(this.id+"_line");setTimeout((function(){return t[e].focus()}),0)}},{key:"lineOnKeyDown",value:function(e){var t=this,n=e.key,r=e.target,a=this.state.lines,o=r.innerText;if("Enter"===n){if(e.preventDefault(),o in this.consoleOptions)return void this.consoleOptions[o]();var i=this.props.evalFunc(o);if(0!==i.length){var s,c=Object(B.a)(i);try{for(c.s();!(s=c.n()).done;){var l=s.value;a.push({value:"<<< "+l})}}catch(u){c.e(u)}finally{c.f()}a.push({value:""})}else a.push({value:""});this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{lines:a,lineNumber:a.length-1})}),(function(){t.setFocus(a.length-1)}))}else"ArrowUp"===n&&e.preventDefault()}},{key:"render",value:function(){var e=this,t=this.state.lines.map((function(t,n){return n===e.state.lineNumber?Object(l.jsx)(hn,{index:n,id:e.id,value:t.value,modifiable:!0,style:{background:"black",minHeight:20,fontSize:15,fontFamily:"roboto",color:"lightgreen",paddingLeft:5},onKeyDown:e.lineOnKeyDown,onChange:e.lineOnChange},n):Object(l.jsx)(hn,{index:n,id:e.id,value:t.value,modifiable:!1,style:{background:"black",minHeight:20,fontSize:15,fontFamily:"roboto",color:"green",paddingLeft:5},onKeyDown:e.lineOnKeyDown,onChange:e.lineOnChange},n)}));return Object(l.jsx)("div",{style:Object(f.a)(Object(f.a)(Object(f.a)({},v.row),ln),{},{height:this.props.height,width:this.props.width,background:"grey",overflowY:"auto"}),children:Object(l.jsx)("div",{style:Object(f.a)(Object(f.a)({},un),{},{background:"grey"}),children:t})})}}]),n}(d.a.Component),fn={NONE:0,PREVIEW:1,CONSOLE:2},bn=function(e){Object(O.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,e)).onBeforeChange=function(e,t,n,a){r.setState((function(e){var t=r.state.currentFiles;return t[a].value=n,t[a].saved=!1,Object(f.a)(Object(f.a)({},e),{},{currentFiles:t})}))},r.onChange=function(){},r.setFileIndex=function(e){r.setState((function(t){return Object(f.a)(Object(f.a)({},t),{},{currentIndex:e})}))},r.changeDisplayMode=function(e){r.setState((function(t){return Object(f.a)(Object(f.a)({},t),{},{displayMode:e})}))},r.setDimensions=function(e,t){r.setState((function(n){return Object(f.a)(Object(f.a)({},n),{},{dimensions:Object(f.a)(Object(f.a)({},n.dimensions),{},{width:e,height:t})})}))},r.resizeCodeEditor=function(e){r.setState((function(t){return Object(f.a)(Object(f.a)({},t),{},{dimensions:Object(f.a)(Object(f.a)({},t.dimensions),{},{codeEditorWidth:e}),resizing:!0})}))},r.state={currentFiles:[],currentIndex:0,displayMode:fn.NONE,dimensions:{width:650,height:430,minWidth:650,minHeight:430,codeEditorWidth:400},resizing:!1,tempAppData:{}},r.openFile=r.openFile.bind(Object(g.a)(r)),r.saveFile=r.saveFile.bind(Object(g.a)(r)),r.onBeforeChange=r.onBeforeChange.bind(Object(g.a)(r)),r.onChange=r.onChange.bind(Object(g.a)(r)),r.setFileIndex=r.setFileIndex.bind(Object(g.a)(r)),r.changeDisplayMode=r.changeDisplayMode.bind(Object(g.a)(r)),r.setDimensions=r.setDimensions.bind(Object(g.a)(r)),r.highlight=r.highlight.bind(Object(g.a)(r)),r.unhighlight=r.unhighlight.bind(Object(g.a)(r)),r.logMessage=r.logMessage.bind(Object(g.a)(r)),r}return Object(j.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("message",this.logMessage)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.logMessage)}},{key:"logMessage",value:function(e){var t=e.data,n="ide",r=document.getElementById("ide_appView");if("exec"===t.type)console.log("EXEC",n,t.command);else if("post"===t.type)console.log("POST",n,t.key,t.value),this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{appData:Object(f.a)(Object(f.a)({},e.appData),{},Object(Vt.a)({},t.key,t.value))})}));else if("get"===t.type){var a=this.state.appData[t.key];r.contentWindow.postMessage(Object(f.a)(Object(f.a)({},t),{},{response:a})),console.log(a)}}},{key:"openFile",value:function(e){var t,n=Object(B.a)(this.state.currentFiles);try{for(n.s();!(t=n.n()).done;){if(t.value.file.getHash()===e.getHash())return}}catch(r){n.e(r)}finally{n.f()}this.setState((function(t){return Object(f.a)(Object(f.a)({},t),{},{currentFiles:[].concat(Object(be.a)(t.currentFiles),[{file:e,value:e.getData(),saved:!0}])})}))}},{key:"saveFile",value:function(e){var t=this;this.props.fileSystem.saveFile(this.state.currentFiles[e].file.getHash(),this.state.currentFiles[e].value),this.setState((function(n){var r=t.state.currentFiles;return r[e].saved=!0,Object(f.a)(Object(f.a)({},n),{},{currentFiles:r})}))}},{key:"closeFile",value:function(e){var t=this.state.currentFiles;t[e].saved?(t.splice(e,1),this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{currentFiles:t})}))):(window.confirm("Do you want to save your changes?")&&this.props.fileSystem.saveFile(this.state.currentFiles[e].file.getHash(),this.state.currentFiles[e].value),this.setState((function(n){return t.splice(e,1),Object(f.a)(Object(f.a)({},n),{},{currentFiles:t})})))}},{key:"highlight",value:function(e){e.target.style.opacity=.8}},{key:"unhighlight",value:function(e){e.target.style.opacity=1}},{key:"render",value:function(){var e=this,t=this.state.currentIndex,n=this.state.currentFiles,r=this.state.displayMode,a=Object(l.jsx)("div",{style:Yt.tabRow,children:n.map((function(t,n){return Object(l.jsxs)("div",{style:Yt.tabCell,onClick:function(){return e.setFileIndex(n)},onMouseOver:e.highlight,onMouseOut:e.unhighlight,children:[Object(w.i)(t.file.getName(),10,"...")+(t.saved?" \u25cf":" \u25cb"),Object(l.jsx)("div",{onClick:function(){return e.closeFile(n)},children:Object(l.jsx)(Xe.a,{})})]},n)}))});return Object(l.jsxs)(qe,{id:"code_editor_window",name:"JS Code",top:0,left:0,onCancel:this.props.closeWindow,onResize:this.setDimensions,children:[a,Object(l.jsxs)("div",{style:Object(f.a)(Object(f.a)({},v.row),{},{flex:1,minHeight:0}),children:[Object(l.jsx)(an,{fileSystem:this.props.fileSystem,currentDirectoryHash:this.props.currentHash,width:250,height:"100%",openFile:this.openFile}),n[t]&&Object(l.jsx)($t,{value:n[t].value,width:this.state.dimensions.codeEditorWidth,height:"100%",title:n[t].file.getName(),id:n[t].file.getHash(),saved:n[t].saved,onBeforeChange:function(n,r,a){return e.onBeforeChange(n,r,a,t)},onChange:function(n,r,a){return e.onChange(n,r,a,t)},saveFile:function(){return e.saveFile(t)},changeDisplayMode:this.changeDisplayMode}),n[t]&&Object(l.jsx)(cn,{resizeable:!0,leftWidth:this.state.dimensions.codeEditorWidth,onResize:this.resizeCodeEditor,onFinishResize:this.finishResize}),r===fn.PREVIEW?n[t]&&Object(l.jsx)(sn,{id:"ide_appView",width:Math.max(this.state.dimensions.width-250-3-this.state.dimensions.codeEditorWidth,300),height:"100%",data:n[t].value}):r===fn.CONSOLE?n[t]&&Object(l.jsx)(pn,{width:Math.max(this.state.dimensions.width-250-5-this.state.dimensions.codeEditorWidth,300),height:"100%",fileSystem:this.props.fileSystem,lines:[{value:""}],evalFunc:this.props.systemAPI.executeCommand}):Object(l.jsx)(l.Fragment,{})]})]})}}]),n}(d.a.Component),jn={frame:{display:"flex",justifyContent:"center",alignItems:"center",alignSelf:"stretch",padding:10},fileSelector:{position:"relative",borderRadius:"50%",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center"},previewImage:{position:"absolute",width:"100%",height:"100%",borderRadius:"50%",zIndex:5,backgroundColor:_.e.optionColor,pointerEvents:"none",border:"1px solid gray"}},gn=function(e){var t=new FileReader;return t.readAsDataURL(e),new Promise((function(e){t.onloadend=function(){e(t.result)}}))},On=function(e){var t=e.frameStyle,n=e.imageUrl,r=e.setImageUrl,a=e.previewWidth,o=void 0===a?50:a,i=e.previewHeight,s=void 0===i?50:i,c=e.editable,u=void 0===c||c;return Object(l.jsx)("div",{style:Object(f.a)(Object(f.a)({},jn.frame),t),children:Object(l.jsxs)("div",{style:Object(f.a)(Object(f.a)({},jn.fileSelector),{},{width:o,height:s}),children:[n?Object(l.jsx)("img",{alt:"no preview",src:n,style:jn.previewImage}):Object(l.jsx)("div",{style:jn.previewImage}),u&&Object(l.jsx)("input",{style:{width:"100%",height:"100%",position:"absolute"},onChange:function(){var e=Object(C.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.target.files.length>0)){e.next=6;break}return e.t0=r,e.next=4,gn(t.target.files[0]);case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),type:"file",id:"img",name:"img",accept:".jpg, .png, .svg"})]})})},mn={frame:{flex:1,display:"flex",alignSelf:"stretch",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start",fontFamily:"roboto",fontSize:15,color:_.e.transparentWhite,backgroundColor:_.e.transparentBlack},fileSelector:{display:"hidden"},info:{display:"flex",alignSelf:"stretch",alignItems:"center",justifyContent:"center",fontSize:12,padding:3},label:{display:"flex",alignSelf:"stretch",justifyContent:"center",fontSize:16,fontWeight:"bold",padding:20},input:{fontSize:12,width:80,height:16,borderRadius:5,fontFamily:"roboto",textShadow:"0 0 5px white",padding:2,outline:"none",border:"none",backgroundColor:_.e.optionColor,color:_.e.transparentWhite,marginLeft:5},button:{margin:10,padding:10,borderRadius:10,justifyContent:"center",alignItems:"center",backgroundColor:_.e.transparentBlack,alignSelf:"center"}},vn=function(e){var t=e.userId,n=e.name,r=e.fileSystem,a=e.hash,o=e.handleInstallApp,i=e.closeInstaller,s=e.localMode,c=r.getFile(a),d=c.getSize(),h=c.getName(),p=Object(u.useState)(),f=Object(je.a)(p,2),b=f[0],j=f[1],g=Object(u.useState)(""),O=Object(je.a)(g,2),m=O[0],v=O[1],y=Object(u.useState)(""),_=Object(je.a)(y,2),k=_[0],D=_[1],S=Object(u.useState)(!1),E=Object(je.a)(S,2),I=E[0],M=E[1];return Object(l.jsx)(qe,{id:a,name:n,top:0,left:0,onCancel:i,children:Object(l.jsxs)("div",{style:mn.frame,children:[Object(l.jsx)("div",{style:mn.label,children:"Source File Information"}),Object(l.jsxs)("div",{style:mn.info,children:["File Name: ",h]}),Object(l.jsxs)("div",{style:mn.info,children:["File Size: ",Object(w.h)(d)]}),Object(l.jsx)("div",{style:mn.label,children:"App Information"}),Object(l.jsxs)("div",{style:mn.info,children:["App Name:"," ",Object(l.jsx)("input",{type:"text",value:m,onChange:function(e){return v(e.target.value)},style:mn.input})]}),I&&Object(l.jsxs)("div",{style:mn.info,children:["Author Nickname:"," ",Object(l.jsx)("input",{type:"text",value:k,onChange:function(e){return D(e.target.value)},style:mn.input})]}),Object(l.jsxs)("div",{style:mn.info,children:["App Icon:",Object(l.jsx)(On,{imageUrl:b,setImageUrl:j})]}),!s&&Object(l.jsxs)("div",{style:mn.info,children:[Object(l.jsx)("input",{type:"checkbox",id:"share",name:"share",onChange:function(e){M(e.target.checked)}}),Object(l.jsx)("label",{htmlFor:"share",children:"Share to App Store"})]}),Object(l.jsx)("div",{style:mn.button,onMouseOver:function(e){e.target.style.opacity=.5},onMouseOut:function(e){e.target.style.opacity=1},onClick:Object(C.a)(x.a.mark((function e(){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o({userId:t,hash:a,shareApp:I,appName:m,authorName:k,fileSize:d,iconUrl:b});case 2:(n=e.sent).error?alert(n.errMsg):i();case 4:case"end":return e.stop()}}),e)}))),children:"Submit Application"})]})})},yn={bar:{position:"absolute",top:0,left:0,right:0,height:50,display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",backgroundColor:_.e.transparentBlack,fontFamily:"roboto"},logOutBtn:{padding:5,borderRadius:5,margin:10,display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:_.e.transparentWhite}},xn={frame:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},input:{fontSize:15,borderRadius:5,fontFamily:"roboto",textShadow:"0 0 5px white",padding:2,outline:"none",border:"none",backgroundColor:_.e.transparentWhite},searchIcon:{color:_.e.transparentWhite},searchBtn:{padding:5,display:"flex",justifyContent:"center",alignItems:"center"}},Cn=n(126),wn=function(e){var t=e.height,n=e.width,r=e.fontSize,a=Object(u.useState)(""),o=Object(je.a)(a,2),i=o[0],s=o[1];return Object(l.jsxs)("div",{style:xn.frame,children:[Object(l.jsx)("input",{type:"text",value:i,onInput:function(e){return s(e.target.value)},style:Object(f.a)(Object(f.a)({},xn.input),{},{height:t,width:n,fontSize:r})}),Object(l.jsx)("div",{style:xn.searchBtn,onMouseOver:function(e){e.target.style.opacity=.5},onMouseOut:function(e){e.target.style.opacity=1},children:Object(l.jsx)(Cn.a,{style:Object(f.a)(Object(f.a)({},xn.searchIcon),{},{fontSize:r})})})]})},_n=function(e){var t=e.disconnect,n=e.userInfo,r=e.updateUserInfo;return Object(l.jsxs)("div",{style:yn.bar,children:[Object(l.jsx)(On,{previewWidth:40,previewHeight:40,imageUrl:n.profileUrl,setImageUrl:function(){var e=Object(C.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({profileUrl:t});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(l.jsx)(wn,{width:200}),Object(l.jsx)("div",{style:yn.logOutBtn,onClick:Object(C.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),onMouseOver:function(e){e.target.style.opacity=.5},onMouseOut:function(e){e.target.style.opacity=1},children:"Disconnect"})]})},kn={frame:{backgroundColor:_.e.transparentWhite,position:"absolute",bottom:0,justifyContent:"center",display:"flex",alignItems:"center",overflow:"hidden",transition:"width 0.2s, height 0.2s, opacity 0.1s",zIndex:9},container:{width:"80%",height:"80%",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",backgroundColor:_.e.transparentBlack,borderRadius:20,margin:50},appContainer:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-start",alignItems:"flex-start",maxWidth:800,transition:"width 0.2s"},icon:{height:"100%",width:"100%",borderRadius:"50%"},title:{fontSize:24,color:_.e.optionTextColor,fontFamily:"roboto",margin:10,textShadow:"0 0 5px white"},exitBtn:{position:"absolute",bottom:10,width:50,height:50,borderRadius:25,display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:_.e.transparentBlack}},Dn=function(e){Object(O.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,e)).state={applications:{},popUpOn:!1,popUpPosition:{},popUpEntries:[]},r.closePopUp=r.closePopUp.bind(Object(g.a)(r)),r.setPopUp=r.setPopUp.bind(Object(g.a)(r)),r.handleUninstallApp=r.handleUninstallApp.bind(Object(g.a)(r)),r}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.setState((function(t){return Object(f.a)(Object(f.a)({},t),{},{applications:e.props.fileSystem.retrieveApps()})}))}},{key:"handleUninstallApp",value:function(e){var t=this.state.applications;delete t[e],this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{applications:t})})),this.props.fileSystem.uninstallApp(e)}},{key:"closePopUp",value:function(e){e.preventDefault(),"click"===e.type?window.removeEventListener("click",this.closePopUp):window.removeEventListener("contextmenu",this.closePopUp),this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{popUpOn:!1})}))}},{key:"setPopUp",value:function(e,t,n){this.setState((function(r){return Object(f.a)(Object(f.a)({},r),{},{popUpOn:!0,popUpPosition:{x:e,y:t},popUpEntries:n})}))}},{key:"render",value:function(){var e=this,t=this.state.applications,n=[],r=this.props.systemData.iconSize,a=function(a){var o=t[a],i=o.getMetaData();n.push(Object(l.jsx)(Oe,{icon:i.icon?Object(l.jsx)("img",{alt:"",style:kn.icon,src:i.icon}):Object(l.jsx)("div",{style:kn.icon}),name:i.name,nameChangable:!1,width:100,height:110,onClick:function(t){e.props.addCurrentApp(o)},onRightClick:function(t){t.preventDefault(),t.stopPropagation(),window.addEventListener("click",e.closePopUp),e.setPopUp(t.clientX,t.clientY,[{content:"Inspect Raw",func:function(){return e.props.addCurrentRaw(i.hash)}},{content:"Uninstall",func:function(){return e.handleUninstallApp(i.hash)}}])},nameOnChange:!1,scale:r},i.hash))};for(var o in t)a(o);return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{style:Object(f.a)({width:"100%",height:this.props.explorerOn?"100%":"0%",opacity:this.props.explorerOn?1:0},kn.frame),children:[Object(l.jsxs)("div",{style:kn.container,children:[Object(l.jsx)("div",{style:kn.title,children:"Applications"}),Object(l.jsx)("div",{style:Object(f.a)(Object(f.a)({},kn.appContainer),{},{width:Math.floor(.8*this.props.dims.width/(100*r))*(100*r)+"px"}),children:n})]}),Object(l.jsx)("div",{style:kn.exitBtn,onClick:this.props.toggleAppExplorer,children:Object(l.jsx)(Xe.a,{style:{color:"white",fontSize:24}})}),this.state.popUpOn&&Object(l.jsx)(Ce,{top:this.state.popUpPosition.y,left:this.state.popUpPosition.x,entries:this.state.popUpEntries})]})})}}]),n}(d.a.Component),Sn={window:{overflowY:"auto",justifyContent:"stretch",alignItems:"flex-start"},frame:{display:"flex",flex:1,flexDirection:"column",justifyContent:"flex-start",alignItems:"stretch",padding:"0px",outline:"none"},lineInput:{outline:"none",border:"none",width:"100%",margin:"0",shadow:"none"},lineBar:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"stretch",borderWidth:"0px",paddingRight:5,width:50,borderStyle:"solid",borderColor:"white"},lineNumber:{display:"flex",justifyContent:"flex-end",alignItems:"center",paddingRight:5,background:"black",color:"white"},bottomBar:{height:30,display:"flex",justifyContent:"flex-start",alignItems:"center"}},En=function(e){Object(O.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,e)).state={config:e.config,width:e.height,height:e.width,lineNumber:1},r.restoreValue=r.restoreValue.bind(Object(g.a)(r)),r.calculateLines=r.calculateLines.bind(Object(g.a)(r)),r.frame=d.a.createRef(),r}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.frame.current;if(t){var n=t.offsetHeight,r=parseInt(t.style.lineHeight);t.innerText=this.props.value,t.addEventListener("keydown",(function(t){if(t.ctrlKey)return 83===t.which&&(t.preventDefault(),e.props.saveFile()),!1})),this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{lineNumber:n/r})}))}else this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{lineNumber:1})}))}},{key:"restoreValue",value:function(e,t){var n=this,r=this.frame.current;r&&(r.innerText=this.props.value,r.addEventListener("keydown",(function(e){if(e.ctrlKey)return 83===e.which&&(e.preventDefault(),n.props.saveFile()),!1}))),this.calculateLines()}},{key:"calculateLines",value:function(){var e=this.frame.current;if(e){var t=e.offsetHeight/(parseInt(e.style.lineHeight)-.16);this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{lineNumber:t})}))}else this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{lineNumber:1})}))}},{key:"render",value:function(){for(var e=this,t=this.props.config,n=[],r=0;r<this.state.lineNumber;r++)n.push(Object(l.jsx)("div",{style:Object(f.a)(Object(f.a)({},Sn.lineNumber),{},{height:parseInt(t.lineHeight)-.16}),children:String(r+1)},String(r)));return Object(l.jsx)(qe,{id:this.props.id+"_window",top:0,left:0,name:this.props.name+(this.props.editable?this.props.saved?" \u25cf":" \u25cb":" - [readonly]"),onClick:this.props.onFocus,onCancel:this.props.closeWindow,onResize:this.restoreValue,children:Object(l.jsxs)("div",{style:Object(f.a)(Object(f.a)(Object(f.a)({},v.row),Sn.window),{},{height:this.state.height,width:this.state.width,background:t.frameColor,color:t.textColor}),children:[Object(l.jsx)("div",{style:Object(f.a)(Object(f.a)({},Sn.lineBar),{},{background:t.frameColor,fontFamily:t.fontFamily,fontSize:t.fontSize}),children:n}),Object(l.jsx)("div",{ref:function(t){e.frame.current=t},id:this.props.id+"_editorframe",style:Object(f.a)(Object(f.a)({},Sn.frame),{},{background:t.frameColor,color:t.textColor,lineHeight:t.lineHeight,fontFamily:t.fontFamily,fontSize:t.fontSize}),spellCheck:!1,onInput:function(t){e.calculateLines(),e.props.onChangeText(t)},contentEditable:this.props.editable}),Object(l.jsx)("div",{style:Sn.bottomBar})]})})}}]),n}(d.a.Component),In=function(e){var t=e.hash,n=e.name,r=e.data,a=e.closeWindow,o=e.onFocus;return Object(l.jsx)(qe,{id:t,top:0,left:0,name:n,onCancel:a,onClick:o,children:Object(l.jsx)(sn,{id:t,width:"100%",height:"100%",data:r})})},Mn=function(e){var t=e.id,n=e.app,r=e.closeWindow,a=e.handleAppMessage,o=e.onFocus;return Object(u.useEffect)((function(){return window.addEventListener("message",a),function(){return window.removeEventListener("message",a)}}),[n]),Object(l.jsx)(qe,{id:n.getHash(),top:0,left:0,name:n.getName(),onClick:o,onCancel:r,children:Object(l.jsx)(sn,{id:t,width:"100%",height:"100%",data:n.getData()})})},Fn=n.p+"static/media/Night.35c6495d.jpg",Nn=n.p+"static/media/Lake.a961b170.jpg",Ln=n.p+"static/media/Town.41cb53df.jpg",Pn=n.p+"static/media/Boat.31e53002.jpg",Rn=function(e){Object(O.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,e)).state={codeEditorRoot:null,width:window.innerWidth,height:window.innerHeight,fileExplorers:[],currentWindows:[],currentFiles:[],currentRaw:[],currentApps:[],currentConsoles:[],installHash:"",appExplorerOn:!1,backgroundIndex:0},r.backgrounds=[Fn,Nn,Ln,Pn],r.setCodeEditorRoot=r.setCodeEditorRoot.bind(Object(g.a)(r)),r.updateDimensions=r.updateDimensions.bind(Object(g.a)(r)),r.openWindow=r.openWindow.bind(Object(g.a)(r)),r.closeWindow=r.closeWindow.bind(Object(g.a)(r)),r.setInstallHash=r.setInstallHash.bind(Object(g.a)(r)),r.toggleAppExplorer=r.toggleAppExplorer.bind(Object(g.a)(r)),r.executeAppMessage=r.executeAppMessage.bind(Object(g.a)(r)),r.focusCurrentFile=r.focusCurrentFile.bind(Object(g.a)(r)),r.focusCurrentWindow=r.focusCurrentWindow.bind(Object(g.a)(r)),r.focusCurrentExplorer=r.focusCurrentExplorer.bind(Object(g.a)(r)),r.focusCurrentRaw=r.focusCurrentRaw.bind(Object(g.a)(r)),r.focusCurrentApp=r.focusCurrentApp.bind(Object(g.a)(r)),r.focusCurrentConsole=r.focusCurrentConsole.bind(Object(g.a)(r)),r.addCurrentFile=r.addCurrentFile.bind(Object(g.a)(r)),r.addCurrentWindow=r.addCurrentWindow.bind(Object(g.a)(r)),r.addCurrentApp=r.addCurrentApp.bind(Object(g.a)(r)),r.addCurrentRaw=r.addCurrentRaw.bind(Object(g.a)(r)),r.addCurrentConsole=r.addCurrentConsole.bind(Object(g.a)(r)),r.closeCurrentRaw=r.closeCurrentRaw.bind(Object(g.a)(r)),r.closeCurrentApp=r.closeCurrentApp.bind(Object(g.a)(r)),r.closeCurrentFile=r.closeCurrentFile.bind(Object(g.a)(r)),r.closeCurrentWindow=r.closeCurrentWindow.bind(Object(g.a)(r)),r.closeCurrentConsole=r.closeCurrentConsole.bind(Object(g.a)(r)),r.saveCurrentFile=r.saveCurrentFile.bind(Object(g.a)(r)),r.onChangeText=r.onChangeText.bind(Object(g.a)(r)),r}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.systemData;window.addEventListener("resize",this.updateDimensions),t.rollingBackground?this.timer=setInterval((function(){return e.props.updateSystemData({backgroundIndex:t.backgroundIndex===e.backgrounds.length-1?0:t.backgroundIndex+1})}),t.rollingInterval?1e3*t.rollingInterval:3e4):this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{backgroundIndex:t.backgroundIndex?t.backgroundIndex:0})}))}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer),window.removeEventListener("resize",this.updateDimensions)}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props.systemData;n.backgroundIndex!==e.systemData.backgroundIndex&&(this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{backgroundIndex:n.backgroundIndex?n.backgroundIndex:0})})),clearInterval(this.timer),n.rollingBackground&&(this.timer=setInterval((function(){return t.props.updateSystemData({backgroundIndex:n.backgroundIndex===t.backgrounds.length-1?0:n.backgroundIndex+1})}),n.rollingInterval?1e3*n.rollingInterval:3e4))),n.rollingBackground===e.systemData.rollingBackground&&n.rollingInterval===e.systemData.rollingInterval||(clearInterval(this.timer),n.rollingBackground&&(this.timer=setInterval((function(){return t.props.updateSystemData({backgroundIndex:n.backgroundIndex===t.backgrounds.length-1?0:n.backgroundIndex+1})}),n.rollingInterval?1e3*n.rollingInterval:3e4)))}},{key:"updateDimensions",value:function(){this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{width:window.innerWidth,height:window.innerHeight})}))}},{key:"setInstallHash",value:function(e){this.setState((function(t){return Object(f.a)(Object(f.a)({},t),{},{installHash:e})}))}},{key:"setCodeEditorRoot",value:function(e){this.setState((function(t){return Object(f.a)(Object(f.a)({},t),{},{codeEditorRoot:e})}))}},{key:"closeWindow",value:function(e){var t=this.state.fileExplorers;t.splice(e,1),this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{fileExplorers:t})}))}},{key:"openWindow",value:function(e){var t=this.state.fileExplorers;t.push(e),this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{fileExplorers:t})}))}},{key:"toggleAppExplorer",value:function(){this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{appExplorerOn:!e.appExplorerOn})}))}},{key:"executeAppMessage",value:function(e,t){var n=this.props.fileSystem,r=document.getElementById(e+"_appView");if("exec"===t.type)console.log("EXEC",e,t.command);else if("post"===t.type)console.log("POST",e,t.key,t.value),n.setAppStorage(e,t.key,t.value);else if("get"===t.type){console.log("GET",e,t.key);var a=n.getAppStorage(e,t.key);r.contentWindow.postMessage(Object(f.a)(Object(f.a)({},t),{},{response:a})),console.log(a)}}},{key:"addCurrentFile",value:function(e){var t,n=Object(B.a)(this.state.currentFiles);try{for(n.s();!(t=n.n()).done;){if(t.value.metadata.hash===e)return}}catch(a){n.e(a)}finally{n.f()}var r=this.props.fileSystem.getFile(e);this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{currentFiles:[].concat(Object(be.a)(e.currentFiles),[{metadata:r.getMetaData(),value:r.getData(),saved:!0}])})}))}},{key:"addCurrentWindow",value:function(e){var t,n=Object(B.a)(this.state.currentWindows);try{for(n.s();!(t=n.n()).done;){if(t.value.metadata.hash===e)return}}catch(a){n.e(a)}finally{n.f()}var r=this.props.fileSystem.getFile(e);this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{currentWindows:[].concat(Object(be.a)(e.currentWindows),[{metadata:r.getMetaData(),value:r.getData(),saved:!0}])})}))}},{key:"addCurrentConsole",value:function(e){var t=Object(w.a)();this.setState((function(n){return Object(f.a)(Object(f.a)({},n),{},{currentConsoles:[].concat(Object(be.a)(n.currentConsoles),[{hash:e,uid:t}])})}))}},{key:"onChangeText",value:function(e,t){var n=e.target.innerText,r=this.state.currentFiles;r[t].value=n,r[t].saved=!1,this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{currentFiles:r,popUpOn:!1})}))}},{key:"saveCurrentFile",value:function(e){var t=this.state.currentFiles;t[e].saved=!0,this.props.fileSystem.saveFile(t[e].metadata.hash,t[e].value),this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{currentFiles:t})}))}},{key:"closeCurrentFile",value:function(e){var t=this.state.currentFiles;t[e].saved?(t.splice(e,1),this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{currentFiles:t})}))):window.confirm("Do you want to close without saving your modifications? ('Ctrl + S' to save)")&&(t.splice(e,1),this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{currentFiles:t})})))}},{key:"closeCurrentConsole",value:function(e){var t=this.state.currentConsoles;t.splice(e,1),this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{currentConsoles:t})}))}},{key:"focusCurrentWindow",value:function(e){var t=this.state.currentWindows,n=t.splice(e,1);t.push.apply(t,Object(be.a)(n)),this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{currentWindows:t})}))}},{key:"focusCurrentFile",value:function(e){var t=this.state.currentFiles,n=t.splice(e,1);t.push.apply(t,Object(be.a)(n)),this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{currentFiles:t})}))}},{key:"focusCurrentRaw",value:function(e){var t=this.state.currentRaw,n=t.splice(e,1);t.push.apply(t,Object(be.a)(n)),this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{currentRaw:t})}))}},{key:"focusCurrentApp",value:function(e){var t=this.state.currentApps,n=t.splice(e,1);t.push.apply(t,Object(be.a)(n)),this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{currentApps:t})}))}},{key:"focusCurrentExplorer",value:function(e){var t=this.state.fileExplorers,n=t.splice(e,1);t.push.apply(t,Object(be.a)(n)),this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{fileExplorers:t})}))}},{key:"focusCurrentConsole",value:function(e){var t=this.state.currentConsoles,n=t.splice(e,1);t.push.apply(t,Object(be.a)(n)),this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{currentConsoles:t})}))}},{key:"closeCurrentWindow",value:function(e){var t=this.state.currentWindows;t[e].saved?(t.splice(e,1),this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{currentWindows:t})}))):window.confirm("Do you want to close without saving your modifications? ('Ctrl + S' to save)")&&(t.splice(e,1),this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{currentWindows:t})})))}},{key:"addCurrentRaw",value:function(e){var t,n=Object(B.a)(this.state.currentRaw);try{for(n.s();!(t=n.n()).done;){if(t.value.metadata.hash===e)return}}catch(a){n.e(a)}finally{n.f()}var r=this.props.fileSystem.getApp(e);this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{currentRaw:[].concat(Object(be.a)(e.currentRaw),[{metadata:r.getMetaData(),value:r.getData(),saved:!0}])})}))}},{key:"addCurrentApp",value:function(e){var t=this.state.currentApps;t.push(e),this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{currentApps:t})}))}},{key:"closeCurrentApp",value:function(e){var t=this.state.currentApps;t.splice(e,1),this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{currentApps:t})}))}},{key:"closeCurrentRaw",value:function(e){var t=this.state.currentRaw;t[e].saved?(t.splice(e,1),this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{currentRaw:t})}))):window.confirm("Do you want to close without saving your modifications? ('Ctrl + S' to save)")&&(t.splice(e,1),this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{currentRaw:t})})))}},{key:"render",value:function(){var e=this,t=this.props.fileSystem,n=this.props.systemAPI,r=this.state.fileExplorers.map((function(n,r){return Object(l.jsx)(Ge,{fileSystem:e.props.fileSystem,setCodeEditorRoot:e.setCodeEditorRoot,setInstallHash:e.setInstallHash,addCurrentFile:e.addCurrentFile,addCurrentWindow:e.addCurrentWindow,closeCurrentWindow:e.closeCurrentWindow,closeCurrentFile:e.closeCurrentFile,saveCurrentFile:e.saveCurrentFile,root:n,id:n,onFocus:function(){return e.focusCurrentExplorer(r)},name:t.getDirectory(n).getName(),closeWindow:function(){return e.closeWindow(r)},openWindow:e.openWindow,systemData:e.props.systemData},n)})),a=this.state.currentRaw.map((function(t,n){return Object(l.jsx)(En,{id:t.metadata.hash,config:{frameColor:_.e.backgroundTheme,textColor:_.e.foregroundTheme,lineHeight:"20px",fontFamily:"roboto",fontSize:15},onFocus:function(){return e.focusCurrentRaw(n)},name:t.metadata.name,value:t.value,saved:t.saved,closeWindow:function(){return e.closeCurrentRaw(n)},height:"100%",width:"100%"},t.metadata.hash)})),o=this.state.currentFiles.map((function(t,n){return Object(l.jsx)(En,{id:t.metadata.hash,config:{frameColor:_.e.backgroundTheme,textColor:_.e.foregroundTheme,lineHeight:"20px",fontFamily:"roboto",fontSize:15},name:t.metadata.name,value:t.value,saved:t.saved,onChangeText:function(t){return e.onChangeText(t,n)},closeWindow:function(){return e.closeCurrentFile(n)},onFocus:function(){return e.focusCurrentFile(n)},saveFile:function(){return e.saveCurrentFile(n)},editable:!0,height:"100%",width:"100%"},t.metadata.hash)})),i=this.state.currentWindows.map((function(t,n){return Object(l.jsx)(In,{name:t.metadata.name,hash:t.metadata.hash,data:t.value,onFocus:function(){return e.focusCurrentWindow(n)},closeWindow:function(){return e.closeCurrentWindow(n)}},t.metadata.hash)})),s=this.state.currentApps.map((function(t,n){return Object(l.jsx)(Mn,{app:t,id:t.getHash()+"_appView",closeWindow:function(){return e.closeCurrentApp(n)},onFocus:function(){return e.focusCurrentApp(n)},handleAppMessage:function(n){return e.executeAppMessage(t.getHash(),n.data)}},t.getHash())})),c=this.state.currentConsoles.map((function(t,n){return Object(l.jsx)(qe,{id:"console_window",top:0,left:0,name:"console",onClick:function(){return e.focusCurrentConsole(n)},onCancel:function(){return e.closeCurrentConsole(n)},children:Object(l.jsx)(pn,{width:"100%",height:"100%",lines:[{value:""}],fileSystem:e.props.fileSystem,evalFunc:e.props.systemAPI.executeCommand})},t.uid)}));return Object(l.jsxs)("div",{className:"desktop",style:Object(f.a)(Object(f.a)(Object(f.a)({},v.fullScreenContainer),v.column),{},{backgroundColor:_.e.backgroundTheme,backgroundSize:"cover",backgroundImage:"url(".concat(this.backgrounds[this.state.backgroundIndex],")")}),children:[Object(l.jsx)(_n,{disconnect:this.props.signOutUser,userInfo:this.props.userInfo,updateUserInfo:this.props.updateUserInfo}),Object(l.jsx)(He,{fileSystem:t,localMode:this.props.localMode,setCodeEditorRoot:this.setCodeEditorRoot,setInstallHash:this.setInstallHash,root:"root",dims:{width:this.state.width,height:this.state.height},openWindow:this.openWindow,addCurrentFile:this.addCurrentFile,addCurrentWindow:this.addCurrentWindow,addCurrentConsole:this.addCurrentConsole,closeCurrentWindow:this.closeCurrentWindow,closeCurrentFile:this.closeCurrentFile,saveCurrentFile:this.saveCurrentFile,systemData:this.props.systemData}),Object(l.jsx)(Xt,{dims:{width:this.state.width,height:this.state.height},fileSystem:t,systemData:this.props.systemData,updateSystemData:this.props.updateSystemData,backgrounds:this.backgrounds,userInfo:this.props.userInfo,localMode:this.props.localMode,appFuncs:{toggleAppExplorer:this.toggleAppExplorer}}),r,o,i,a,s,c,""!==this.state.installHash&&Object(l.jsx)(vn,{userId:this.props.userId,hash:this.state.installHash,localMode:this.props.localMode,name:"App Installer",fileSystem:this.props.fileSystem,handleInstallApp:this.props.handleInstallApp,closeInstaller:function(){return e.setInstallHash("")}}),this.state.codeEditorRoot&&Object(l.jsx)(bn,{systemAPI:n,fileSystem:t,currentHash:this.state.codeEditorRoot,closeWindow:function(){return e.setCodeEditorRoot(null)},executeAppMessage:this.executeAppMessage}),Object(l.jsx)(Dn,{explorerOn:this.state.appExplorerOn,dims:{width:this.state.width,height:this.state.height},fileSystem:t,toggleAppExplorer:this.toggleAppExplorer,addCurrentApp:this.addCurrentApp,addCurrentRaw:this.addCurrentRaw,closeCurrentApp:this.closeCurrentApp,closeCurrentRaw:this.closeCurrentRaw,systemData:this.props.systemData})]})}}]),n}(d.a.Component),Wn=function(e){var t,n,r=[],a=[],o=Object(B.a)(e);try{for(o.s();!(t=o.n()).done;){var i=t.value,s=!((n=i).length<=0)&&"-"===n[0]&&n.slice(1,n.length);s?r.push(s):a.push(i)}}catch(c){o.e(c)}finally{o.f()}return{options:r,args:a}},Tn=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{error:!0,errMsg:e,multi:t}},An=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{error:!1,msg:e,multi:t}},Bn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"Path ".concat(e," not valid")},Un=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"Directory ".concat(e," not found")},Hn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"Directory ".concat(e," not found")},zn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"Option ".concat(e," not valid")},Kn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"Argument '".concat(e,"' not specified")},Xn=function(){return"More arguments than expected"},Vn=function(e){return"Node '".concat(e,"' cannot be removed")},Yn=function(e){return"Node '".concat(e,"' removed")},Jn=function(e,t){if(t=t.slice(),0===e.length)return Tn(Bn(e));"/"===e[0]&&(t=["root"]);var n,r=e.split("/").filter((function(e){return""!==e})),a=Object(B.a)(r);try{for(a.s();!(n=a.n()).done;){var o=n.value;if("."!==o)if(".."===o){if(t.length<=1)return Tn(Bn(e));t.pop()}else t.push(o)}}catch(i){a.e(i)}finally{a.f()}return An(t,!0)},qn={cd:{exec:function(e,t){var n,r=Wn(e),a=r.options,o=r.args,i=!1,s=!1,c=null,l=Object(B.a)(a);try{for(l.s();!(n=l.n()).done;){var u=n.value;if("c"===u)i=!0;else{if("h"!==u)return Tn(zn(u));s=!0}}}catch(f){l.e(f)}finally{l.f()}if(0===o.length)return s?An(qn.cd.help,!0):Tn(Kn("directory"));if(o.length>1)return Tn(Xn());var d=o[0],h=t.getPath();if(s)return Tn(Xn());if((c=Jn(d,h)).error)return Tn(c.errMsg);var p=c.msg;return i&&(c=function(e,t){var n=e.slice(),r=t.getFileSystem(),a=n.pop(),o=r.getDirByPath(n);if(o){var i=r.createNewDirectory(o.getHash(),a);return t.setPath(e),t.setDirectory(r.getDirectory(i)),An()}return Tn(Un(n.join("/")))}(p,t)),(c=function(e,t){var n=e.slice(),r=t.getFileSystem().getDirByPath(n);return r?(t.setPath(e),t.setDirectory(r),An()):Tn(Un(e.join("/")))}(p,t)).error?Tn(c.errMsg):An(["Path changed","Current Path: "+p.join("/")],!0)},help:["cd [OPTIONS] directory"," [OPTIONS]:"," -c: create the specified directory"," -h: show help message"]},ls:{exec:function(e,t){var n,r=Wn(e),a=r.options,o=r.args,i=!1,s=null,c=t.getPath(),l=t.getFileSystem(),u=Object(B.a)(a);try{for(u.s();!(n=u.n()).done;){var d=n.value;if("l"!==d)return Tn(zn(d));i=!0}}catch(g){u.e(g)}finally{u.f()}var h=[];if(0===o.length){var p=l.getDirByPath(c);if(!p)return Tn(Un(c.join("/")));h=l.retrieveDirectoryContent(p.getHash())}else{if(o.length>1)return Tn(Xn());var f=o[0];if((s=Jn(f,c)).error)return Tn(s.errMsg);var b=s.msg,j=l.getDirByPath(b);if(!j)return Tn(Un(b.join("/")));h=l.retrieveDirectoryContent(j.getHash())}return An(i?Object.values(h).map((function(e){return"".concat(e.name," ").concat(e.hash," ").concat(e.type===ee.FILE?"FILE":"DIR"," ").concat(e.type===ee.FILE?l.getFile(e.hash).getSize():l.getDirectory(e.hash).getChildrenCount())})):Object.values(h).map((function(e){return e.name})),!0)},help:["ls [OPTIONS] [directory]"," [OPTIONS]:"," -l: list all the information"]},rm:{exec:function(e,t){var n,r=Wn(e),a=r.options,o=r.args,i=!1,s=null,c=t.getFileSystem(),l=t.getPath(),u=Object(B.a)(a);try{for(u.s();!(n=u.n()).done;){var d=n.value;if("d"!==d)return Tn(zn(d));i=!0}}catch(O){u.e(O)}finally{u.f()}if(0===o.length)return Tn(Kn("node"));var h,p=[],f=Object(B.a)(o);try{for(f.s();!(h=f.n()).done;){var b=h.value;if(!(s=Jn(b,l)))return Tn(s.errMsg);var j=s.msg,g=c.getNodeByPath(j);if(!g)return Tn(Hn(j.join("/")));s=c.removeNode(g.getParent(),g.getHash()),i&&c.deepRemoveNode(g.getHash()),s?p.push(Yn(g.getHash())):p.push(Vn(g.getHash()))}}catch(O){f.e(O)}finally{f.f()}return An(p,!0)},help:["rm [OPTIONS] [directory | file]"," [OPTIONS]:"," -d: deep remove (not in the bin)"]}},Gn=qn,Zn=Object(f.a)({},Gn),$n=function e(t,n,r){var a=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"root";Object(b.a)(this,e),this.changePath=function(e){var t=e.slice(),n=a.fileSystem.getDirByPath(t);return n?(a.path=e,a.directory=n,Object(w.l)()):Object(w.d)("Directory not found")},this.getPath=function(){return a.path.slice()},this.setPath=function(e){a.path=e.slice()},this.getDirectory=function(){return a.directory},this.setDirectory=function(e){a.directory=e},this.getFileSystem=function(){return a.fileSystem},this.createPath=function(e){var t=e.slice(),n=t.pop(),r=a.fileSystem.getDirByPath(t);if(r){var o=a.fileSystem.createNewDirectory(r.getHash(),n);return a.path=e,a.directory=a.fileSystem.getDirectory(o),Object(w.l)()}return Object(w.d)("Parent directory not found")},this.executeCommand=function(e){var t=Object(w.j)(e),n=t.shift(),r=[];if(n in Zn){var o=Zn[n].exec(t,a);return o.error?(o.multi?o.errMsg.map((function(e){return r.push("Error: ".concat(e))})):r.push("Error: ".concat(o.errMsg)),r):(o.multi?o.msg.map((function(e){return r.push(e)})):r.push(o.msg),r)}return r.push("Error: Command '".concat(n,"' not found")),r},this.fileSystem=t,this.systemData=n,this.setSystemData=r,this.path=["root"],this.directory=t.getDirectory(o)},Qn=ce.loadFileSystem,er=ce.syncFileSystem,tr=ce.handleInstallApp,nr=ce.getSystemData,rr=ce.setSystemData,ar=function(e){Object(O.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,e)).state={fileSystem:null,systemAPI:null,systemData:{},windowManager:new fe([],(function(){})),saved:!0},r.setDataChanged=r.setDataChanged.bind(Object(g.a)(r)),r.updateSystemData=r.updateSystemData.bind(Object(g.a)(r)),r}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;if(this.props.localMode){var t=JSON.parse(window.localStorage.getItem("fsData")),n=JSON.parse(window.localStorage.getItem("sysData")),r=new ne(t,[this.setDataChanged],alert.bind(window)),a=n||{};this.setState((function(t){return Object(f.a)(Object(f.a)({},t),{},{fileSystem:r,systemData:a,systemAPI:new $n(r,a,e.updateSystemData)})}))}else Qn(this).then((function(){return nr(e)})).then((function(){e.setState((function(t){return Object(f.a)(Object(f.a)({},t),{},{systemAPI:new $n(t.fileSystem,t.systemData,e.updateSystemData)})}))}))}},{key:"setDataChanged",value:function(){if(this.props.localMode){var e=this.state.fileSystem.outputRawData();window.localStorage.setItem("fsData",JSON.stringify(e))}else er(this)}},{key:"updateSystemData",value:function(e){this.props.localMode?(this.setState((function(t){return Object(f.a)(Object(f.a)({},t),{},{systemData:Object(f.a)(Object(f.a)({},t.systemData),e)})})),window.localStorage.setItem("sysData",JSON.stringify(Object(f.a)(Object(f.a)({},this.state.systemData),e)))):rr(e,this)}},{key:"render",value:function(){var e=this;return Object(l.jsx)("div",{className:"home",style:Object(f.a)(Object(f.a)({},v.fullScreenContainer),{},{backgroundColor:"black"}),children:this.state.fileSystem?Object(l.jsx)(Rn,{userId:this.props.userId,userInfo:this.props.userInfo,localMode:this.props.localMode,updateUserInfo:this.props.updateUserInfo,fileSystem:this.state.fileSystem,systemAPI:this.state.systemAPI,windowManager:this.state.windowManager,signOutUser:this.props.signOutUser,systemData:this.state.systemData,updateSystemData:this.updateSystemData,handleInstallApp:function(t){return tr(t,e)}}):Object(l.jsx)(l.Fragment,{})})}}]),n}(d.a.Component),or={container:{justifyContent:"center",alignItems:"center",backgroundColor:_.e.transparentBlack},modal:{padding:20,borderRadius:20,fontSize:12,width:300,fontFamily:"roboto",backgroundColor:_.e.transparentBlack,color:_.e.transparentWhite,display:"flex",flexDirection:"column"},label:{display:"flex",marginTop:10,marginBottom:5,justifyContent:"center",alignItems:"center",alignSelf:"stretch",flexDirection:"column"},button:{fontSize:12,fontFamily:"roboto",margin:10,padding:10,justifyContent:"center",alignItems:"center",textAlign:"center",borderRadius:10,backgroundColor:_.e.transparentBlack},input:{fontSize:15,borderRadius:5,marginBottom:10,width:"100%",fontFamily:"roboto",textShadow:"0 0 5px white",padding:2,outline:"none",border:"none",backgroundColor:_.e.optionColor,color:_.e.transparentWhite}},ir=function(e){var t=e.signInUser,n=e.signUpUser,r=e.errMsg,a=e.setLocalMode,o=Object(u.useState)(!0),i=Object(je.a)(o,2),s=i[0],c=i[1],d=Object(u.useState)(""),h=Object(je.a)(d,2),p=h[0],b=h[1],j=Object(u.useState)(""),g=Object(je.a)(j,2),O=g[0],m=g[1],y=Object(u.useState)(""),w=Object(je.a)(y,2),k=w[0],D=w[1],S=Object(u.useState)(!1),E=Object(je.a)(S,2),I=E[0],M=E[1],F=function(e){e.target.style.opacity=.5},N=function(e){e.target.style.opacity=1};return s?Object(l.jsx)("div",{style:Object(f.a)(Object(f.a)({},v.fullScreenContainer),or.container),children:Object(l.jsxs)("div",{style:or.modal,children:[Object(l.jsx)("div",{style:or.label,children:"Email"}),Object(l.jsx)("input",{type:"email",value:O,onChange:function(e){return m(e.target.value)},style:or.input,autoComplete:"on"}),Object(l.jsx)("div",{style:or.label,children:"Password"}),Object(l.jsx)("input",{type:"password",value:k,onChange:function(e){return D(e.target.value)},style:or.input,autoComplete:"on"}),Object(l.jsx)("div",{style:or.button,onMouseOver:F,onMouseOut:N,onClick:Object(C.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(O,k);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:"Sign In"}),Object(l.jsx)("div",{style:Object(f.a)(Object(f.a)({},or.label),{},{textAlign:"center"}),onMouseOver:F,onMouseOut:N,onClick:function(){return c(!s)},children:Object(l.jsx)("u",{children:"Create an account?"})}),Object(l.jsx)("div",{style:Object(f.a)(Object(f.a)({},or.label),{},{textAlign:"center"}),onMouseOver:F,onMouseOut:N,onClick:function(){a(!0)},children:Object(l.jsx)("u",{children:"No connection? Try local mode"})}),""!==r&&Object(l.jsx)("div",{style:Object(f.a)(Object(f.a)({},or.label),{},{color:"red",textAlign:"center"}),children:r})]})}):Object(l.jsx)("div",{style:Object(f.a)(Object(f.a)({},v.fullScreenContainer),or.container),children:Object(l.jsxs)("div",{style:or.modal,children:[Object(l.jsx)("div",{style:or.label,children:"Username"}),Object(l.jsx)("input",{type:"text",value:p,onChange:function(e){return b(e.target.value)},style:or.input}),Object(l.jsx)("div",{style:or.label,children:"Email"}),Object(l.jsx)("input",{type:"email",value:O,onChange:function(e){return m(e.target.value)},style:or.input}),Object(l.jsx)("div",{style:or.label,children:"Password"}),Object(l.jsx)("input",{type:"password",value:k,onChange:function(e){return D(e.target.value)},style:or.input}),Object(l.jsx)("div",{style:or.label,children:"Register as an developer"}),Object(l.jsx)("div",{style:or.label,children:Object(l.jsx)(Rt.a,{thumbStyle:{boxShadow:"0px 0px 2px white"},colors:{active:{base:"rgb(207,221,245)",hover:"rgb(177, 191, 215)"},inactive:{base:"rgb(65,66,68)",hover:"rgb(95,96,98)"}},inactiveLabel:"",activeLabel:"",value:I,onToggle:function(e){return M(!e)}})}),Object(l.jsx)("div",{style:or.button,onMouseOver:F,onMouseOut:N,onClick:Object(C.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(p,O,k,I?_.c.DEV:_.c.IND);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:"Create Account"}),Object(l.jsx)("div",{style:Object(f.a)(Object(f.a)({},or.label),{},{textAlign:"center"}),onMouseOver:F,onMouseOut:N,onClick:function(){return c(!s)},children:Object(l.jsx)("u",{children:"Already have an account?"})}),""!==r&&Object(l.jsx)("div",{style:Object(f.a)(Object(f.a)({},or.label),{},{color:"red",textAlign:"center"}),children:r})]})})},sr=n(63),cr={fontSize:25,fontFamily:"roboto",margin:10,borderRadius:"50%",width:40,height:40,display:"flex",justifyContent:"center",alignItems:"center",color:_.e.transparentBlack,boxShadow:"0 0 5px black"},lr=function(e){var t=e.style;return Object(l.jsxs)("div",{style:Object(f.a)(Object(f.a)({},v.fullScreenContainer),{},{backgroundColor:_.e.backgroundTheme},t),children:[Object(l.jsx)(sr.a.div,{style:Object(f.a)({},cr),animate:{backgroundColor:["#CCCCCC","#FF0000","#CCCCCC","#CCCCCC","#CCCCCC","#CCCCCC","#CCCCCC"],scale:[1,1.5,1,1,1,1,1],rotate:[0,60,120,180,240,300,360]},transition:{type:"spring",duration:2,repeat:1/0,repeatDelay:1},children:"W"}),Object(l.jsx)(sr.a.div,{style:Object(f.a)({},cr),animate:{backgroundColor:["#CCCCCC","#CCCCCC","#FF0000","#CCCCCC","#CCCCCC","#CCCCCC","#CCCCCC"],scale:[1,1,1.5,1,1,1,1],rotate:[0,120,240,360,480,600,720]},transition:{type:"spring",duration:2,repeat:1/0,repeatDelay:1},children:"E"}),Object(l.jsx)(sr.a.div,{style:Object(f.a)({},cr),animate:{backgroundColor:["#CCCCCC","#CCCCCC","#CCCCCC","#FF0000","#CCCCCC","#CCCCCC","#CCCCCC"],scale:[1,1,1,1.5,1,1,1],rotate:[0,180,360,540,720,900,1080]},transition:{type:"spring",duration:2,repeat:1/0,repeatDelay:1},children:"B"}),Object(l.jsx)(sr.a.div,{style:Object(f.a)({},cr),animate:{backgroundColor:["#CCCCCC","#CCCCCC","#CCCCCC","#CCCCCC","#FF0000","#CCCCCC","#CCCCCC"],scale:[1,1,1,1,1.5,1,1],rotate:[0,120,240,360,480,600,720]},transition:{type:"spring",duration:2,repeat:1/0,repeatDelay:1},children:"O"}),Object(l.jsx)(sr.a.div,{style:Object(f.a)({},cr),animate:{backgroundColor:["#CCCCCC","#CCCCCC","#CCCCCC","#CCCCCC","#CCCCCC","#FF0000","#CCCCCC"],scale:[1,1,1,1,1,1.5,1],rotate:[0,60,120,180,240,300,360]},transition:{type:"spring",duration:2,repeat:1/0,repeatDelay:1},children:"S"})]})},ur=n(100),dr=function(e){Object(ur.a)(e),Object(u.useEffect)((function(){document.addEventListener("mousemove",n),document.addEventListener("mousedown",r),document.addEventListener("mouseup",a)}),[]);var t=Object(u.useRef)(),n=function(e){t.current&&(t.current.style.left=e.clientX+"px",t.current.style.top=e.clientY+"px")},r=function(e){t.current&&(t.current.style.backgroundColor="red")},a=function(e){t.current&&(t.current.style.backgroundColor="white")};return Object(l.jsx)("div",{ref:t,style:{position:"absolute",zIndex:9999,color:"red",pointerEvents:"none",height:5,width:5,borderRadius:3,backgroundColor:"white",boxShadow:"0 0 5px black",transform:"translate(-50%, -50%)"}})},hr=(n(117),ce.signUpUser),pr=ce.signInUser,fr=ce.signOutUser,br=ce.updateUserInfo,jr=function(e){Object(O.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,e)).host="https://54.67.14.28:8081",r.state={userId:null,userInfo:{},errMsgs:{},loading:!0,localMode:!1},r.setLoginErrMsg=r.setLoginErrMsg.bind(Object(g.a)(r)),r.setLoading=r.setLoading.bind(Object(g.a)(r)),r.setLocalMode=r.setLocalMode.bind(Object(g.a)(r)),r}return Object(j.a)(n,[{key:"setLoginErrMsg",value:function(e){this.setState((function(t){return Object(f.a)(Object(f.a)({},t),{},{errMsgs:Object(f.a)(Object(f.a)({},t.errMsgs),{},{login:e})})}))}},{key:"setLoading",value:function(e){this.setState((function(t){return Object(f.a)(Object(f.a)({},t),{},{loading:e})}))}},{key:"setLocalMode",value:function(e){this.setState((function(t){return Object(f.a)(Object(f.a)({},t),{},{localMode:e})}))}},{key:"componentDidMount",value:function(){pr(null,null,!0,this),k()}},{key:"render",value:function(){var e=this;return this.state.loading?Object(l.jsx)(lr,{}):this.state.userId||this.state.localMode?Object(l.jsxs)("div",{style:v.fullScreenContainer,children:[Object(l.jsx)(dr,{}),Object(l.jsx)(ar,{userId:this.state.userId,userInfo:this.state.userInfo,localMode:this.state.localMode,updateUserInfo:function(t){e.state.localMode?e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{userInfo:t})})):br(t,e)},host:this.host,signOutUser:function(){return fr(e)}})]}):Object(l.jsxs)("div",{style:v.fullScreenContainer,children:[Object(l.jsx)(dr,{}),Object(l.jsx)(lr,{style:{backgroundColor:"transparent",height:"50%"}}),Object(l.jsx)(ir,{signInUser:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return pr(t,n,r,e)},signUpUser:function(t,n,r,a){return hr(t,n,r,a,e)},setLocalMode:this.setLocalMode,errMsg:this.state.errMsgs.login,setErrMsg:this.state.setLoginErrMsg})]})}}]),n}(d.a.Component);p.a.render(Object(l.jsx)(d.a.StrictMode,{children:Object(l.jsx)(jr,{})}),document.getElementById("root"))},3:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return s}));var r={titleColor:"#777777",titleTextColor:"#EEEEEE",optionColor:"#333333",optionTextColor:"#EEEEEE",contentColor:"#555555",contentTextColor:"#EEEEEE",borderColor:"#AAAAAA",transparentBlack:"#00000080",transparentWhite:"#FFFFFF80",windowBackground:"#AAAAAA",backgroundTheme:"#444444",foregroundTheme:"#EEEEEE",red:"#D45548",green:"#48D465 ",yellow:"#D0D448"},a={IND:0,DEV:1,ORG:2},o={TXT:0,IMG:1,VID:2,AUD:3,XML:4,JS:5,CSS:6,PPT:7,DOC:8,XLS:9,UNKNOWN:10},i={txtExts:["txt","log","rtf"],imgExts:["jpg","jpeg","png","gif","pdf","raw"],vidExts:["mp4","m4v","avi","webm","wav"],audExts:["mp3"],xmlExts:["xml","htm","html"],jsExts:["js","jsx","ts"],cssExts:["css","scss"],pptExts:["ppt","pptx"],docExts:["doc","docx"],xlsExts:["xls","xlsx"],otherExts:[]},s={API_KEY:"AIzaSyAgZDhfr8kDvpZxhupSWsVz2dRFpWXw7UE",CLIENT_ID:"694420543975-2o5hqp8h6nc67ggejq4p2gjsr60i7ir6.apps.googleusercontent.com"}},87:function(e,t,n){},9:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return UUID})),__webpack_require__.d(__webpack_exports__,"i",(function(){return lString})),__webpack_require__.d(__webpack_exports__,"m",(function(){return validEmail})),__webpack_require__.d(__webpack_exports__,"o",(function(){return validUserName})),__webpack_require__.d(__webpack_exports__,"n",(function(){return validPassword})),__webpack_require__.d(__webpack_exports__,"h",(function(){return getSize})),__webpack_require__.d(__webpack_exports__,"b",(function(){return blobToBase64})),__webpack_require__.d(__webpack_exports__,"e",(function(){return formatDate})),__webpack_require__.d(__webpack_exports__,"c",(function(){return blobToTxt})),__webpack_require__.d(__webpack_exports__,"l",(function(){return successRes})),__webpack_require__.d(__webpack_exports__,"d",(function(){return errorRes})),__webpack_require__.d(__webpack_exports__,"k",(function(){return sleep})),__webpack_require__.d(__webpack_exports__,"f",(function(){return getFileType})),__webpack_require__.d(__webpack_exports__,"g",(function(){return getIP})),__webpack_require__.d(__webpack_exports__,"j",(function(){return parseCmd}));var E_UCLA_projects_WebOS_Interface_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11),E_UCLA_projects_WebOS_Interface_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(E_UCLA_projects_WebOS_Interface_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),E_UCLA_projects_WebOS_Interface_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(16),E_UCLA_projects_WebOS_Interface_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(13),_config_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3),UUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},lString=function(e,t,n){return e.length>t?e.substr(0,t-n.length)+n:e},evaluate=function evaluate(data){try{return eval(data)}catch(e){return e.message}},validEmail=function(e){return/\S+@\S+\.\S+/.test(e)},validUserName=function(e){return/^[a-zA-Z0-9]+$/i.test(e)&&e.length>=8&&e.length<=16},validPassword=function(e){return/^[a-zA-Z0-9]+$/i.test(e)&&e.length>=8&&e.length<=16},getSize=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var n=1024,r=t<0?0:t,a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],o=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,o)).toFixed(r))+" "+a[o]},blobToBase64=function(e){var t=new FileReader;return t.readAsDataURL(e),new Promise((function(e){t.onloadend=function(){e(t.result)}}))},formatDate=function(e){return{year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate(),second:e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds(),hour:e.getHours()<10?"0"+e.getHours():e.getHours(),minute:e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes()}},blobToBin=function(e){var t=new FileReader;return t.readAsBinaryString(e),new Promise((function(e){t.onloadend=function(){e(t.result)}}))},blobToTxt=function(e){var t=new FileReader;return t.readAsText(e),new Promise((function(e){t.onloadend=function(){e(t.result)}}))},blobToArrayBuffer=function(e){var t=new FileReader;return t.readAsArrayBuffer(e),new Promise((function(e){t.onloadend=function(){e(t.result)}}))},successRes=function(e){return{error:!1,data:e}},errorRes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{error:!0,errMsg:e,e:t}},sleep=function(e){return new Promise((function(t){return setTimeout(t,e)}))},getFileType=function(e){if(!e)return _config_js__WEBPACK_IMPORTED_MODULE_3__.b.TXT;e=e.toLowerCase();var t,n=Object(E_UCLA_projects_WebOS_Interface_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_2__.a)(_config_js__WEBPACK_IMPORTED_MODULE_3__.a.txtExts);try{for(n.s();!(t=n.n()).done;){if(t.value===e)return _config_js__WEBPACK_IMPORTED_MODULE_3__.b.TXT}}catch(C){n.e(C)}finally{n.f()}var r,a=Object(E_UCLA_projects_WebOS_Interface_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_2__.a)(_config_js__WEBPACK_IMPORTED_MODULE_3__.a.imgExts);try{for(a.s();!(r=a.n()).done;){if(r.value===e)return _config_js__WEBPACK_IMPORTED_MODULE_3__.b.IMG}}catch(C){a.e(C)}finally{a.f()}var o,i=Object(E_UCLA_projects_WebOS_Interface_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_2__.a)(_config_js__WEBPACK_IMPORTED_MODULE_3__.a.vidExts);try{for(i.s();!(o=i.n()).done;){if(o.value===e)return _config_js__WEBPACK_IMPORTED_MODULE_3__.b.VID}}catch(C){i.e(C)}finally{i.f()}var s,c=Object(E_UCLA_projects_WebOS_Interface_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_2__.a)(_config_js__WEBPACK_IMPORTED_MODULE_3__.a.audExts);try{for(c.s();!(s=c.n()).done;){if(s.value===e)return _config_js__WEBPACK_IMPORTED_MODULE_3__.b.AUD}}catch(C){c.e(C)}finally{c.f()}var l,u=Object(E_UCLA_projects_WebOS_Interface_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_2__.a)(_config_js__WEBPACK_IMPORTED_MODULE_3__.a.xmlExts);try{for(u.s();!(l=u.n()).done;){if(l.value===e)return _config_js__WEBPACK_IMPORTED_MODULE_3__.b.XML}}catch(C){u.e(C)}finally{u.f()}var d,h=Object(E_UCLA_projects_WebOS_Interface_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_2__.a)(_config_js__WEBPACK_IMPORTED_MODULE_3__.a.jsExts);try{for(h.s();!(d=h.n()).done;){if(d.value===e)return _config_js__WEBPACK_IMPORTED_MODULE_3__.b.JS}}catch(C){h.e(C)}finally{h.f()}var p,f=Object(E_UCLA_projects_WebOS_Interface_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_2__.a)(_config_js__WEBPACK_IMPORTED_MODULE_3__.a.docExts);try{for(f.s();!(p=f.n()).done;){if(p.value===e)return _config_js__WEBPACK_IMPORTED_MODULE_3__.b.DOC}}catch(C){f.e(C)}finally{f.f()}var b,j=Object(E_UCLA_projects_WebOS_Interface_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_2__.a)(_config_js__WEBPACK_IMPORTED_MODULE_3__.a.pptExts);try{for(j.s();!(b=j.n()).done;){if(b.value===e)return _config_js__WEBPACK_IMPORTED_MODULE_3__.b.PPT}}catch(C){j.e(C)}finally{j.f()}var g,O=Object(E_UCLA_projects_WebOS_Interface_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_2__.a)(_config_js__WEBPACK_IMPORTED_MODULE_3__.a.xlsExts);try{for(O.s();!(g=O.n()).done;){if(g.value===e)return _config_js__WEBPACK_IMPORTED_MODULE_3__.b.XLS}}catch(C){O.e(C)}finally{O.f()}var m,v=Object(E_UCLA_projects_WebOS_Interface_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_2__.a)(_config_js__WEBPACK_IMPORTED_MODULE_3__.a.otherExts);try{for(v.s();!(m=v.n()).done;){if(m.value===e)return _config_js__WEBPACK_IMPORTED_MODULE_3__.b.OTHER}}catch(C){v.e(C)}finally{v.f()}var y,x=Object(E_UCLA_projects_WebOS_Interface_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_2__.a)(_config_js__WEBPACK_IMPORTED_MODULE_3__.a.cssExts);try{for(x.s();!(y=x.n()).done;){if(y.value===e)return _config_js__WEBPACK_IMPORTED_MODULE_3__.b.CSS}}catch(C){x.e(C)}finally{x.f()}return _config_js__WEBPACK_IMPORTED_MODULE_3__.b.UNKNOWN},getIP=function(){var e=Object(E_UCLA_projects_WebOS_Interface_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(E_UCLA_projects_WebOS_Interface_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function e(){var t,n;return E_UCLA_projects_WebOS_Interface_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.ipify.org",{method:"GET"});case 2:return t=e.sent,e.next=5,t.text();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),parseCmd=function(e){for(var t=0,n=[],r="";t<e.length;)if('"'===e[t]){for(t++;t<e.length&&'"'!==e[t];)r+=e[t],t++;r.length>0&&(n.push(r),r=""),t++}else if(" "===e[t]||"\xa0"===e[t]){if(""===r){t++;continue}r.length>0&&(n.push(r),r=""),t++}else r+=e[t],t++;return r.length>0&&(n.push(r),r=""),n}}},[[118,1,2]]]);
//# sourceMappingURL=main.633cbd04.chunk.js.map